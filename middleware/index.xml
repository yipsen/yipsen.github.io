<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Middlewares on Yipsen Ye</title>
    <link>http://localhost:8080/middleware/</link>
    <description>Recent content in Middlewares on Yipsen Ye</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Sun, 05 Mar 2023 08:34:41 +0800</lastBuildDate>
    <atom:link href="http://localhost:8080/middleware/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>CentOS 安装 Redis 7.0</title>
      <link>http://localhost:8080/middleware/redis/centos-%E5%AE%89%E8%A3%85-redis-7.0/</link>
      <pubDate>Sun, 05 Mar 2023 08:34:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/redis/centos-%E5%AE%89%E8%A3%85-redis-7.0/</guid>
      <description>&lt;h2 id=&#34;一环境版本&#34;&gt;一、环境版本&lt;/h2&gt;&#xA;&lt;p&gt;OS: Linux kube-worker-02 5.4.210-1.el7.elrepo.x86_64 #1 SMP Tue Aug 9 17:41:27 EDT 2022 x86_64 x86_64 x86_64 GNU/Linux&#xA;Redis: 7.0.8&lt;/p&gt;&#xA;&lt;p&gt;下载: ``&lt;/p&gt;&#xA;&lt;p&gt;解压: &lt;code&gt;tar -zxvf redis-7.0.8.tar.gz&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;移动: &lt;code&gt;mv redis-7.0.8 /volume2/services/&lt;/code&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;二安装依赖项&#34;&gt;二、安装依赖项&lt;/h2&gt;&#xA;&lt;h3 id=&#34;gcc&#34;&gt;gcc&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 安装gcc&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum install gcc-c++&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看版本&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc -v&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 版本低于 9 需要进行升级&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 升级 gcc&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum -y install centos-release-scl&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;scl enable devtoolset-9 bash&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 以上为临时启用，长期使用gcc 9.1执行下面命令生效&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;source /opt/rh/devtoolset-9/enable&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt;/etc/profile&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看版本&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc -v&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;应对错误：cc: command not found&lt;/p&gt;</description>
    </item>
    <item>
      <title>ElasticSearch 备忘录</title>
      <link>http://localhost:8080/middleware/elk/elasticsearch-%E5%A4%87%E5%BF%98%E5%BD%95/</link>
      <pubDate>Wed, 01 Mar 2023 08:34:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/elk/elasticsearch-%E5%A4%87%E5%BF%98%E5%BD%95/</guid>
      <description>&lt;h2 id=&#34;查询索引&#34;&gt;查询索引&lt;/h2&gt;&#xA;&lt;p&gt;curl &amp;ndash;user elastic:123456 &amp;ldquo;http://localhost:9200/_cat/indices?v&amp;rdquo;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Filebeat 备忘录</title>
      <link>http://localhost:8080/middleware/elk/filebeat-%E5%A4%87%E5%BF%98%E5%BD%95/</link>
      <pubDate>Wed, 01 Mar 2023 08:34:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/elk/filebeat-%E5%A4%87%E5%BF%98%E5%BD%95/</guid>
      <description>&lt;h2 id=&#34;测试&#34;&gt;测试&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;测试配置&lt;/p&gt;&#xA;&lt;p&gt;测试命令&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;filebeat -c /opt/filebeat/filebeat.yml test config&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;测试结果&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Config OK&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;测试输出&lt;/p&gt;&#xA;&lt;p&gt;测试命令&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;filebeat -c /opt/filebeat/filebeat.yml test output&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;测试结果&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Kafka: 192.168.217.131:9092...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;parse host... OK&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dns lookup... OK&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;addresses: 192.168.217.131&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dial up... OK&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
    <item>
      <title>Windows 安装 ELK</title>
      <link>http://localhost:8080/middleware/elk/windows-%E5%AE%89%E8%A3%85-elk/</link>
      <pubDate>Wed, 01 Mar 2023 08:34:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/elk/windows-%E5%AE%89%E8%A3%85-elk/</guid>
      <description></description>
    </item>
    <item>
      <title>记一次 Redis 主备断链的故障恢复</title>
      <link>http://localhost:8080/middleware/redis/%E8%AE%B0%E4%B8%80%E6%AC%A1-redis-%E4%B8%BB%E5%A4%87%E6%96%AD%E9%93%BE%E7%9A%84%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D/</link>
      <pubDate>Tue, 15 Nov 2022 18:34:43 +0000</pubDate>
      <guid>http://localhost:8080/middleware/redis/%E8%AE%B0%E4%B8%80%E6%AC%A1-redis-%E4%B8%BB%E5%A4%87%E6%96%AD%E9%93%BE%E7%9A%84%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D/</guid>
      <description>&lt;h2 id=&#34;环境信息&#34;&gt;环境信息&lt;/h2&gt;&#xA;&lt;p&gt;IM 最近会话数据由于更新频繁且数据重要度相对较低，采用 Redis 存储。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Redis 机器规格&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;器件&lt;/th&gt;&#xA;          &lt;th&gt;型号&lt;/th&gt;&#xA;          &lt;th&gt;规格&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;CPU&lt;/td&gt;&#xA;          &lt;td&gt;Intel(R) Xeon(R) Gold 6161 CPU @ 2.20GHz&lt;/td&gt;&#xA;          &lt;td&gt;16 * 4 Cores&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Memory&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;62GB&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;故障现象&#34;&gt;故障现象&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;【问题现象】&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;业务巡检发现：2022-11-15 16:00 最近会话 Redis 集群（6节点，3主3从集群模式部署）从库与主库断链，数据复制状态异常，业务正常。&#xA;（slave 侧 redis 连接 master 状态显示为： master_link_status:down, 集群 slave 和 master 状态同步异常）&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;【问题根因】&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;通过查看主库日志发现报错：&lt;code&gt;psync scheduled to be closed ASAP for overcoming of output buffer limits&lt;/code&gt;。从库向主库进行 psync 时，因超过主库的 output buffer limits 限制，导致连接被中断。而之所以报该错误，是因为设置的主从同步缓冲区已经远小于主从库之间的数据差异，主库为了保护自身不受影响，主动断开了从库的连接。而断开连接后，主从之间的差异进一步拉大，以至于主从之间已无法连接上。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;【解决方案】&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;在主、备侧 Redis 配置 config set client-output-buffer-limit &amp;ldquo;slave 2684254560 671088640 600&amp;rdquo; 后解决，恢复主从连接与数据复制。（256MB 扩大到 2.5GB）&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kafka 部署</title>
      <link>http://localhost:8080/middleware/kafka/kafka-%E9%83%A8%E7%BD%B2/</link>
      <pubDate>Sat, 05 Mar 2022 08:34:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/kafka/kafka-%E9%83%A8%E7%BD%B2/</guid>
      <description>&lt;h2 id=&#34;部署&#34;&gt;部署&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 解压包&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar -xzvf kafka_2.13-3.2.1.tgz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 移动到指定目录&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mv kafka_2.13-3.2.1 /volume2/services/&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 修改配置&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd kafka_2.13-3.2.1/&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vi server.properties&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 修改 advertised.listeners=PLAINTEXT://your.host.name:9092 为 advertised.listeners=PLAINTEXT://192.168.127.131:9092&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 开启自动创建topic&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vi server.properties&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 追加配置`auto.create.topics.enable=true`到server.properties文件末尾&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 启动zookeeper&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sh zookeeper-server-start.sh -daemon ../config/zookeeper.properties&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 启动kafka&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sh kafka-server-start.sh -daemon ../config/server.properties&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;常用指令&#34;&gt;常用指令&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看 TOPIC 列表&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sh kafka-topics.sh --bootstrap-server localhost:9092 --list&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看 TOPIC 详情&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sh kafka-topics.sh --bootstrap-server localhost:9092 --describe T_FILEBEAT_LOG&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Topic: T_FILEBEAT_LOG   TopicId: _X039cbbQVaK1XKHxzzFMg PartitionCount: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;       ReplicationFactor: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;    Configs: segment.bytes&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1073741824&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Topic: T_FILEBEAT_LOG   Partition: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;    Leader: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;       Replicas: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     Isr: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 消费指定 TOPIC 内容，--from-beginning 表示消费全部&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sh kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic T_FILEBEAT_LOG --from-beginning&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Redis 命令备忘录</title>
      <link>http://localhost:8080/middleware/redis/redis-%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95/</link>
      <pubDate>Sat, 05 Mar 2022 08:34:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/redis/redis-%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95/</guid>
      <description>&lt;h3 id=&#34;密码登录&#34;&gt;密码登录&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 命令模式密码登录&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./redis-cli -h localhost -p &lt;span style=&#34;color:#ae81ff&#34;&gt;6379&lt;/span&gt; -a &amp;lt;password&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 进入控制台之后&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./redis-cli -h localhost -p &lt;span style=&#34;color:#ae81ff&#34;&gt;6379&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 再密码登录&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;auth &amp;lt;password&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;查看大-key&#34;&gt;查看大 KEY&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;查看配置信息&#34;&gt;查看配置信息&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;查看占用内存资源情况&#34;&gt;查看占用内存资源情况&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;查看集群节点信息&#34;&gt;查看集群节点信息&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看集群节点情况：需要该主从组合以集群模式启动&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cluster nodes&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;查看哨兵节点信息&#34;&gt;查看哨兵节点信息&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 进入哨兵进程，同样采用 ./redis-cli 进入控制台&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看 mymaster 全部哨兵节点信息，mymaster 是哨兵监听时自定义的 redis 主从组合&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sentinel sentinels mymaster&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看 mymaster 下的 master 节点信息（被当前哨兵监听的主从组合中的主节点）&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sentinel master mymaster&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看 mymaster 下的 slaves 节点信息（被当前哨兵监听的主从组合中的从节点列表）&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sentinel slaves mymaster&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 进入主从进程，同样采用 ./redis-cli 进入控制台&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看当前节点的主从节点信息，以普通主从模式部署时也可以用&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;info replication&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Redis 集群清空指定 KEY</title>
      <link>http://localhost:8080/middleware/redis/redis-%E9%9B%86%E7%BE%A4%E6%B8%85%E7%A9%BA%E6%8C%87%E5%AE%9A-key/</link>
      <pubDate>Sat, 05 Mar 2022 08:34:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/redis/redis-%E9%9B%86%E7%BE%A4%E6%B8%85%E7%A9%BA%E6%8C%87%E5%AE%9A-key/</guid>
      <description>&lt;h3 id=&#34;1-查看-redis-集群有多少个-master-节点&#34;&gt;1. 查看 redis 集群有多少个 master 节点&lt;/h3&gt;&#xA;&lt;p&gt;方式一： 接入控制台后查询&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;进入 redis 客户端控制台&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./redis-cli -h 192.168.3.117 -p &lt;span style=&#34;color:#ae81ff&#34;&gt;6379&lt;/span&gt; -c&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;进入后执行查询命令&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 该命令会列出所有的节点包括 slave 的，所以需要额外挑出 master 的节点&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cluster nodes&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;方式二： 命令行直接查询&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./redis-cli cluster nodes | grep master&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-进入每台-master-节点删除所有指定的目标-key&#34;&gt;2. 进入每台 master 节点，删除所有指定的目标 KEY&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./redis-cli -h 192.168.3.117 -p &lt;span style=&#34;color:#ae81ff&#34;&gt;6379&lt;/span&gt; -a &amp;lt;password&amp;gt; -c keys &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;STAFF:INFO:*&amp;#39;&lt;/span&gt; | xargs -r -n1 -t ./redis-cli -h 192.168.3.117 -p &lt;span style=&#34;color:#ae81ff&#34;&gt;6379&lt;/span&gt; -a &amp;lt;password&amp;gt; -c del&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;注：每个 master 节点都要执行一遍删除命令，其中&lt;code&gt;STAFF:INFO:*&lt;/code&gt;为要删除的目标 KEY， 本例是使用了正则通配符，但需要注意的是本例采用&lt;code&gt;keys&lt;/code&gt;命令可能导致 redis 卡死，最好采用&lt;code&gt;scan&lt;/code&gt;命令替换。&lt;/p&gt;&#xA;&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Redis 相关常见异常</title>
      <link>http://localhost:8080/middleware/redis/redis-%E7%9B%B8%E5%85%B3%E5%B8%B8%E8%A7%81%E5%BC%82%E5%B8%B8/</link>
      <pubDate>Sun, 06 Feb 2022 16:31:43 +0000</pubDate>
      <guid>http://localhost:8080/middleware/redis/redis-%E7%9B%B8%E5%85%B3%E5%B8%B8%E8%A7%81%E5%BC%82%E5%B8%B8/</guid>
      <description></description>
    </item>
    <item>
      <title>MySQL Linux 免安装版部署</title>
      <link>http://localhost:8080/middleware/mysql/mysql-linux-%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%83%A8%E7%BD%B2/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-linux-%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%83%A8%E7%BD%B2/</guid>
      <description>&lt;h2 id=&#34;下载-tar-包&#34;&gt;下载 tar 包&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-5.7.41-linux-glibc2.12-x86_64.tar.gz&#34;&gt;https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-5.7.41-linux-glibc2.12-x86_64.tar.gz&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;上传 tar 包到服务器&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;ol start=&#34;2&#34;&gt;&#xA;&lt;li&gt;安装&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 解压缩&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar -xzvf mysql-5.7.41-linux-glibc2.12-x86_64.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 移动到目标文件夹，本例为 /volume2/services/mysql-5.7.41&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mv mysql-5.7.41-linux-glibc2.12-x86_64 /volume2/services/mysql-5.7.41&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 创建数据目录&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd /volume2/services/mysql-5.7.41/&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir data&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 创建执行用户&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;useradd mysql&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chown mysql:mysql -R /volume2/services/mysql-5.7.41/&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chmod &lt;span style=&#34;color:#ae81ff&#34;&gt;755&lt;/span&gt; -R /volume2/services/mysql-5.7.41/&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 初始化&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./mysqld --user&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;mysql --basedir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/volume2/services/mysql-5.7.41/ --datadir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/volume2/services/mysql-5.7.41/data/ --initialize&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 修改启动脚本&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim ./support-files/mysql.server&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 修改 MySQL 服务器配置&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim /etc/my.cnf&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 启动 MySQL 服务&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./support-files/mysql.server start&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查询启动状态&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./support-files/mysql.server status&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;访问&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 访问 MySQL&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./bin/mysql -u root -p&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>MySQL Windows 免安装版部署</title>
      <link>http://localhost:8080/middleware/mysql/mysql-windows-%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%83%A8%E7%BD%B2/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-windows-%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%83%A8%E7%BD%B2/</guid>
      <description>&lt;h2 id=&#34;下载安装包社区免安装版&#34;&gt;下载安装包（社区免安装版）&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;MySQL 官方下载页面：&lt;a href=&#34;https://downloads.mysql.com/archives/community/&#34;&gt;https://downloads.mysql.com/archives/community/&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;MySQL 5.7.16 版下载地址：&lt;a href=&#34;https://cdn.mysql.com/archives/mysql-5.7/mysql-5.7.16-winx64.zip&#34;&gt;https://cdn.mysql.com/archives/mysql-5.7/mysql-5.7.16-winx64.zip&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;解压安装包&lt;code&gt;mysql-5.7.16-winx64.zip&lt;/code&gt;到指定路径（自由选择），例如：&lt;code&gt;D:\Program Files\MySQL5&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;新建数据目录：&lt;code&gt;D:\Program Files\MySQL5\data&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;拷贝&lt;code&gt;D:\Program Files\MySQL5\my-default.ini&lt;/code&gt;到&lt;code&gt;C:\Windows&lt;/code&gt;，并重命名为：&lt;code&gt;my.ini&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;修改&lt;code&gt;my.ini&lt;/code&gt;文件内容如下：&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-conf&#34; data-lang=&#34;conf&#34;&gt;# For advice on how to change settings please see&#xD;&#xA;# http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html&#xD;&#xA;# *** DO NOT EDIT THIS FILE. It&amp;#39;s a template which will be copied to the&#xD;&#xA;# *** default location during install, and will be replaced if you&#xD;&#xA;# *** upgrade to a newer version of MySQL.&#xD;&#xA;&#xA;[mysqld]&#xD;&#xA;&#xA;# Remove leading # and set to the amount of RAM for the most important data&#xD;&#xA;# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.&#xD;&#xA;# innodb_buffer_pool_size = 128M&#xD;&#xA;&#xA;# Remove leading # to turn on a very important data integrity option: logging&#xD;&#xA;# changes to the binary log between backups.&#xD;&#xA;# log_bin&#xD;&#xA;&#xA;# These are commonly set, remove the # and set as required.&#xD;&#xA;basedir = D:\Program Files\MySQL5&#xD;&#xA;datadir = D:\Program Files\MySQL5\data&#xD;&#xA;# port = .....&#xD;&#xA;# server_id = .....&#xD;&#xA;&#xA;&#xA;# Remove leading # to set options mainly useful for reporting servers.&#xD;&#xA;# The server defaults are faster for transactions and fast SELECTs.&#xD;&#xA;# Adjust sizes as needed, experiment to find the optimal values.&#xD;&#xA;# join_buffer_size = 128M&#xD;&#xA;# sort_buffer_size = 2M&#xD;&#xA;# read_rnd_buffer_size = 2M &#xD;&#xA;&#xA;sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES &#xD;&#xA;&#xA;[WinMySQLadmin]&#xD;&#xA;Server=D:\Program Files\MySQL5\bin\mysqld.exe&#xD;&#xA;&#xA;user=root&#xD;&#xA;password=123456&#xD;&#xA;&#xA;[client]&#xD;&#xA;default_character_set=utf8&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;执行初始化命令&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQL 一些配置</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE/</guid>
      <description>&lt;h3 id=&#34;打开慢-sql-配置&#34;&gt;打开慢 SQL 配置&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;-- 查看是否开了慢 SQL 配置&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;show&lt;/span&gt; variables &lt;span style=&#34;color:#66d9ef&#34;&gt;like&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;show_query%&amp;#39;&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;show&lt;/span&gt; variables &lt;span style=&#34;color:#66d9ef&#34;&gt;like&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;long_query_time&amp;#39;&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;-- 如果没有配置，通过以下语句配置&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;set&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;global&lt;/span&gt; show_query_log&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ON&amp;#39;&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;-- 开启慢 SQL 日志&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;set&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;global&lt;/span&gt; show_query_log_file&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/var/lib/mysql/slow-sql.log&amp;#39;&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;-- 记录慢 SQL 的日志地址&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;set&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;global&lt;/span&gt; long_query_time&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;-- 慢 SQL 阈值，即超过该时间的判定为慢 SQL，单位为秒&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>MySQL 两阶段提交</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4/</guid>
      <description></description>
    </item>
    <item>
      <title>MySQL 主从复制</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/</guid>
      <description></description>
    </item>
    <item>
      <title>MySQL 事务机制</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E4%BA%8B%E5%8A%A1%E6%9C%BA%E5%88%B6/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E4%BA%8B%E5%8A%A1%E6%9C%BA%E5%88%B6/</guid>
      <description>&lt;h3 id=&#34;问题引入&#34;&gt;问题引入&lt;/h3&gt;&#xA;&lt;h3 id=&#34;事务概念的诞生&#34;&gt;事务概念的诞生&lt;/h3&gt;&#xA;&lt;h3 id=&#34;事务的并发问题&#34;&gt;事务的并发问题&lt;/h3&gt;&#xA;&lt;h3 id=&#34;事务的隔离级别&#34;&gt;事务的隔离级别&lt;/h3&gt;&#xA;&lt;h3 id=&#34;事务的实现原理&#34;&gt;事务的实现原理&lt;/h3&gt;</description>
    </item>
    <item>
      <title>MySQL 协议详解</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/</guid>
      <description></description>
    </item>
    <item>
      <title>MySQL 总结概览</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E6%80%BB%E7%BB%93%E6%A6%82%E8%A7%88/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E6%80%BB%E7%BB%93%E6%A6%82%E8%A7%88/</guid>
      <description>&lt;h3 id=&#34;事务&#34;&gt;事务&lt;/h3&gt;&#xA;&lt;h4 id=&#34;1-事务四大特性acid&#34;&gt;1. 事务四大特性（ACID）&lt;/h4&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;特性&lt;/th&gt;&#xA;          &lt;th&gt;英文&lt;/th&gt;&#xA;          &lt;th&gt;描述&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;原子性&lt;/td&gt;&#xA;          &lt;td&gt;Atomicity&lt;/td&gt;&#xA;          &lt;td&gt;原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚。因此事务的操作如果成功就必须要完全应用到数据库，如果操作失败则不能对数据库有任何影响。&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;一致性&lt;/td&gt;&#xA;          &lt;td&gt;Consistency&lt;/td&gt;&#xA;          &lt;td&gt;事务开始前和结束后，数据库的完整性约束没有被破坏。比如 A 向 B 转账，不可能 A 扣了钱，而 B 却没收到。&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;隔离性&lt;/td&gt;&#xA;          &lt;td&gt;Isolation&lt;/td&gt;&#xA;          &lt;td&gt;隔离性是当多个用户并发访问数据库时，比如操作同一张表时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰。多个并发事务之间要相互隔离，互不干扰。同一时间只允许一个事务请求同一数据，比如 A 正在从一张银行卡中取钱，在 A 收钱过程结束前，B 不能向这张卡转账。&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;持久性&lt;/td&gt;&#xA;          &lt;td&gt;Durability&lt;/td&gt;&#xA;          &lt;td&gt;持久性是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遭遇故障的情况下也不会丢失提交事务的操作。&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h4 id=&#34;2-事务并发问题&#34;&gt;2. 事务并发问题&lt;/h4&gt;&#xA;&lt;h4 id=&#34;3-事务隔离级别针对性解决事务并发问题&#34;&gt;3. 事务隔离级别（针对性解决事务并发问题）&lt;/h4&gt;&#xA;&lt;h4 id=&#34;4-事务传播行为&#34;&gt;4. 事务传播行为&lt;/h4&gt;&#xA;&lt;h4 id=&#34;5-嵌套事务&#34;&gt;5. 嵌套事务&lt;/h4&gt;&#xA;&lt;h4 id=&#34;6-其他&#34;&gt;6. 其他&lt;/h4&gt;&#xA;&lt;h4 id=&#34;7-事务实现原理&#34;&gt;7. 事务实现原理&lt;/h4&gt;&#xA;&lt;h4 id=&#34;8-分布式事务&#34;&gt;8. 分布式事务&lt;/h4&gt;</description>
    </item>
    <item>
      <title>MySQL 查看语句执行各步骤耗时</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E6%9F%A5%E7%9C%8B%E8%AF%AD%E5%8F%A5%E6%89%A7%E8%A1%8C%E5%90%84%E6%AD%A5%E9%AA%A4%E8%80%97%E6%97%B6/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E6%9F%A5%E7%9C%8B%E8%AF%AD%E5%8F%A5%E6%89%A7%E8%A1%8C%E5%90%84%E6%AD%A5%E9%AA%A4%E8%80%97%E6%97%B6/</guid>
      <description>&lt;h2 id=&#34;语法&#34;&gt;语法&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mysql&amp;gt; show profiles;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+----------+------------+---------------------------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| Query_ID | Duration   | Query                     |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+----------+------------+---------------------------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;|        1 | 0.00017075 | select @@profiling        |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;|        2 | 0.00078300 | select * from processlist |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;|        3 | 0.00019700 | select @@profiling        |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+----------+------------+---------------------------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;3 rows in set, 1 warning (0.00 sec)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mysql&amp;gt; show profile for query 2;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+----------------------+----------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| Status               | Duration |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+----------------------+----------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| starting             | 0.000066 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| checking permissions | 0.000009 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| Opening tables       | 0.000407 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| init                 | 0.000025 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| System lock          | 0.000006 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| optimizing           | 0.000003 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| statistics           | 0.000022 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| preparing            | 0.000011 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| executing            | 0.000057 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| Sending data         | 0.000043 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| end                  | 0.000003 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| query end            | 0.000005 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| closing tables       | 0.000002 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| removing tmp table   | 0.000046 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| closing tables       | 0.000004 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| freeing items        | 0.000065 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| cleaning up          | 0.000013 |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+----------------------+----------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;17 rows in set, 1 warning (0.00 sec)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>MySQL 用户管理</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/</guid>
      <description>&lt;h3 id=&#34;一mysql最常用新增用户并授权脚本&#34;&gt;一、MySQL最常用新增用户并授权脚本&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;-- 创建用户test_user，并设置密码为123456。&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;CREATE&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;USER&lt;/span&gt; test_user IDENTIFIED &lt;span style=&#34;color:#66d9ef&#34;&gt;BY&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;123456&amp;#39;&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;-- 授权所有数据库下所有表(*.*)的所有权限(ALL)，并且指定所有ip的客户端(%)都可以采用该用户登录。&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;GRANT&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;ALL&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;PRIVILEGES&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;ON&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;.&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TO&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;test_user&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;@&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%&amp;#39;&lt;/span&gt; IDENTIFIED &lt;span style=&#34;color:#66d9ef&#34;&gt;by&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;123456&amp;#39;&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;-- 刷新权限使其生效。事实上可以省略&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;FLUSH &lt;span style=&#34;color:#66d9ef&#34;&gt;PRIVILEGES&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;-- 查看用户test_user授权信息。&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SHOW&lt;/span&gt; GRANTS &lt;span style=&#34;color:#66d9ef&#34;&gt;FOR&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;test_user&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;@&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%&amp;#39;&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;二用户管理&#34;&gt;二、用户管理&lt;/h3&gt;&#xA;&lt;h4 id=&#34;21概述&#34;&gt;2.1、概述&lt;/h4&gt;&#xA;&lt;p&gt;mysql中的用户信息和权限等都存储在一个名为mysql的数据库中。其中主要用到如下五张表：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;表名&lt;/th&gt;&#xA;          &lt;th&gt;数据&lt;/th&gt;&#xA;          &lt;th&gt;描述&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;user表&lt;/td&gt;&#xA;          &lt;td&gt;存储全局权限&lt;/td&gt;&#xA;          &lt;td&gt;适用于一个给定服务器中的所有数据库，在命令中展现形式为*.*&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;db表&lt;/td&gt;&#xA;          &lt;td&gt;存储数据库权限&lt;/td&gt;&#xA;          &lt;td&gt;适用于一个给定数据库中的所有表，在命令中展现形式为[数据库名].*&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;tables_priv表&lt;/td&gt;&#xA;          &lt;td&gt;存储表权限&lt;/td&gt;&#xA;          &lt;td&gt;适用于一个给定表中的所有列，在命令中展现形式为[数据库名].[表名]&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;columns_priv表&lt;/td&gt;&#xA;          &lt;td&gt;存储列权限&lt;/td&gt;&#xA;          &lt;td&gt;适用于一个给定表中的单一列，在命令中展现形式为&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;procs_priv表&lt;/td&gt;&#xA;          &lt;td&gt;xxx&lt;/td&gt;&#xA;          &lt;td&gt;xxx&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;mysql中所有的用户（指mysql客户端用户）信息都是保存在mysql数据库下的user表中。该表采用复合主键（host + user）。&lt;/p&gt;&#xA;&lt;p&gt;语句：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;user&lt;/span&gt;,&lt;span style=&#34;color:#66d9ef&#34;&gt;host&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; mysql.&lt;span style=&#34;color:#66d9ef&#34;&gt;user&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;结果：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+---------------+-----------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| user          | host      |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+---------------+-----------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| mysql.session | localhost |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| mysql.sys     | localhost |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| root          | localhost |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| test_user     | localhost |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+---------------+-----------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;4 rows in set (0.00 sec)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;注意：\g 的作用是分号和在sql语句中写’;’是等效的\G 的作用是将查到的结构旋转90度变成纵向&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQL 解释计划</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E8%A7%A3%E9%87%8A%E8%AE%A1%E5%88%92/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E8%A7%A3%E9%87%8A%E8%AE%A1%E5%88%92/</guid>
      <description>&lt;h2 id=&#34;语法&#34;&gt;语法&lt;/h2&gt;&#xA;&lt;p&gt;mysql&amp;gt; explain select * from processlist;&#xA;+&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;-+&#xA;| id | select_type | table       | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra |&#xA;+&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;-+&#xA;|  1 | SIMPLE      | processlist | NULL       | ALL  | NULL          | NULL | NULL    | NULL | NULL |     NULL | NULL  |&#xA;+&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;-+&#xA;1 row in set, 1 warning (0.00 sec)&lt;/p&gt;&#xA;&lt;h2 id=&#34;列含义&#34;&gt;列含义&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;id: 每个执行计划都有一个 id，如果是一个联合查询，这里还将有多个id。&lt;/li&gt;&#xA;&lt;li&gt;select_type：表示 SELECT 查询类型，常见的有 SIMPLE（普通查询，即没有联合查询，子查询）、PRIMARY（主查询）、UNION（UNION中后面的查询）、SUBQUERY（子查询）等。&lt;/li&gt;&#xA;&lt;li&gt;tabe：当前执行计划查询的表，如果给表起了别名，则显示别名信息。&lt;/li&gt;&#xA;&lt;li&gt;partitions：访问的分区表信息。&lt;/li&gt;&#xA;&lt;li&gt;type：表示从表中查询到行所执行的方式，查询方式是 SQL 优化中一个很重要的指标，结果值从好到差依次为：system &amp;gt; const &amp;gt; eq_ref &amp;gt; ref &amp;gt; range &amp;gt; index &amp;gt; ALL。&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;system/const: 表中只有一行是数据匹配，此时根据索引查询一次就能找到对应的数据&#xA;eq_ref: 使用唯一索引扫描，常见于多表连接中使用主键和唯一索引作为关联条件&#xA;ref: 非唯一索引扫描，还可见于唯一索引最左原则匹配扫描&#xA;range: 索引范围扫描，比如，&amp;lt;，&amp;gt;，between 等操作。&#xA;index: 索引全表扫描，此时遍历整个索引树。&#xA;ALL: 表示全表扫描，需要遍历全表所有数据（字段）来找到对应的行。&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQL 读写分离</title>
      <link>http://localhost:8080/middleware/mysql/mysql-%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/</link>
      <pubDate>Mon, 10 Jan 2022 23:36:41 +0800</pubDate>
      <guid>http://localhost:8080/middleware/mysql/mysql-%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/</guid>
      <description>&lt;h3 id=&#34;问题引入&#34;&gt;问题引入&lt;/h3&gt;&#xA;&lt;p&gt;为减少主库压力，提出读写分离的方案。&lt;/p&gt;&#xA;&lt;h3 id=&#34;读写分离过期读问题&#34;&gt;读写分离过期读问题&lt;/h3&gt;&#xA;&lt;h3 id=&#34;解决方案&#34;&gt;解决方案&lt;/h3&gt;&#xA;&lt;h3 id=&#34;实践&#34;&gt;实践&lt;/h3&gt;</description>
    </item>
  </channel>
</rss>
