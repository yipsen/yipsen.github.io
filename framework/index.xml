<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Frameworks on Yipsen Ye</title>
    <link>http://localhost:8080/framework/</link>
    <description>Recent content in Frameworks on Yipsen Ye</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Wed, 19 Jan 2022 15:22:11 +0000</lastBuildDate>
    <atom:link href="http://localhost:8080/framework/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>gRPC Channel</title>
      <link>http://localhost:8080/framework/grpc/grpc-channel/</link>
      <pubDate>Wed, 19 Jan 2022 15:22:11 +0000</pubDate>
      <guid>http://localhost:8080/framework/grpc/grpc-channel/</guid>
      <description>&lt;h2 id=&#34;1-定义&#34;&gt;1. 定义&lt;/h2&gt;&#xA;&lt;p&gt;gRPC Channel 提供了客户端可以与服务器通信的抽象。客户端 Channel 对象只能使用 DNS 名称来构造。Channel 封装了一系列功能，包括域名解析、建立 TCP 连接(重试和回退)和 TLS握手。Channel 还可以处理已建立连接上的错误并重新连接，或者在 HTTP/2 GO_AWAY 的情况下，重新解析名称并重新连接。&lt;/p&gt;&#xA;&lt;h2 id=&#34;2状态机see-iogrpcconnectivitystate&#34;&gt;2.状态机（@see io.grpc.ConnectivityState）&lt;/h2&gt;&#xA;&lt;p&gt;为了向 gRPC API 的用户隐藏所有这些活动的详细信息(即应用程序代码),同时公开有关Channel状态的有意义的信息,我们使用具有五种状态的状态机, 定义如下：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;CONNECTING(连接中): Channel 正在尝试建立连接,并正在等待在名称解析、TCP 连接建立或 TLS 握手中涉及的步骤之一上取得进展。这可以用作创建时通道的初始状态。&lt;/li&gt;&#xA;&lt;li&gt;READY(就绪): Channel 已通过 TLS 握手(或等效项)和协议级(HTTP/2等)握手成功建立连接,并且所有后续的通信尝试都已成功(或正在等待,没有任何已知的失败)。&lt;/li&gt;&#xA;&lt;li&gt;TRANSIENT_FAILURE: 存在一些暂时性故障(例如 TCP 3向握手超时或套接字错误)。处于此状态的通道最终将切换到 CONNECTING 状态并尝试再次建立连接。由于重试是以指数退避完成的,因此无法连接的通道开始时在此状态下花费的时间很少,但随着尝试反复失败,通道在此状态下花费的时间将越来越长。对于许多非致命故障(例如,由于服务器尚不可用,TCP连接尝试超时),通道在此状态下可能会花费越来越多的时间。&lt;/li&gt;&#xA;&lt;li&gt;IDLE(空闲): 在这种状态下,由于缺少新的或挂起的RPC,Channel甚至不会尝试创建连接。在此状态下,可以创建新的RPC。在Channel上启动 RPC的任何尝试都会将Channel从此状态退出,进入连接状态。当Channel上的指定IDLE_TIMEOUT没有RPC活动时,即在此期间没有新的或挂起的(活动)RPC,则处于READY或CONNECTING状态的Channel将切换到IDLE。此外,在没有活动或挂起的RPC时收到GOAWAY的通道也应切换到IDLE,以避免在尝试断开连接的服务器上出现连接过载。我们将使用默认IDLE_TIMEOUT 300秒(5分钟)。&lt;/li&gt;&#xA;&lt;li&gt;SHUTDOWN: 此 Channel已开始关闭。任何新的 RPC都应立即失败。挂起的 RPC可能会继续运行,直到应用程序取消它们。Channel可能会进入此状态, 因为应用程序明确请求关闭,或者在尝试连接通信期间发生了不可恢复的错误。（截至2015年6月12日,没有已知错误(连接或通信时)被归类为不可恢复）。进入此状态的通道永远不会离开此状态。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;3特性&#34;&gt;3.特性&lt;/h2&gt;&#xA;&lt;h3 id=&#34;newcall&#34;&gt;newCall&lt;/h3&gt;&#xA;&lt;p&gt;构建一个clientCall表示一次远程调用,在该调用中,涉及到的请求发送以及响应处理,则交由此ClientCall来处理。每一次方法调用需要构建一个 clientCall，即在一个 Channel(通信通道中)可发起多个 ClientCall(客户端调用)。&lt;/p&gt;</description>
    </item>
    <item>
      <title>gRPC Java 源码分析</title>
      <link>http://localhost:8080/framework/grpc/grpc-java-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/</link>
      <pubDate>Wed, 19 Jan 2022 15:22:11 +0000</pubDate>
      <guid>http://localhost:8080/framework/grpc/grpc-java-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/</guid>
      <description>&lt;p&gt;最后追究问题(原始目的):grpc是怎么做到异步化的&lt;/p&gt;&#xA;&lt;h3 id=&#34;简单样例代码&#34;&gt;简单样例代码&lt;/h3&gt;&#xA;&lt;h3 id=&#34;调用时序帧&#34;&gt;调用时序(帧)&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;sequenceDiagram&#xD;&#xA;participant S as Server&#xD;&#xA;participant C as Client&#xD;&#xA;&#xD;&#xA;S-&amp;gt;&amp;gt;C: SETTINGS            S1 -&amp;gt; &amp;lt;- C3&#xD;&#xA;S-&amp;gt;&amp;gt;C: UPDATE_WINDOW       S2 -&amp;gt; &amp;lt;- C5&#xD;&#xA;C-&amp;gt;&amp;gt;S: SETTINGS            S3 -&amp;gt; &amp;lt;- C1  &#xD;&#xA;C--&amp;gt;&amp;gt;S: SETTINGS(ACK)      S4 -&amp;gt; &amp;lt;- C6 &#xD;&#xA;C-&amp;gt;&amp;gt;S: UPDATE_WINDOW       S5 -&amp;gt; &amp;lt;- C2 &#xD;&#xA;C--&amp;gt;&amp;gt;S: SETTINGS(ACK)      S6 -&amp;gt; &amp;lt;- C4 &#xD;&#xA;C-&amp;gt;&amp;gt;S:HEADERS              S7 -&amp;gt; &amp;lt;- C7 &#xD;&#xA;C-&amp;gt;&amp;gt;S:DATA                 S8 -&amp;gt; &amp;lt;- C8 &#xD;&#xA;S-&amp;gt;&amp;gt;C: PING                S9 -&amp;gt; &amp;lt;- C9 &#xD;&#xA;C--&amp;gt;&amp;gt;S: PING(ACK)          S10 -&amp;gt; &amp;lt;- C10&#xD;&#xA;S--&amp;gt;&amp;gt;C:HEADERS             S11 -&amp;gt; &amp;lt;- C11&#xD;&#xA;S--&amp;gt;&amp;gt;C:DATA                S12 -&amp;gt; &amp;lt;- C12&#xD;&#xA;S--&amp;gt;&amp;gt;C:HEADERS             S13 -&amp;gt; &amp;lt;- C14&#xD;&#xA;S-&amp;gt;&amp;gt;C:GO_AWAY(未送达)      S14 -&amp;gt; &#xD;&#xA;C-&amp;gt;&amp;gt;S: PING(未送达)               &amp;lt;- C13&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;源码运行逻辑&#34;&gt;源码运行逻辑&lt;/h3&gt;&#xA;&lt;h4 id=&#34;receive-client-frames&#34;&gt;receive client frames&lt;/h4&gt;&#xA;&lt;h4 id=&#34;iogrpcnettynettyserverhandleronheadersread&#34;&gt;io.grpc.netty.NettyServerHandler#onHeadersRead&lt;/h4&gt;&#xA;&lt;h4 id=&#34;iogrpcnettynettyserverhandlerondataread&#34;&gt;io.grpc.netty.NettyServerHandler#onDataRead&lt;/h4&gt;&#xA;&lt;h4 id=&#34;iogrpcinternalmessagedeframerdeframe&#34;&gt;io.grpc.internal.MessageDeframer#deframe&lt;/h4&gt;&#xA;&lt;h4 id=&#34;iogrpcinternalmessagedeframerdeliver&#34;&gt;io.grpc.internal.MessageDeframer#deliver&lt;/h4&gt;&#xA;&lt;h4 id=&#34;iogrpcinternalmessagedeframerclose&#34;&gt;io.grpc.internal.MessageDeframer#close&lt;/h4&gt;&#xA;&lt;h4 id=&#34;iogrpcinternalserverimpljumptoapplicationthreadserverstreamlistenerhalfclosed&#34;&gt;io.grpc.internal.ServerImpl.JumpToApplicationThreadServerStreamListener#halfClosed&lt;/h4&gt;&#xA;&lt;h4 id=&#34;iogrpcstubservercallsunaryservercallhandlerunaryservercalllistenerhalfclosed&#34;&gt;io.grpc.stub.ServerCalls.UnaryServerCallHandler.UnaryServerCallListener#halfClosed&lt;/h4&gt;&#xA;&lt;h4 id=&#34;handle-customer-logics&#34;&gt;handle customer logics&lt;/h4&gt;</description>
    </item>
    <item>
      <title>Log4J pattern layout</title>
      <link>http://localhost:8080/framework/logback/log4j-pattern-layout/</link>
      <pubDate>Wed, 19 Jan 2022 15:22:11 +0000</pubDate>
      <guid>http://localhost:8080/framework/logback/log4j-pattern-layout/</guid>
      <description>&lt;h3 id=&#34;配置解释&#34;&gt;配置解释&lt;/h3&gt;</description>
    </item>
    <item>
      <title>Logback pattern layout</title>
      <link>http://localhost:8080/framework/logback/logback-pattern-layout/</link>
      <pubDate>Wed, 19 Jan 2022 15:22:11 +0000</pubDate>
      <guid>http://localhost:8080/framework/logback/logback-pattern-layout/</guid>
      <description>&lt;h3 id=&#34;配置解释&#34;&gt;配置解释&lt;/h3&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;Conversion&lt;/th&gt;&#xA;          &lt;th&gt;Effect&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;c{length}&lt;!-- raw HTML omitted --&gt;lo{length}&lt;!-- raw HTML omitted --&gt;logger{length}&lt;/td&gt;&#xA;          &lt;td&gt;输出日志名，length参数可以指定数字用以缩短控制长度&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;C{length}&lt;!-- raw HTML omitted --&gt;class{length}&lt;/td&gt;&#xA;          &lt;td&gt;输出类名.&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;d{pattern}&lt;!-- raw HTML omitted --&gt;date{pattern}&lt;/td&gt;&#xA;          &lt;td&gt;输出时间，使用方法与格式效果见：&lt;a href=&#34;#date&#34;&gt;时间格式&lt;/a&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;micros &lt;!-- raw HTML omitted --&gt; ms&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;F &lt;!-- raw HTML omitted --&gt; file&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;caller{depth}&lt;/td&gt;&#xA;          &lt;td&gt;输出调用方&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;kvp{NONE,SINGLE,DOUBLE}&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;m &lt;!-- raw HTML omitted --&gt; msg &lt;!-- raw HTML omitted --&gt; message&lt;/td&gt;&#xA;          &lt;td&gt;日志信息&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;M &lt;!-- raw HTML omitted --&gt; method&lt;/td&gt;&#xA;          &lt;td&gt;方法名&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;n&lt;/td&gt;&#xA;          &lt;td&gt;换行符&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;p &lt;!-- raw HTML omitted --&gt; le &lt;!-- raw HTML omitted --&gt; level&lt;/td&gt;&#xA;          &lt;td&gt;日志级别&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;r &lt;!-- raw HTML omitted --&gt; relative&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;t &lt;!-- raw HTML omitted --&gt; thread&lt;/td&gt;&#xA;          &lt;td&gt;输出线程名&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;X{key:-defaultVal}&lt;!-- raw HTML omitted --&gt;mdc{key:-defaultVal}&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;ex{depth}&lt;!-- raw HTML omitted --&gt;exception{depth}&lt;!-- raw HTML omitted --&gt;throwable{depth}&lt;/td&gt;&#xA;          &lt;td&gt;输出异常堆栈信息&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;xEx{depth}&lt;!-- raw HTML omitted --&gt;xException{depth}&lt;!-- raw HTML omitted --&gt;xThrowable{depth}&lt;/td&gt;&#xA;          &lt;td&gt;输出异常堆栈信息及其所在jar包&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;nopex&lt;!-- raw HTML omitted --&gt;nopexception&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;marker&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;property{key}&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;replace(p){r, t}&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;prefix(p)&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;rEx{depth}&lt;!-- raw HTML omitted --&gt;rootException{depth}&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h3 id=&#34;配置示例&#34;&gt;配置示例&lt;/h3&gt;&#xA;&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 时间格式 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
