<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>20 æœ‰çŠ¶æ€åº”ç”¨çš„é»˜è®¤ç‰¹æ€§è½åœ°åˆ†æ | Yipsen Ye</title>
<meta name="description" content="ä¸€ç›´ä»¥æ¥è·‘åœ¨ Kubernetes çš„åº”ç”¨éƒ½æ˜¯æ— çŠ¶æ€çš„åº”ç”¨ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯ä¸è½ç›˜çš„ï¼Œåº”ç”¨æ­»æ‰ä¹‹åï¼Œåº”ç”¨çŠ¶æ€ä¹Ÿä¸å¤å­˜åœ¨ï¼Œæ¯”å¦‚ Nginx ä½œä¸ºåå‘ä»£ç†çš„åœºæ™¯ã€‚å¦‚æœä½ çš„åº”ç”¨æ¶‰åŠä¸šåŠ¡é€»è¾‘ï¼Œä¸€èˆ¬éƒ½ä¼šæ¶‰åŠæŠŠæ•°æ®åœ¨æœ¬åœ°æ”¾ä¸€ä»½ã€‚å¦‚æœåº”ç”¨å®ä¾‹æ­»æ‰äº†å¯ä»¥å†æ‹‰èµ·ä¸€ä¸ªæ–°åº”ç”¨å®ä¾‹ç»§ç»­æœåŠ¡å½“å‰çš„è¿æ¥è¯·æ±‚ã€‚é‚£ä¹ˆæœ‰çŠ¶æ€åº”ç”¨åœ¨ Kubernetes åœºæ™¯ä¸‹åˆæœ‰å“ªäº›ç‰¹æ€§éœ€è¦æˆ‘ä»¬è®°ä½å‘¢ï¼Ÿè¯·éšç€ç¬”è€…çš„ç« èŠ‚ä¸€æ­¥ä¸€æ­¥äº†è§£å®ƒã€‚
StatefulSet å¯¹è±¡ å½“æˆ‘ä»¬ä½¿ç”¨ Deployment å¯¹è±¡éƒ¨ç½²åº”ç”¨å®¹å™¨å®ä¾‹çš„æ—¶å€™ï¼Œä¸€å®šä¼šæ³¨æ„åˆ° Pod å®ä¾‹åç¼€æ€»æ˜¯å¸¦æœ‰éšæœºå­—ç¬¦ä¸²ï¼Œè¿™æ˜¯æ— çŠ¶æ€åº”ç”¨åŒºåˆ†å®ä¾‹çš„ä¸€ç§ç­–ç•¥ã€‚ç°å®åº”ç”¨ä¸­ï¼Œå¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿçš„ç¼–æ’ï¼Œéšæœºçš„å­—ç¬¦ä¸²æ ‡è¯†æ˜¯æ— æ³•åº”ç”¨çš„ã€‚å®ƒè¦æ±‚åœ¨å¯åŠ¨ Pod ä¹‹å‰ï¼Œå°±èƒ½æ˜ç¡®æ ‡è®°åº”ç”¨å®ä¾‹ï¼Œè¿™ä¸ªåœºæ™¯ä¸‹ StatefulSet å¯¹è±¡åº”æ™¯è€Œç”Ÿã€‚å¦‚ä¸‹ Pod ä¾‹å­ä¸­æ˜¾ç¤ºé¡ºåºç´¢å¼•å¦‚ä¸‹ï¼š
kubectl get pods -l app=nginxNAME READY STATUS RESTARTS AGEweb-0 1/1 Running 0 1mweb-1 1/1 Running 0 1må½“ä½ åœ¨ç»ˆç«¯ä¸­æŠŠæ‰€æœ‰ Pod åˆ æ‰åï¼ŒStatefulSet ä¼šè‡ªåŠ¨é‡å¯å®ƒä»¬ï¼š
kubectl delete pod -l app=nginxpod &amp;quot;web-0&amp;quot; deletedpod &amp;quot;web-1&amp;quot; deletedkubectl get pod -w -l app=nginxNAME READY STATUS RESTARTS AGEweb-0 0/1 ContainerCreating 0 0sNAME READY STATUS RESTARTS AGEweb-0 1/1 Running 0 2sweb-1 0/1 Pending 0 0sweb-1 0/1 Pending 0 0sweb-1 0/1 ContainerCreating 0 0sweb-1 1/1 Running 0 34sä½¿ç”¨ kubectl exec å’Œ kubectl run æŸ¥çœ‹ Pod çš„ä¸»æœºåå’Œé›†ç¾¤å†…éƒ¨çš„ DNS é¡¹å¦‚ä¸‹ï¼š">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="logo-link" style="width: 60px; color: #CA6924;">
    <a href="http://yipsen.github.io/">
        <img style="margin-bottom: -1rem;" src="/images/deer.svg" alt="logo">
        <span style="font-size: 0.5rem; color: #CA6924;">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æœ­è®°</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/kubernetes%e5%ae%9e%e8%b7%b5%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97/">Kuberneteså®è·µå…¥é—¨æŒ‡å—</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/00-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E8%A6%81%E5%AD%A6%E4%B9%A0-kubernetes-%E6%8A%80%E6%9C%AF/">00 ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å­¦ä¹  Kubernetes æŠ€æœ¯</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/01-%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86-kubernetes-%E7%9A%84%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6/">01 é‡æ–°è®¤è¯† Kubernetes çš„æ ¸å¿ƒç»„ä»¶</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/02-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-kubernets-%E7%9A%84%E7%BC%96%E6%8E%92%E5%AF%B9%E8%B1%A1/">02 æ·±å…¥ç†è§£ Kubernets çš„ç¼–æ’å¯¹è±¡</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/03-devops-%E5%9C%BA%E6%99%AF%E4%B8%8B%E8%90%BD%E5%9C%B0-k8s-%E7%9A%84%E5%9B%B0%E9%9A%BE%E5%88%86%E6%9E%90/">03 DevOps åœºæ™¯ä¸‹è½åœ° K8s çš„å›°éš¾åˆ†æ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/04-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E4%B8%8B%E8%90%BD%E5%9C%B0-k8s-%E7%9A%84%E5%9B%B0%E9%9A%BE%E5%88%86%E6%9E%90/">04 å¾®æœåŠ¡åº”ç”¨åœºæ™¯ä¸‹è½åœ° K8s çš„å›°éš¾åˆ†æ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/05-%E8%A7%A3%E5%86%B3-k8s-%E8%90%BD%E5%9C%B0%E9%9A%BE%E9%A2%98%E7%9A%84%E6%96%B9%E6%B3%95%E8%AE%BA%E6%8F%90%E7%82%BC/">05 è§£å†³ K8s è½åœ°éš¾é¢˜çš„æ–¹æ³•è®ºæç‚¼</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/06-%E7%BB%83%E4%B9%A0%E7%AF%87k8s-%E6%A0%B8%E5%BF%83%E5%AE%9E%E8%B7%B5%E7%9F%A5%E8%AF%86%E6%8E%8C%E6%8F%A1/">06 ç»ƒä¹ ç¯‡ï¼šK8s æ ¸å¿ƒå®è·µçŸ¥è¯†æŒæ¡</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/07-%E5%AE%B9%E5%99%A8%E5%BC%95%E6%93%8E-containerd-%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">07 å®¹å™¨å¼•æ“ containerd è½åœ°å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/08-k8s-%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7-kubeadm-%E7%9A%84%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">08 K8s é›†ç¾¤å®‰è£…å·¥å…· kubeadm çš„è½åœ°å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/09-%E5%8D%97%E5%8C%97%E5%90%91%E6%B5%81%E9%87%8F%E7%BB%84%E4%BB%B6-ipvs-%E7%9A%84%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">09 å—åŒ—å‘æµé‡ç»„ä»¶ IPVS çš„è½åœ°å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/10-%E4%B8%9C%E8%A5%BF%E5%90%91%E6%B5%81%E9%87%8F%E7%BB%84%E4%BB%B6-calico-%E7%9A%84%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">10 ä¸œè¥¿å‘æµé‡ç»„ä»¶ Calico çš„è½åœ°å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/11-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0-dns-%E7%9A%84%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">11 æœåŠ¡å‘ç° DNS çš„è½åœ°å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/12-%E7%BB%83%E4%B9%A0%E7%AF%87k8s-%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE%E6%B5%8B%E9%AA%8C/">12 ç»ƒä¹ ç¯‡ï¼šK8s é›†ç¾¤é…ç½®æµ‹éªŒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/13-%E7%90%86%E8%A7%A3%E5%AF%B9%E6%96%B9%E6%9A%B4%E9%9C%B2%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%AF%B9%E8%B1%A1-ingress-%E5%92%8C-service/">13 ç†è§£å¯¹æ–¹æš´éœ²æœåŠ¡çš„å¯¹è±¡ Ingress å’Œ Service</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/14-%E5%BA%94%E7%94%A8%E7%BD%91%E5%85%B3-openresty-%E5%AF%B9%E6%8E%A5-k8s-%E5%AE%9E%E8%B7%B5/">14 åº”ç”¨ç½‘å…³ OpenResty å¯¹æ¥ K8s å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/15-service-%E5%B1%82%E5%BC%95%E6%B5%81%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/">15 Service å±‚å¼•æµæŠ€æœ¯å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/16-cilium-%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E7%9A%84%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">16 Cilium å®¹å™¨ç½‘ç»œçš„è½åœ°å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/17-%E5%BA%94%E7%94%A8%E6%B5%81%E9%87%8F%E7%9A%84%E4%BC%98%E9%9B%85%E6%97%A0%E6%8D%9F%E5%88%87%E6%8D%A2%E5%AE%9E%E8%B7%B5/">17 åº”ç”¨æµé‡çš„ä¼˜é›…æ— æŸåˆ‡æ¢å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/18-%E7%BB%83%E4%B9%A0%E7%AF%87%E5%BA%94%E7%94%A8%E6%B5%81%E9%87%8F%E6%97%A0%E6%8D%9F%E5%88%87%E6%8D%A2%E6%8A%80%E6%9C%AF%E6%B5%8B%E9%AA%8C/">18 ç»ƒä¹ ç¯‡ï¼šåº”ç”¨æµé‡æ— æŸåˆ‡æ¢æŠ€æœ¯æµ‹éªŒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/19-%E4%BD%BF%E7%94%A8-rook-%E6%9E%84%E5%BB%BA%E7%94%9F%E4%BA%A7%E5%8F%AF%E7%94%A8%E5%AD%98%E5%82%A8%E7%8E%AF%E5%A2%83%E5%AE%9E%E8%B7%B5/">19 ä½¿ç”¨ Rook æ„å»ºç”Ÿäº§å¯ç”¨å­˜å‚¨ç¯å¢ƒå®è·µ</a></li>
                
                
                
                    <li>20 æœ‰çŠ¶æ€åº”ç”¨çš„é»˜è®¤ç‰¹æ€§è½åœ°åˆ†æ</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/21-%E6%A1%88%E4%BE%8B%E5%88%86%E5%B8%83%E5%BC%8F-mysql-%E9%9B%86%E7%BE%A4%E5%B7%A5%E5%85%B7-vitess-%E5%AE%9E%E8%B7%B5%E5%88%86%E6%9E%90/">21 æ¡ˆä¾‹ï¼šåˆ†å¸ƒå¼ MySQL é›†ç¾¤å·¥å…· Vitess å®è·µåˆ†æ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/22-%E5%AD%98%E5%82%A8%E5%AF%B9%E8%B1%A1-pvpvcstorage-classes-%E7%9A%84%E7%AE%A1%E7%90%86%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">22 å­˜å‚¨å¯¹è±¡ PVã€PVCã€Storage Classes çš„ç®¡ç†è½åœ°å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/23-k8s-%E9%9B%86%E7%BE%A4%E4%B8%AD%E5%AD%98%E5%82%A8%E5%AF%B9%E8%B1%A1%E7%81%BE%E5%A4%87%E7%9A%84%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">23 K8s é›†ç¾¤ä¸­å­˜å‚¨å¯¹è±¡ç¾å¤‡çš„è½åœ°å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/24-%E7%BB%83%E4%B9%A0%E7%AF%87k8s-%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE%E6%B5%8B%E9%AA%8C/">24 ç»ƒä¹ ç¯‡ï¼šK8s é›†ç¾¤é…ç½®æµ‹éªŒ</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">20 æœ‰çŠ¶æ€åº”ç”¨çš„é»˜è®¤ç‰¹æ€§è½åœ°åˆ†æ</h1>
        <div class="post-info">
            <div> 
                <span class="post-date">ğŸ“…&nbsp;2021-12-22 01:48:26</span>ğŸ·ï¸&nbsp;<a class="post-tag" href="/tags/kubernetes/">kubernetes</a></div><div class="post-category">
                
                ğŸ“š&nbsp;<a href="/categories/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/">Kuberneteså®è·µå…¥é—¨æŒ‡å—</a>
                
            </div></div>
        <div class="post-content">
            <p>ä¸€ç›´ä»¥æ¥è·‘åœ¨ Kubernetes çš„åº”ç”¨éƒ½æ˜¯æ— çŠ¶æ€çš„åº”ç”¨ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯ä¸è½ç›˜çš„ï¼Œåº”ç”¨æ­»æ‰ä¹‹åï¼Œåº”ç”¨çŠ¶æ€ä¹Ÿä¸å¤å­˜åœ¨ï¼Œæ¯”å¦‚ Nginx ä½œä¸ºåå‘ä»£ç†çš„åœºæ™¯ã€‚å¦‚æœä½ çš„åº”ç”¨æ¶‰åŠä¸šåŠ¡é€»è¾‘ï¼Œä¸€èˆ¬éƒ½ä¼šæ¶‰åŠæŠŠæ•°æ®åœ¨æœ¬åœ°æ”¾ä¸€ä»½ã€‚å¦‚æœåº”ç”¨å®ä¾‹æ­»æ‰äº†å¯ä»¥å†æ‹‰èµ·ä¸€ä¸ªæ–°åº”ç”¨å®ä¾‹ç»§ç»­æœåŠ¡å½“å‰çš„è¿æ¥è¯·æ±‚ã€‚é‚£ä¹ˆæœ‰çŠ¶æ€åº”ç”¨åœ¨ Kubernetes åœºæ™¯ä¸‹åˆæœ‰å“ªäº›ç‰¹æ€§éœ€è¦æˆ‘ä»¬è®°ä½å‘¢ï¼Ÿè¯·éšç€ç¬”è€…çš„ç« èŠ‚ä¸€æ­¥ä¸€æ­¥äº†è§£å®ƒã€‚</p>
<h3 id="statefulset-å¯¹è±¡">StatefulSet å¯¹è±¡</h3>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ Deployment å¯¹è±¡éƒ¨ç½²åº”ç”¨å®¹å™¨å®ä¾‹çš„æ—¶å€™ï¼Œä¸€å®šä¼šæ³¨æ„åˆ° Pod å®ä¾‹åç¼€æ€»æ˜¯å¸¦æœ‰éšæœºå­—ç¬¦ä¸²ï¼Œè¿™æ˜¯æ— çŠ¶æ€åº”ç”¨åŒºåˆ†å®ä¾‹çš„ä¸€ç§ç­–ç•¥ã€‚ç°å®åº”ç”¨ä¸­ï¼Œå¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿçš„ç¼–æ’ï¼Œéšæœºçš„å­—ç¬¦ä¸²æ ‡è¯†æ˜¯æ— æ³•åº”ç”¨çš„ã€‚å®ƒè¦æ±‚åœ¨å¯åŠ¨ Pod ä¹‹å‰ï¼Œå°±èƒ½æ˜ç¡®æ ‡è®°åº”ç”¨å®ä¾‹ï¼Œè¿™ä¸ªåœºæ™¯ä¸‹ StatefulSet å¯¹è±¡åº”æ™¯è€Œç”Ÿã€‚å¦‚ä¸‹ Pod ä¾‹å­ä¸­æ˜¾ç¤ºé¡ºåºç´¢å¼•å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>kubectl get pods -l app=nginx
NAME      READY     STATUS    RESTARTS   AGE
web-0     1/1       Running   0          1m
web-1     1/1       Running   0          1m

</code></pre><p>å½“ä½ åœ¨ç»ˆç«¯ä¸­æŠŠæ‰€æœ‰ Pod åˆ æ‰åï¼ŒStatefulSet ä¼šè‡ªåŠ¨é‡å¯å®ƒä»¬ï¼š</p>
<pre tabindex="0"><code>kubectl delete pod -l app=nginx
pod &quot;web-0&quot; deleted
pod &quot;web-1&quot; deleted

kubectl get pod -w -l app=nginx
NAME      READY     STATUS              RESTARTS   AGE
web-0     0/1       ContainerCreating   0          0s
NAME      READY     STATUS    RESTARTS   AGE
web-0     1/1       Running   0          2s
web-1     0/1       Pending   0         0s
web-1     0/1       Pending   0         0s
web-1     0/1       ContainerCreating   0         0s
web-1     1/1       Running   0         34s

</code></pre><p>ä½¿ç”¨ <code>kubectl exec</code> å’Œ <code>kubectl run</code> æŸ¥çœ‹ Pod çš„ä¸»æœºåå’Œé›†ç¾¤å†…éƒ¨çš„ DNS é¡¹å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>for i in 0 1; do kubectl exec web-$i -- sh -c 'hostname'; done
web-0
web-1

kubectl run -i --tty --image busybox:1.28 dns-test --restart=Never --rm /bin/sh
nslookup web-0.nginx
Server:    10.0.0.10
Address 1: 10.0.0.10 kube-dns.kube-system.svc.cluster.local

Name:      web-0.nginx
Address 1: 10.244.1.7

nslookup web-1.nginx
Server:    10.0.0.10
Address 1: 10.0.0.10 kube-dns.kube-system.svc.cluster.local

Name:      web-1.nginx
Address 1: 10.244.2.8

</code></pre><p>Pod çš„åºå·ã€ä¸»æœºåã€SRV æ¡ç›®å’Œè®°å½•åç§°éƒ½æ²¡æœ‰æ”¹å˜ï¼Œä½†å’Œ Pod ç›¸å…³è”çš„ IP åœ°å€å´å‘ç”Ÿäº†å˜æ›´ã€‚è¿™ä¸ªç°è±¡è¯´æ˜å³ä½¿æ˜¯æœ‰çŠ¶æ€çš„å®¹å™¨å®ä¾‹ï¼Œå®ƒçš„ IP ä¹Ÿæ˜¯å˜åŒ–çš„ã€‚å› ä¸ºä¼ ç»Ÿé—ç•™çš„ç³»ç»Ÿå¾ˆå¤šï¼Œå¾ˆå¤šé—ç•™ç³»ç»Ÿåœ¨è¿åˆ°äº‘åŸç”Ÿå¹³å°çš„æ—¶å€™æœŸæœ›èƒ½å›ºå®š Pod IPï¼Œè™½ç„¶ä»åœºæ™¯ä¸Šæ¥è®²åˆç†ã€‚ä½†æ¯•ç«Ÿè¿™æ˜¯é—ç•™ç³»ç»Ÿçš„è®¾è®¡ï¼Œå®ƒå·²ç»ä¸æ˜¯äº‘åŸç”Ÿæ¶æ„æ¨èçš„è®¾è®¡æ–¹å¼äº†ï¼Œæ‰€ä»¥é»˜è®¤ Kubernetes æ˜¯æ²¡æœ‰è¿™ä¸ªç‰¹æ€§çš„ã€‚å¦‚æœæƒ³æ”¯æŒè¿™ä¸ªç‰¹æ€§ï¼Œå°±éœ€è¦åœ¨ CNI ä¸Šåšå¥½æ‰©å±•æ‰è¡Œã€‚å¼€æºç½‘ç»œæ–¹æ¡ˆ Calico å°±æä¾›è¿™ç§ç‰¹æ€§ï¼Œè¯·å‚è€ƒï¼š</p>
<pre tabindex="0"><code># é…ç½® ipam
cat /etc/cni/net.d/10-calico.conflist

# é…ç½® ipam, è¿™ä¸ª cni plugin å°†è§£ææŒ‡å®šçš„æ³¨è§£æ¥é…ç½® IP
        &quot;ipam&quot;: {
              &quot;type&quot;: &quot;calico-ipam&quot;
          },

# åœ¨ Pod å¯¹è±¡ä¸­åŠ ä¸Šæ³¨è§£
annotations:
      &quot;cni.projectcalico.org/ipAddrs&quot;: &quot;[\&quot;192.168.0.1\&quot;]&quot;

</code></pre><p>ä»¥ä¸‹æ˜¯è…¾è®¯äº‘æä¾›çš„æ³¨è§£ä¾‹å­æ¥æ”¯æŒå›ºå®š IP ç‰¹æ€§ï¼š</p>
<pre tabindex="0"><code>apiVersion: apps/v1
kind: StatefulSet
metadata:
  annotations:
    tke.cloud.tencent.com/enable-static-ip: &quot;true&quot;
  labels:
    k8s-app: busybox
  name: busybox
  namespace: default
spec:
  replicas: 3
  selector:
    matchLabels:
      k8s-app: busybox
      qcloud-app: busybox
  serviceName: &quot;&quot;
  template:
    metadata:
      annotations:
        tke.cloud.tencent.com/vpc-ip-claim-delete-policy: Never
      creationTimestamp: null
      labels:
        k8s-app: busybox
        qcloud-app: busybox
    spec:
      containers:
      - args:
        - &quot;10000000000&quot;
        command:
        - sleep
        image: busybox
        imagePullPolicy: Always
        name: busybox
        resources:
          limits:
            tke.cloud.tencent.com/eni-ip: &quot;1&quot;
          requests:
            tke.cloud.tencent.com/eni-ip: &quot;1&quot;

</code></pre><h3 id="æœ‰çŠ¶æ€å­˜å‚¨">æœ‰çŠ¶æ€å­˜å‚¨</h3>
<p>StatefulSet å¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿˜ä¼šæŒ‚ç›˜å¯åŠ¨ã€‚å› ä¸º Kubernetes ä» 1.13 ç‰ˆæœ¬å¼€å§‹å·²ç»å…¨é¢æ‹¥æŠ± CSI æ¥å£æ ‡å‡†ï¼Œé»˜è®¤æµç¨‹ä¸»è¦æ˜¯å…ˆåˆ›å»º StorageClass, ç„¶åä½¿ç”¨ PersistentVolumeClaim å¯¹è±¡åŠ¨æ€ç”³è¯·å­˜å‚¨èµ„æºã€‚åº•å±‚ PersistentVolume å¯¹è±¡ä¼šé©±åŠ¨ StorageClass è°ƒç”¨æŒ‡å®šçš„å­˜å‚¨é©±åŠ¨æ¥åˆ›å»ºå­˜å‚¨è®¾å¤‡ã€‚å› ä¸ºæ¯ä¸ªå­˜å‚¨é©±åŠ¨çš„è®¾è®¡å¤æ‚åº¦ä¹Ÿä¸å¤ªä¸€æ ·ï¼Œå»ºè®®è¯»è€…å¯ä»¥å…ˆä» NFS å­˜å‚¨å¼€å§‹ä¸æ–­ç§¯ç´¯ç»éªŒã€‚</p>
<p>å¾ˆå¤šè¯»è€…è¯¯ä»¥ä¸ºæœ‰äº† StatefulSet åŠ ä¸Š PersistentVolume ä¹‹åï¼Œå¯ä»¥åº”å¯¹æ‰€æœ‰æœ‰çŠ¶æ€åº”ç”¨çš„éƒ¨ç½²æƒ…å†µã€‚æˆ‘çš„å®è·µç»éªŒåˆ†äº«æ˜¯å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä½ éœ€è¦é’ˆå¯¹æ¯ç§åº”ç”¨çš„éƒ¨ç½²æ–¹å¼é…ç½®åˆé€‚çš„ç‰¹æ€§æ‰èƒ½çœŸæ­£ä¿è¯æœ‰çŠ¶æ€åº”ç”¨çš„è¿è¡Œã€‚å› ä¸ºè¿™ç§å¤æ‚åº¦ï¼Œæ‰€ä»¥ä¸šç•Œæ‰æ¨å‡ºäº† Operator æ¡†æ¶æ¥ä¸ºå¤æ‚çš„åº”ç”¨æä¾›ä¸€é”®éƒ¨ç½²çš„ç®¡ç†æ§åˆ¶å™¨ã€‚ä½ ç•™å¿ƒåˆ†è§£è¿™äº›æ§åˆ¶å™¨åå‘ç°ï¼Œå®ƒä»¬æ— éæ˜¯å¯¹ Pod ç‰¹æ€§çš„æ‹¼è£…ç»„åˆã€‚æ‰€ä»¥ä¸è¦è¢«è¡¨æ˜çš„ä¾‹å­æ‰€è¿·æƒ‘ï¼Œå¯¹äºæœ‰çŠ¶æ€åº”ç”¨çš„éƒ¨ç½²ï¼Œä½ éœ€è¦è¯¦ç»†äº†è§£æ¶æ„å¸ƒå±€çš„æ–¹å¼ï¼Œç„¶ååœ¨ç»“åˆ Kubernetes æä¾›çš„ç‰¹æ€§æ¥æ”¯æŒã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒKubernetes å¯ä»¥æŠŠ StatefulSet çš„ Pods éƒ¨ç½²åœ¨ç›¸åŒèŠ‚ç‚¹ä¸Šï¼Œå¦‚æœæœ‰ä¸¤ä¸ªæœåŠ¡å¹¶å­˜äºç›¸åŒçš„èŠ‚ç‚¹ä¸Šå¹¶ä¸”è¯¥èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œä½ çš„æœåŠ¡å°±ä¼šå—åˆ°å½±å“ã€‚æ‰€ä»¥å½“ä½ æœŸæœ›æœåŠ¡å¯ä»¥å°½å¯èƒ½å‡å°‘åœæœæ—¶é—´ï¼Œå°±åº”è¯¥é…ç½® podAntiAffinityã€‚</p>
<p>æ¯”å¦‚è·å– zk Stateful Set ä¸­çš„ Pods çš„èŠ‚ç‚¹ï¼š</p>
<pre tabindex="0"><code>for i in 0 1 2; do kubectl get pod zk-$i --template {{.spec.nodeName}}; echo &quot;&quot;; done

kubernetes-minion-group-cxpk
kubernetes-minion-group-a5aq
kubernetes-minion-group-2g2d

</code></pre><p>zk StatefulSe ä¸­æ‰€æœ‰çš„ Pods éƒ½è¢«éƒ¨ç½²åœ¨ä¸åŒçš„èŠ‚ç‚¹ã€‚</p>
<p>è¿™æ˜¯å› ä¸º zk StatefulSet ä¸­çš„ Pods æŒ‡å®šäº† PodAntiAffinityï¼š</p>
<pre tabindex="0"><code>      affinity:
        podAntiAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
            - labelSelector:
                matchExpressions:
                  - key: &quot;app&quot;
                    operator: In
                    values:
                    - zk
              topologyKey: &quot;kubernetes.io/hostname&quot;

</code></pre><p>è¯·çµæ´»è¿ç”¨è¿™ä¸ªæŠ€å·§æ¥åº”å¯¹é«˜å®¹é”™çš„åº”ç”¨åœºæ™¯ã€‚</p>
<h3 id="æœ‰çŠ¶æ€æ›´æ–°ç­–ç•¥">æœ‰çŠ¶æ€æ›´æ–°ç­–ç•¥</h3>
<p>é»˜è®¤ StatefulSet çš„æ›´æ–°ç­–ç•¥æ˜¯ä½¿ç”¨ spec.updateStrategy å­—æ®µè¿›è¡Œé…ç½®ã€‚spec.updateStrategy.type å­—æ®µæ¥å— OnDelete æˆ– RollingUpdate ä½œä¸ºå€¼ã€‚é»˜è®¤ OnDelete å¯é˜²æ­¢æ§åˆ¶å™¨è‡ªåŠ¨æ›´æ–°å…¶ Podã€‚æ‚¨å¿…é¡»æ‰‹åŠ¨åˆ é™¤ Podï¼Œä»¥ä½¿æ§åˆ¶å™¨åˆ›å»ºæ–° Pod æ¥åæ˜ æ‚¨çš„æ›´æ”¹ã€‚å¦å¤–ä¸€ç§ç­–ç•¥æ˜¯ RollingUpdate å®ç° StatefulSet ä¸­çš„ Pod çš„è‡ªåŠ¨æ»šåŠ¨æ›´æ–°ã€‚RollingUpdate ä½¿æ§åˆ¶å™¨åˆ é™¤å¹¶é‡æ–°åˆ›å»ºå…¶æ¯ä¸ª Podï¼Œå¹¶ä¸”ä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ª Podã€‚åœ¨æ›´æ–°çš„ Pod è¿è¡Œå¹¶å°±ç»ªä¹‹åï¼Œæ§åˆ¶å™¨æ‰ä¼šæ›´æ–°å…¶ä¸Šä¸€ä¸ª Podã€‚StatefulSet æ§åˆ¶å™¨ä»¥åå‘é¡ºåºæ›´æ–°æ‰€æœ‰ Podï¼ŒåŒæ—¶éµå¾ª StatefulSet ä¿è¯è§„åˆ™ã€‚</p>
<p>æ˜¾ç„¶ RollingUpdate é»˜è®¤æ›´æ–°ç­–ç•¥éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½æ›´æ–°å®Œæ¯•ã€‚å¦‚æœéœ€è¦æ›´çµæ´»çš„ç‰¹æ€§ï¼Œå¯ä»¥å€ŸåŠ©å¼€æºçš„æ‰©å±•æ’ä»¶æ¥å¢å¼º StatefulSet çš„ç‰¹æ€§ï¼Œå¦‚é‡‡ç”¨ OpenKruise è°ƒåº¦å™¨ã€‚å…¶ä¸­æˆ‘æƒ³ä»‹ç»çš„ä¸€ä¸ªç‰¹æ€§å°±æ˜¯åŸåœ°å‡çº§çš„ç­–ç•¥ï¼šIn-Place Pod Update Strategyã€‚</p>
<pre tabindex="0"><code>apiVersion: apps.kruise.io/v1alpha1
kind: StatefulSet
spec:
  # ...
  podManagementPolicy: Parallel
  updateStrategy:
    type: RollingUpdate
    rollingUpdate:
      podUpdatePolicy: InPlaceIfPossible
      inPlaceUpdateStrategy:
        gracePeriodSeconds: 10

</code></pre><p>StatefulSet å¢åŠ äº† podUpdatePolicy æ¥å…è®¸ç”¨æˆ·æŒ‡å®šé‡å»ºå‡çº§è¿˜æ˜¯åŸåœ°å‡çº§ã€‚</p>
<ul>
<li>ReCreateï¼šæ§åˆ¶å™¨ä¼šåˆ é™¤æ—§ Pod å’Œå®ƒçš„ PVCï¼Œç„¶åç”¨æ–°ç‰ˆæœ¬é‡æ–°åˆ›å»ºå‡ºæ¥ã€‚</li>
<li>InPlaceIfPossibleï¼šæ§åˆ¶å™¨ä¼šä¼˜å…ˆå°è¯•åŸåœ°å‡çº§ Podï¼Œå¦‚æœä¸è¡Œå†é‡‡ç”¨é‡å»ºå‡çº§ã€‚ç›®å‰ï¼Œåªæœ‰ä¿®æ”¹ <code>spec.template.metadata.*</code> å’Œ <code>spec.template.spec.containers[x].image</code> è¿™äº›å­—æ®µæ‰å¯ä»¥èµ°åŸåœ°å‡çº§ã€‚</li>
<li>InPlaceOnlyï¼šæ§åˆ¶å™¨åªå…è®¸é‡‡ç”¨åŸåœ°å‡çº§ã€‚å› æ­¤ï¼Œç”¨æˆ·åªèƒ½ä¿®æ”¹ä¸Šä¸€æ¡ä¸­çš„é™åˆ¶å­—æ®µï¼Œå¦‚æœå°è¯•ä¿®æ”¹å…¶ä»–å­—æ®µä¼šè¢« Kruise æ‹’ç»ã€‚</li>
</ul>
<p>æˆ‘ä»¬åœ¨ä¸€å¥—ä¸šåŠ¡ç¯å¢ƒä¸­æ›´æ–°æœ€å¤šçš„å°±æ˜¯é•œåƒç‰ˆæœ¬ï¼Œæ‰€ä»¥è¿™ä¸ªéœ€æ±‚ç‰¹åˆ«é€‚åˆäº‘åŸç”Ÿä½“ç³»ä¸­çš„æ—¥å¸¸åº”ç”¨è¿ç»´æ“ä½œã€‚</p>
<p><strong>æ›´é‡è¦çš„æ˜¯</strong>ï¼Œä½¿ç”¨ InPlaceIfPossible æˆ– InPlaceOnly ç­–ç•¥ï¼Œå¿…é¡»è¦å¢åŠ ä¸€ä¸ª InPlaceUpdateReady readinessGateï¼Œç”¨æ¥åœ¨åŸåœ°å‡çº§çš„æ—¶å€™æ§åˆ¶å™¨å°† Pod è®¾ç½®ä¸º NotReadyã€‚ä¸€ä¸ªå®Œæ•´çš„æ¡ˆä¾‹å‚è€ƒï¼š</p>
<pre tabindex="0"><code>apiVersion: apps.kruise.io/v1alpha1
kind: StatefulSet
metadata:
  name: sample
spec:
  replicas: 3
  serviceName: fake-service
  selector:
    matchLabels:
      app: sample
  template:
    metadata:
      labels:
        app: sample
    spec:
      readinessGates:
         # A new condition that ensures the pod remains at NotReady state while the in-place update is happening
      - conditionType: InPlaceUpdateReady
      containers:
      - name: main
        image: nginx:alpine
  podManagementPolicy: Parallel # allow parallel updates, works together with maxUnavailable
  updateStrategy:
    type: RollingUpdate
    rollingUpdate:
      # Do in-place update if possible, currently only image update is supported for in-place update
      podUpdatePolicy: InPlaceIfPossible
      # Allow parallel updates with max number of unavailable instances equals to 2
      maxUnavailable: 2

</code></pre><p>OpenKruise è°ƒåº¦å™¨è¿˜æä¾›äº†å¾ˆå¤šå…¶å®ƒå¯¹è±¡çš„æ‰©å±•ï¼Œå¦‚æœä½ æœ‰å…´è¶£å¯ä»¥ä½œä¸ºæ‰©å±•å»å…³æ³¨ï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿°ã€‚</p>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>æœ‰çŠ¶æ€åº”ç”¨ä¸€èˆ¬éƒ½æ˜¯å¤šä¸ªä¸é€šç±»å‹çš„é•œåƒç»„åˆè€Œæˆçš„ï¼Œä¸å¯èƒ½åƒ Nginx ä¸€æ ·åªè¦æ„å»ºä¸€ä¸ªé•œåƒï¼Œç„¶åä½¿ç”¨ Deployment å¯¹è±¡å°±æ°´å¹³æ‰©å±•äº†ã€‚åœ¨æ—©æœŸéƒ¨ç½²æœ‰çŠ¶æ€åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå¤§å®¶åªçœ‹åˆ°äº†ç”¨ YAML éƒ¨ç½²å®¹å™¨çš„ä¾¿åˆ©æ€§ï¼Œå¹¶æ²¡æœ‰æœ‰æ•ˆåœ°è®¤æ¸…æ¥š Kubernetes çš„ä¸è¶³ã€‚è™½ç„¶é’ˆå¯¹åº”ç”¨éƒ¨ç½²å‡ºæ¥äº† Helm ç®¡ç†å·¥å…·ï¼Œä½†æ˜¯ä»ç„¶æ˜¯é’ˆå¯¹å•ä¸ªåº”ç”¨çš„éƒ¨ç½²ä¼šç®€å•å¾ˆå¤šï¼Œå¤šä¸ªåº”ç”¨çš„éƒ¨ç½²ä¾‹å­åŸºæœ¬ä¸Šéƒ½æ˜¯ç©å…·ç±»å‹çš„ç¤ºèŒƒï¼Œä¸èƒ½å½“æˆç”Ÿäº§å¯ç”¨çš„èŒƒä¾‹ã€‚ä»çœŸå®çš„è¿ç»´åœºæ™¯å‡ºå‘ï¼Œç›®å‰æ¯”è¾ƒåˆé€‚çš„ç”Ÿäº§èŒƒä¾‹ï¼Œä»ç„¶éœ€è¦é‡‡ç”¨ Operator æ¥è‡ªå»ºè‡ªå·±çš„éƒ¨ç½²æ¡†æ¶ã€‚å½“ç„¶ï¼Œå¼€æºå¯å‚è€ƒçš„ Operator ä¹Ÿå¼€å§‹å¤šäº†èµ·æ¥ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥èµ·åˆ°ç¤ºèŒƒçš„ä½œç”¨ã€‚</p>
<p>ä»æœ‰çŠ¶æ€åº”ç”¨çš„ç‰¹æ€§å‡ºå‘ï¼Œæˆ‘ä»¬é¦–å…ˆå…³å¿ƒçš„æ ‡è¯†å”¯ä¸€æ€§ï¼ŒKubernetes æ˜¯é€šè¿‡ StatefulSet ä¿è¯çš„ã€‚ä»åº”ç”¨å¥å£®æ€§æ¥è®²ï¼Œä¸€å®šè¦é‡‡ç”¨ PodAntiAffinityã€‚æ›´æ–°ç­–ç•¥é»˜è®¤æ˜¯æ‰‹å·¥åˆ é™¤ï¼Œæ»šåŠ¨æ›´æ–°æ˜¯ä¸²è¡Œä¸€ä¸ªä¸€ä¸ªæ›´æ–°ï¼Œæ—¶é—´ä¼šå¾ˆé•¿ã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œå¯ä»¥é‡‡ç”¨å¼€æºæ‰©å±•çš„è°ƒåº¦å™¨æ¥å¢å¼ºä¸šåŠ¡å¯æ“ä½œä¸‹ï¼Œç¬”è€…è®¤ä¸ºåŸåœ°æ›´æ–°çš„ç­–ç•¥æ˜¯å½“å‰æœ€å®ç”¨çš„ä¸€ä¸ªç­–ç•¥ã€‚</p>
<h3 id="å‚è€ƒæ–‡ç« ">å‚è€ƒæ–‡ç« </h3>
<ul>
<li><a href="https://docs.projectcalico.org/networking/use-specific-ip">https://docs.projectcalico.org/networking/use-specific-ip</a></li>
<li><a href="https://intl.cloud.tencent.com/zh/document/product/457/35249">https://intl.cloud.tencent.com/zh/document/product/457/35249</a></li>
<li><a href="https://openkruise.io/zh-cn/docs/advanced_statefulset.html">https://openkruise.io/zh-cn/docs/advanced_statefulset.html</a></li>
</ul>

        </div>
    </article>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/19-%E4%BD%BF%E7%94%A8-rook-%E6%9E%84%E5%BB%BA%E7%94%9F%E4%BA%A7%E5%8F%AF%E7%94%A8%E5%AD%98%E5%82%A8%E7%8E%AF%E5%A2%83%E5%AE%9E%E8%B7%B5/"><span>19 ä½¿ç”¨ Rook æ„å»ºç”Ÿäº§å¯ç”¨å­˜å‚¨ç¯å¢ƒå®è·µ</span></a>
    </div>
    <div class="next">
        
        <a href="/documents/columns/kubernetes/kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/21-%E6%A1%88%E4%BE%8B%E5%88%86%E5%B8%83%E5%BC%8F-mysql-%E9%9B%86%E7%BE%A4%E5%B7%A5%E5%85%B7-vitess-%E5%AE%9E%E8%B7%B5%E5%88%86%E6%9E%90/"><span>21 æ¡ˆä¾‹ï¼šåˆ†å¸ƒå¼ MySQL é›†ç¾¤å·¥å…· Vitess å®è·µåˆ†æ</span></a>
    </div>
</div>

        </div>
        <div class="toggler" onclick="toggleLight(this);">ğŸ’¡</div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 28280 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    function toggleLight() {
        document.getElementById('page').classList.toggle('night');
    }
</script>
</body>

</html>