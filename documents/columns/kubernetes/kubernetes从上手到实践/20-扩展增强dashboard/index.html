<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>20 æ‰©å±•å¢å¼ºï¼šDashboard | Yipsen Ye</title>
<meta name="description" content="æ•´ä½“æ¦‚è§ˆ é€šè¿‡å‰é¢çš„ä»‹ç»ï¼Œæƒ³å¿…ä½ å·²ç»è¿«ä¸åŠå¾…çš„æƒ³è¦å°†åº”ç”¨éƒ¨ç½²è‡³ K8S ä¸­ï¼Œä½†æ€»æ˜¯ä½¿ç”¨ kubectl æˆ–è€… Helm ç­‰å‘½ä»¤è¡Œå·¥å…·ä¹Ÿè®¸ä¸å¤ªç›´è§‚ï¼Œä½ å¯èƒ½æƒ³è¦ä¸€çœ¼å°±çœ‹åˆ°é›†ç¾¤å½“å‰çš„çŠ¶æ€ï¼Œæˆ–è€…æƒ³è¦æ›´æ–¹ä¾¿çš„å¯¹é›†ç¾¤è¿›è¡Œç®¡ç†ã€‚
æœ¬èŠ‚å°†ä»‹ç»ä¸€ä¸ª Web é¡¹ç›® Dashboard å¯ç”¨äºéƒ¨ç½²å®¹å™¨åŒ–çš„åº”ç”¨ç¨‹åºï¼Œç®¡ç†é›†ç¾¤ä¸­çš„èµ„æºï¼Œç”šè‡³æ˜¯æ’æŸ¥å’Œè§£å†³é—®é¢˜ã€‚
å½“ç„¶å®ƒå’Œå¤§å¤šæ•° Dashboard ç±»çš„é¡¹ç›®ç±»ä¼¼ï¼Œä¹Ÿä¸ºé›†ç¾¤çš„çŠ¶æ€æä¾›äº†ä¸€ä¸ªå¾ˆç›´è§‚çš„å±•ç¤ºã€‚
å¦‚ä½•å®‰è£… è¦æƒ³ä½¿ç”¨ Dashboardï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…å®ƒï¼Œè€Œ Dashboard çš„å®‰è£…å…¶å®ä¹Ÿå¾ˆç®€å•ã€‚ä¸è¿‡å¯¹äºå›½å†…ç”¨æˆ·éœ€è¦æ³¨æ„çš„æ˜¯éœ€è¦è§£å†³ç½‘ç»œé—®é¢˜ï¼Œæˆ–æ›¿æ¢é•œåƒåœ°å€ç­‰ã€‚
è¿™é‡Œæˆ‘ä»¬å®‰è£…å½“å‰æœ€æ–°ç‰ˆ v1.10.1 çš„ Dashboardï¼š
  å¯¹äºå·²ç»è§£å†³ç½‘ç»œé—®é¢˜çš„ç”¨æˆ·ï¼š
å¯ä½¿ç”¨å®˜æ–¹æ¨èåšæ³•è¿›è¡Œå®‰è£…ï¼Œä»¥ä¸‹é“¾æ¥æ˜¯ä½¿ç”¨äº†æˆ‘æäº¤äº† path çš„ç‰ˆæœ¬ï¼Œç”±äºå®˜æ–¹æœ€è¿‘çš„ä¸€æ¬¡æ›´æ–°å¯¼è‡´é…ç½®æ–‡ä»¶ä¸­çš„é•œåƒæé”™äº†ã€‚
master $ kubectl apply -f https://raw.githubusercontent.com/tao12345666333/dashboard/67970554aa9275cccec1d1ee5fbf89ae81b3b614/aio/deploy/recommended/kubernetes-dashboard.yaml secret/kubernetes-dashboard-certs created serviceaccount/kubernetes-dashboard created role.rbac.authorization.k8s.io/kubernetes-dashboard-minimal created rolebinding.rbac.authorization.k8s.io/kubernetes-dashboard-minimal created deployment.apps/kubernetes-dashboard created service/kubernetes-dashboard created   ä¹Ÿå¯ä½¿ç”¨æˆ‘ä¿®æ”¹è¿‡çš„è¿™ä»½ï¼ˆä½¿ç”¨ Docker Hub åŒæ­¥äº†é•œåƒï¼‰ä»“åº“åœ°å€ GitHub, å›½å†… Giteeï¼š
master $ kubectl apply -f https://gitee.com/K8S-release/k8s-dashboard/raw/master/kubernetes-dashboard.yaml secret/kubernetes-dashboard-certs created serviceaccount/kubernetes-dashboard created role.rbac.authorization.k8s.io/kubernetes-dashboard-minimal created rolebinding.">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="logo-link" style="width: 60px; color: #CA6924;">
    <a href="http://yipsen.github.io/">
        <img style="margin-bottom: -1rem;" src="/images/deer.svg" alt="logo">
        <span style="font-size: 0.5rem; color: #CA6924;">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æœ­è®°</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/kubernetes%e4%bb%8e%e4%b8%8a%e6%89%8b%e5%88%b0%e5%ae%9e%e8%b7%b5/">Kubernetesä»ä¸Šæ‰‹åˆ°å®è·µ</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/01-%E5%BC%80%E7%AF%87-kubernetes-%E6%98%AF%E4%BB%80%E4%B9%88%E4%BB%A5%E5%8F%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AE%83/">01 å¼€ç¯‡ï¼š Kubernetes æ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/02-%E5%88%9D%E6%AD%A5%E8%AE%A4%E8%AF%86kubernetes-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/">02 åˆæ­¥è®¤è¯†ï¼šKubernetes åŸºç¡€æ¦‚å¿µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/03-%E5%AE%8F%E8%A7%82%E8%AE%A4%E8%AF%86%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84/">03 å®è§‚è®¤è¯†ï¼šæ•´ä½“æ¶æ„</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/04-%E6%90%AD%E5%BB%BA-kubernetes-%E9%9B%86%E7%BE%A4-%E6%9C%AC%E5%9C%B0%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA/">04 æ­å»º Kubernetes é›†ç¾¤ - æœ¬åœ°å¿«é€Ÿæ­å»º</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/05-%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA-kubernetes-%E9%9B%86%E7%BE%A4-%E7%94%9F%E4%BA%A7%E5%8F%AF%E7%94%A8/">05 åŠ¨æ‰‹å®è·µï¼šæ­å»ºä¸€ä¸ª Kubernetes é›†ç¾¤ - ç”Ÿäº§å¯ç”¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/06-%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E5%88%9D%E8%AF%86-kubectl/">06 é›†ç¾¤ç®¡ç†ï¼šåˆè¯† kubectl</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/07-%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E4%BB%A5-redis-%E4%B8%BA%E4%BE%8B-%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%AE%BF%E9%97%AE/">07 é›†ç¾¤ç®¡ç†ï¼šä»¥ Redis ä¸ºä¾‹-éƒ¨ç½²åŠè®¿é—®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/08-%E5%AE%89%E5%85%A8%E9%87%8D%E7%82%B9-%E8%AE%A4%E8%AF%81%E5%92%8C%E6%8E%88%E6%9D%83/">08 å®‰å…¨é‡ç‚¹ è®¤è¯å’Œæˆæƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/09-%E5%BA%94%E7%94%A8%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2%E5%AE%9E%E9%99%85%E9%A1%B9%E7%9B%AE/">09 åº”ç”¨å‘å¸ƒï¼šéƒ¨ç½²å®é™…é¡¹ç›®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/10-%E5%BA%94%E7%94%A8%E7%AE%A1%E7%90%86%E5%88%9D%E8%AF%86-helm/">10 åº”ç”¨ç®¡ç†ï¼šåˆè¯† Helm</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/11-%E9%83%A8%E7%BD%B2%E5%AE%9E%E8%B7%B5%E4%BB%A5-helm-%E9%83%A8%E7%BD%B2%E9%A1%B9%E7%9B%AE/">11 éƒ¨ç½²å®è·µï¼šä»¥ Helm éƒ¨ç½²é¡¹ç›®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/12-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-apiserver/">12 åº–ä¸è§£ç‰›ï¼škube-apiserver</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/13-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Betcd/">13 åº–ä¸è§£ç‰›ï¼šetcd</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/14-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bcontroller-manager/">14 åº–ä¸è§£ç‰›ï¼šcontroller-manager</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/15-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-scheduler/">15 åº–ä¸è§£ç‰›ï¼škube-scheduler</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/16-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkubelet/">16 åº–ä¸è§£ç‰›ï¼škubelet</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/17-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-proxy/">17 åº–ä¸è§£ç‰›ï¼škube-proxy</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/18-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bcontainer-runtime-docker/">18 åº–ä¸è§£ç‰›ï¼šContainer Runtime ï¼ˆDockerï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/19-troubleshoot/">19 Troubleshoot</a></li>
                
                
                
                    <li>20 æ‰©å±•å¢å¼ºï¼šDashboard</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/21-%E6%89%A9%E5%B1%95%E5%A2%9E%E5%BC%BAcoredns/">21 æ‰©å±•å¢å¼ºï¼šCoreDNS</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/22-%E6%9C%8D%E5%8A%A1%E5%A2%9E%E5%BC%BAingress/">22 æœåŠ¡å¢å¼ºï¼šIngress</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/23-%E7%9B%91%E6%8E%A7%E5%AE%9E%E8%B7%B5%E5%AF%B9-k8s-%E9%9B%86%E7%BE%A4%E8%BF%9B%E8%A1%8C%E7%9B%91%E6%8E%A7/">23 ç›‘æ§å®è·µï¼šå¯¹ K8S é›†ç¾¤è¿›è¡Œç›‘æ§</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/24-%E6%80%BB%E7%BB%93/">24 æ€»ç»“</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">20 æ‰©å±•å¢å¼ºï¼šDashboard</h1>
        <div class="post-info">
            <div> 
                <span class="post-date">ğŸ“…&nbsp;2021-12-22 01:47:46</span>ğŸ·ï¸&nbsp;<a class="post-tag" href="/tags/kubernetes/">kubernetes</a></div><div class="post-category">
                
                ğŸ“š&nbsp;<a href="/categories/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/">Kubernetesä»ä¸Šæ‰‹åˆ°å®è·µ</a>
                
            </div></div>
        <div class="post-content">
            <h2 id="æ•´ä½“æ¦‚è§ˆ">æ•´ä½“æ¦‚è§ˆ</h2>
<p>é€šè¿‡å‰é¢çš„ä»‹ç»ï¼Œæƒ³å¿…ä½ å·²ç»è¿«ä¸åŠå¾…çš„æƒ³è¦å°†åº”ç”¨éƒ¨ç½²è‡³ K8S ä¸­ï¼Œä½†æ€»æ˜¯ä½¿ç”¨ <code>kubectl</code> æˆ–è€… <code>Helm</code> ç­‰å‘½ä»¤è¡Œå·¥å…·ä¹Ÿè®¸ä¸å¤ªç›´è§‚ï¼Œä½ å¯èƒ½æƒ³è¦ä¸€çœ¼å°±çœ‹åˆ°é›†ç¾¤å½“å‰çš„çŠ¶æ€ï¼Œæˆ–è€…æƒ³è¦æ›´æ–¹ä¾¿çš„å¯¹é›†ç¾¤è¿›è¡Œç®¡ç†ã€‚</p>
<p>æœ¬èŠ‚å°†ä»‹ç»ä¸€ä¸ª Web é¡¹ç›® <a href="https://github.com/kubernetes/dashboard"><code>Dashboard</code></a> å¯ç”¨äºéƒ¨ç½²å®¹å™¨åŒ–çš„åº”ç”¨ç¨‹åºï¼Œç®¡ç†é›†ç¾¤ä¸­çš„èµ„æºï¼Œç”šè‡³æ˜¯æ’æŸ¥å’Œè§£å†³é—®é¢˜ã€‚</p>
<p>å½“ç„¶å®ƒå’Œå¤§å¤šæ•° Dashboard ç±»çš„é¡¹ç›®ç±»ä¼¼ï¼Œä¹Ÿä¸ºé›†ç¾¤çš„çŠ¶æ€æä¾›äº†ä¸€ä¸ªå¾ˆç›´è§‚çš„å±•ç¤ºã€‚</p>
<p><img src="/images/a600af997900beae45c2eff4a68cbe42e31f11c227da92c0d6682912b4286c1b.png" alt="picture 8"></p>
<h2 id="å¦‚ä½•å®‰è£…">å¦‚ä½•å®‰è£…</h2>
<p>è¦æƒ³ä½¿ç”¨ Dashboardï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…å®ƒï¼Œè€Œ Dashboard çš„å®‰è£…å…¶å®ä¹Ÿå¾ˆç®€å•ã€‚ä¸è¿‡å¯¹äºå›½å†…ç”¨æˆ·éœ€è¦æ³¨æ„çš„æ˜¯éœ€è¦è§£å†³ç½‘ç»œé—®é¢˜ï¼Œæˆ–æ›¿æ¢é•œåƒåœ°å€ç­‰ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬å®‰è£…å½“å‰æœ€æ–°ç‰ˆ <code>v1.10.1</code> çš„ Dashboardï¼š</p>
<ul>
<li>
<p>å¯¹äºå·²ç»è§£å†³ç½‘ç»œé—®é¢˜çš„ç”¨æˆ·ï¼š</p>
<p>å¯ä½¿ç”¨å®˜æ–¹æ¨èåšæ³•è¿›è¡Œå®‰è£…ï¼Œä»¥ä¸‹é“¾æ¥æ˜¯ä½¿ç”¨äº†æˆ‘æäº¤äº† path çš„ç‰ˆæœ¬ï¼Œç”±äºå®˜æ–¹æœ€è¿‘çš„ä¸€æ¬¡æ›´æ–°å¯¼è‡´é…ç½®æ–‡ä»¶ä¸­çš„é•œåƒæé”™äº†ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">master $ kubectl apply -f https://raw.githubusercontent.com/tao12345666333/dashboard/67970554aa9275cccec1d1ee5fbf89ae81b3b614/aio/deploy/recommended/kubernetes-dashboard.yaml
secret/kubernetes-dashboard-certs created
serviceaccount/kubernetes-dashboard created
role.rbac.authorization.k8s.io/kubernetes-dashboard-minimal created
rolebinding.rbac.authorization.k8s.io/kubernetes-dashboard-minimal created
deployment.apps/kubernetes-dashboard created
service/kubernetes-dashboard created
</code></pre></div></li>
<li>
<p>ä¹Ÿå¯ä½¿ç”¨æˆ‘ä¿®æ”¹è¿‡çš„è¿™ä»½ï¼ˆä½¿ç”¨ Docker Hub åŒæ­¥äº†é•œåƒï¼‰ä»“åº“åœ°å€ <a href="https://github.com/tao12345666333/k8s-dashboard">GitHub</a>, å›½å†… <a href="https://gitee.com/K8S-release/k8s-dashboard">Gitee</a>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">master $ kubectl apply -f https://gitee.com/K8S-release/k8s-dashboard/raw/master/kubernetes-dashboard.yaml
secret/kubernetes-dashboard-certs created
serviceaccount/kubernetes-dashboard created
role.rbac.authorization.k8s.io/kubernetes-dashboard-minimal created
rolebinding.rbac.authorization.k8s.io/kubernetes-dashboard-minimal created
deployment.apps/kubernetes-dashboard created
service/kubernetes-dashboard created
</code></pre></div></li>
</ul>
<p>å½“å·²ç»æ‰§è¡Œå®Œä»¥ä¸Šæ­¥éª¤åï¼Œå¯æ£€æŸ¥ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">master $ kubectl -n kube-system get all  -l k8s-app<span style="color:#f92672">=</span>kubernetes-dashboard
NAME                                        READY     STATUS    RESTARTS   AGE
pod/kubernetes-dashboard-67896bc598-dhdpz   1/1       Running   <span style="color:#ae81ff">0</span>          3m

NAME                           TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span style="color:#f92672">(</span>S<span style="color:#f92672">)</span>   AGE
service/kubernetes-dashboard   ClusterIP   10.109.92.207   &lt;none&gt;        443/TCP   3m

NAME                                   DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/kubernetes-dashboard   <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>            <span style="color:#ae81ff">1</span>           3m

NAME                                              DESIRED   CURRENT   READY     AGE
replicaset.apps/kubernetes-dashboard-67896bc598   <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         3m
</code></pre></div><p>å¯ä»¥çœ‹åˆ° <code>Pod</code> å·²ç»åœ¨æ­£å¸¸è¿è¡Œï¼Œæ¥ä¸‹æ¥ä¾¿æ˜¯è®¿é—® Dashboard.</p>
<h2 id="è®¿é—®-dashboard">è®¿é—® Dashboard</h2>
<p>ä»¥å½“å‰çš„éƒ¨ç½²æ–¹å¼ï¼Œ<code>Service</code> ä½¿ç”¨äº† <code>ClusterIP</code> çš„ç±»å‹ï¼Œæ‰€ä»¥åœ¨é›†ç¾¤å¤–ä¸èƒ½ç›´æ¥è®¿é—®ã€‚æˆ‘ä»¬å…ˆä½¿ç”¨ <code>kubectl</code> æä¾›çš„ <code>port-forward</code> åŠŸèƒ½è¿›è¡Œè®¿é—®ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">master $ kubectl -n kube-system port-forward pod/kubernetes-dashboard-67896bc598-dhdpz <span style="color:#ae81ff">8443</span>
Forwarding from 127.0.0.1:8443 -&gt; <span style="color:#ae81ff">8443</span>
Forwarding from <span style="color:#f92672">[</span>::1<span style="color:#f92672">]</span>:8443 -&gt; <span style="color:#ae81ff">8443</span>
</code></pre></div><p>è¿˜è®°å¾—ï¼Œæˆ‘ä»¬åœ¨ç¬¬ 5 èŠ‚æ—¶å€™å®‰è£…è¿‡ä¸€ä¸ªåä¸º <code>socat</code> çš„ä¾èµ–é¡¹å—ï¼Ÿ <code>socat</code> çš„ä¸»è¦åŠŸèƒ½ä¾¿æ˜¯ç«¯å£è½¬å‘ã€‚</p>
<p>ç°åœ¨åœ¨æµè§ˆå™¨æ‰“å¼€ <a href="https://127.0.0.1:8443/"><code>https://127.0.0.1:8443</code></a> ä¾¿å¯çœ‹åˆ°å¦‚ä¸‹çš„ç™»å½•ç•Œé¢ã€‚</p>
<p><img src="/images/7b4d14e53013e946760efce5237d5f3ffd46b23b0abc9259ab6b15d8d26a657c.png" alt="picture 9"></p>
<p>å¯¹äºæˆ‘ä»¬çš„ <strong>æ–°ç‰ˆæœ¬</strong> è€Œè¨€ï¼Œæˆ‘ä»¬ <strong>ä½¿ç”¨ä»¤ç‰Œç™»å½•</strong> çš„æ–¹å¼ã€‚</p>
<h3 id="æŸ¥æ‰¾-token">æŸ¥æ‰¾ Token</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">master $ kubectl -n kube-system get serviceaccount -l k8s-app<span style="color:#f92672">=</span>kubernetes-dashboard -o yaml
apiVersion: v1
items:
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        <span style="color:#f92672">{</span><span style="color:#e6db74">&#34;apiVersion&#34;</span>:<span style="color:#e6db74">&#34;v1&#34;</span>,<span style="color:#e6db74">&#34;kind&#34;</span>:<span style="color:#e6db74">&#34;ServiceAccount&#34;</span>,<span style="color:#e6db74">&#34;metadata&#34;</span>:<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;annotations&#34;</span>:<span style="color:#f92672">{}</span>,<span style="color:#e6db74">&#34;labels&#34;</span>:<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;k8s-app&#34;</span>:<span style="color:#e6db74">&#34;kubernetes-dashboard&#34;</span><span style="color:#f92672">}</span>,<span style="color:#e6db74">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;kubernetes-dashboard&#34;</span>,<span style="color:#e6db74">&#34;namespace&#34;</span>:<span style="color:#e6db74">&#34;kube-system&#34;</span><span style="color:#f92672">}}</span>
    creationTimestamp: 2018-12-20T17:27:14Z
    labels:
      k8s-app: kubernetes-dashboard
    name: kubernetes-dashboard
    namespace: kube-system
    resourceVersion: <span style="color:#e6db74">&#34;1400&#34;</span>
    selfLink: /api/v1/namespaces/kube-system/serviceaccounts/kubernetes-dashboard
    uid: 7e01ddda-047c-11e9-b55c-0242ac11002a
  secrets:
  - name: kubernetes-dashboard-token-6ck2l
kind: List
metadata:
  resourceVersion: <span style="color:#e6db74">&#34;&#34;</span>
  selfLink: <span style="color:#e6db74">&#34;&#34;</span>
</code></pre></div><p>é¦–å…ˆï¼Œæˆ‘ä»¬æŸ¥çœ‹åˆšæ‰åˆ›å»ºå‡ºçš„ <code>serviceaccount</code> å¯ä»¥çœ‹åˆ°å…¶ä¸­æœ‰é…ç½® <code>secrets</code> ã€‚</p>
<p>æŸ¥çœ‹è¯¥ <code>secret</code> è¯¦æƒ…è·å¾— Token</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">master $ kubectl -n kube-system describe secrets kubernetes-dashboard-token-6ck2l
Name:         kubernetes-dashboard-token-6ck2l
Namespace:    kube-system
Labels:       &lt;none&gt;
Annotations:  kubernetes.io/service-account.name<span style="color:#f92672">=</span>kubernetes-dashboard
              kubernetes.io/service-account.uid<span style="color:#f92672">=</span>7e01ddda-047c-11e9-b55c-0242ac11002a

Type:  kubernetes.io/service-account-token

Data
<span style="color:#f92672">====</span>
ca.crt:     <span style="color:#ae81ff">1025</span> bytes
namespace:  <span style="color:#ae81ff">11</span> bytes
token:      eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJrdWJlcm5ldGVzLWRhc2hib2FyZC10b2tlbi02Y2sybCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjdlMDFkZGRhLTA0N2MtMTFlOS1iNTVjLTAyNDJhYzExMDAyYSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTprdWJlcm5ldGVzLWRhc2hib2FyZCJ9.WZ5YRUkGlKRSpkBFCk3BrZ6p2t1qVxEs7Kb18DP5X2C2lfMhDrB931PeN05uByLD6biz_4IQvKh4xmvY2RqekfV1BLCfcIiMUbc1lcXGbhH4g4vrsjYx3NZifaBh_5HuBlEL5zs5e_zFkPEhhIqjsY3KueFEuGwxTAsqGBQwawc-v6wqzB3Gzb01o1iN5aTb37PVG5gTTE8cQLih_urKhvdNEKBSRg_zHQlYjFrtUUWYRYMlYz_sWmamYVXHy_7NvKrBfw44WU5tLxMITkoUEGVwROBnHf_BcWVedozLg2uLVontB12YvhmTfJCDEAJ8o937bS-Fq3tLfu_xM40fqw
</code></pre></div><p>å°†æ­¤å¤„çš„ token å¡«å…¥è¾“å…¥æ¡†å†…ä¾¿å¯ç™»å½•ï¼Œ<strong>æ³¨æ„è¿™é‡Œä½¿ç”¨çš„æ˜¯ describeã€‚</strong></p>
<p><img src="/images/3fe02be3dbcb7cf6cc21cf53cd882d8225a96612f2ca40155c4ce50d5c98ac9b.png" alt="picture 10"></p>
<h3 id="ä¿®æ­£æƒé™">ä¿®æ­£æƒé™</h3>
<p>ä½†æ˜¯æˆ‘ä»¬æ³¨æ„åˆ°è¿™é‡Œæœ‰å¾ˆå¤šæç¤º <code>configmaps is forbidden: User &quot;system:serviceaccount:kube-system:kubernetes-dashboard&quot; cannot list resource &quot;configmaps&quot; in API group &quot;&quot; in the namespace &quot;default&quot;</code> ã€‚æ ¹æ®æˆ‘ä»¬å‰é¢çš„ä»‹ç»ï¼Œè¿™å¾ˆæ˜æ˜¾å°±æ˜¯ç”¨æˆ·æƒé™ä¸è¶³ã€‚</p>
<p>æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå½“å‰æˆ‘ä»¬çš„é›†ç¾¤æ˜¯å¼€å¯äº† <code>RBAC</code> çš„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯ä»¥å‰é¢å­¦åˆ°çš„æ–¹æ³•åˆ›å»ºä¸€ä¸ªç”¨æˆ·å¹¶è¿›è¡Œæˆæƒã€‚</p>
<ul>
<li>
<p>åˆ›å»º ServiceAccountï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apiVersion: v1
kind: ServiceAccount
metadata:
  name: admin-user
  namespace: kube-system
</code></pre></div></li>
<li>
<p>åˆ›å»º RoleBinding: è¿™é‡Œä¸ºäº†æ–¹ä¾¿ç›´æ¥ç»‘å®šäº† <code>cluster-admin</code> çš„ ClusterRole ï¼Œä½†æ˜¯ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œè¯·æŒ‰ç…§å®é™…æƒ…å†µè¿›è¡Œæˆæƒï¼Œå‚è€ƒå‰é¢ç¬¬ 8 èŠ‚ç›¸å…³çš„å†…å®¹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: admin-user
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-admin
subjects:
- kind: ServiceAccount
  name: admin-user
  namespace: kube-system
</code></pre></div></li>
</ul>
<p>ä½¿ç”¨ä»¥ä¸Šé…ç½®åˆ›å»ºäº†ç”¨æˆ·å’Œç»‘å®šï¼Œç„¶åè¿˜æ˜¯åŒæ ·çš„åŠæ³•è·å– Tokenã€‚</p>
<p>ç‚¹å‡» Dashboard å³ä¸Šè§’ï¼Œé€€å‡ºç™»å½•åï¼Œé‡æ–°ä½¿ç”¨æ–°çš„ Token è¿›è¡Œç™»å½•ã€‚ç™»å½•å®Œæˆåä¾¿å¯çœ‹åˆ°å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/images/a600af997900beae45c2eff4a68cbe42e31f11c227da92c0d6682912b4286c1b.png" alt="picture 11"></p>
<h2 id="éƒ¨ç½²åº”ç”¨">éƒ¨ç½²åº”ç”¨</h2>
<p>ç‚¹å‡»å³ä¸Šè§’çš„ <strong>+åˆ›å»º</strong> å¯è¿›å…¥åˆ›å»ºé¡µé¢ï¼Œç°åœ¨æ”¯æŒä¸‰ç§æ¨¡å¼ï¼šä»æ–‡æœ¬æ¡†è¾“å…¥ï¼›ä»æ–‡ä»¶åˆ›å»ºï¼›ç›´æ¥åˆ›å»ºåº”ç”¨ã€‚</p>
<p>æˆ‘ä»¬ä»ç„¶ä»¥æˆ‘ä»¬çš„ç¤ºä¾‹é¡¹ç›® <a href="https://github.com/tao12345666333/saythx">SayThx</a> ä¸ºä¾‹ã€‚å…ˆ <code>clone</code> è¯¥é¡¹ç›®ï¼Œå¹¶è¿›å…¥é¡¹ç›®çš„ <code>deploy</code> ç›®å½•ä¸­ã€‚å°† <code>namespace.yaml</code> çš„å†…å®¹å¤åˆ¶è¿›è¾“å…¥æ¡†ï¼Œç‚¹å‡»ä¸Šä¼ æŒ‰é’®ï¼Œä¾¿å¯åˆ›å»ºåä¸º <code>work</code> çš„ <code>Namespace</code> äº†ã€‚</p>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">master $ kubectl get ns
NAME          STATUS    AGE
default       Active    2h
kube-public   Active    2h
kube-system   Active    2h
work          Active    10s
</code></pre></div><p>å¯ä»¥çœ‹åˆ° Namespace å·²ç»åˆ›å»ºæˆåŠŸã€‚æˆ–è€…åˆ·æ–°ä¸‹ç½‘é¡µï¼Œç‚¹å‡»å·¦ä¾§çš„å‘½åç©ºé—´å³å¯çœ‹åˆ°å½“å‰çš„æ‰€æœ‰ <code>Namespace</code> ã€‚</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/Kubernetes%20%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/assets/167d6ba21937e5ca" alt="img"></p>
<p>æˆ‘ä»¬å…ˆå°†å·¦ä¾§çš„å‘½åç©ºé—´é€‰æ‹©ä¸º <strong>å…¨éƒ¨å‘½åç©ºé—´</strong> æˆ– <strong>work</strong> (å½“åˆ·æ–°è¿‡ç½‘é¡µå) ï¼Œæ¥ä¸‹æ¥ç»§ç»­ç‚¹å‡»å³ä¸Šè§’çš„ <strong>+åˆ›å»º</strong> æŒ‰é’®ï¼Œå°† <code>redis-deployment.yaml</code> çš„å†…å®¹å¤åˆ¶è¿›è¾“å…¥æ¡†ï¼Œç‚¹å‡»ä¸Šä¼ æŒ‰é’®ï¼Œéƒ¨ç½² Redis ã€‚</p>
<p>éƒ¨ç½²æˆåŠŸåï¼Œç‚¹å‡» éƒ¨ç½² ï¼Œç‚¹å‡»åˆšæ‰çš„ <code>saythx-redis</code> ä¾¿å¯çœ‹åˆ°å…¶è¯¦æƒ…ã€‚</p>
<p><img src="/images/9334d983fd69971e51b56ddb747ddc1455fd815cea35214c8ed2aca769a9db08.png" alt="picture 12"></p>
<p>ç‚¹å‡»å·¦ä¾§çš„å®¹å™¨ç»„ï¼Œä¾¿å¯çœ‹åˆ°åˆšæ‰éƒ¨ç½²çš„ Podï¼Œ</p>
<p><img src="/images/133148c96e9d4c9c30797a9f84c835d8315ea6bafbca650b9d0050335167a725.png" alt="picture 13"></p>
<p>åœ¨æ­¤é¡µé¢çš„å³ä¸Šè§’ï¼Œå¯ä»¥ç‚¹å‡»å‘½ä»¤è¡ŒæŒ‰é’®ï¼Œæ‰“å¼€æ–°æ ‡ç­¾é¡µè¿›å…¥å…¶å†…éƒ¨æ‰§è¡Œå‘½ä»¤ã€‚</p>
<p><img src="/images/8c2ff052e13c67ecfbe7063e769eb72e4d35ddd89980c0b583be93e39439c53d.png" alt="picture 14"></p>
<p>æˆ–è€…æ˜¯ç‚¹å‡»æ—¥å¿—æŒ‰é’®ï¼Œå¯æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼ŒæŸ¥çœ‹æ—¥å¿—ã€‚</p>
<p><img src="/images/cb29d4e47eff656a842cd6446cfce0e9152e087fa920ba4821d1d98fe228e797.png" alt="picture 15"></p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>æœ¬èŠ‚æˆ‘ä»¬ä»‹ç»äº† <code>Kubernetes Dashboard</code> çš„åŸºæœ¬åŠŸèƒ½ï¼Œä»¥åŠå¦‚ä½•å®‰è£…å’Œä½¿ç”¨å®ƒã€‚</p>
<p>Dashboard ç›¸æ¯” <code>kubectl</code> ä¸ºç”¨æˆ·æä¾›äº†ä¸€ç§ç›¸å¯¹ç›´è§‚çš„ Web ç«¯æ“ä½œæ–¹å¼ï¼Œä½†æ˜¯å¹¶ä¸èƒ½å®Œå…¨å–ä»£ <code>kubectl</code>ï¼Œè¿™ä¸¤è€…åº”è¯¥æ˜¯ç›¸è¾…ç›¸æˆçš„ã€‚</p>
<p>å¦‚æœä½ æ‰€éœ€çš„åŠŸèƒ½ç›¸å¯¹ç®€å•æˆ–æ˜¯æƒ³è¦ç»™æŸäº›ç”¨æˆ·æä¾›ä¸€ç§é€šè¿‡ Web æ“ä½œçš„æ–¹å¼ï¼Œé‚£ä¾¿æ¨èä½¿ç”¨ Dashboardã€‚Dashboard çš„åç«¯ä½¿ç”¨äº† K8S çš„ <a href="https://github.com/kubernetes/client-go"><code>client-go</code></a> ï¼Œå‰ç«¯ä¸»è¦ä½¿ç”¨äº† <a href="https://angular.io/">Angular</a>ï¼Œæœ‰å…´è¶£å¯ä»¥å¤§è‡´çœ‹çœ‹å…¶æºä»£ç ï¼Œå¯¹äºå¼€å‘åŸºäº K8S çš„äº‘å¹³å°ä¼šæœ‰äº›å¯å‘ã€‚</p>
<p>ä¸‹èŠ‚ï¼Œæˆ‘ä»¬å°†ä»‹ç»ç”¨äº DNS å’ŒæœåŠ¡å‘ç°çš„æ’ä»¶ <a href="https://coredns.io/">CoreDNS</a>ï¼Œå­¦ä¹ å¦‚ä½•åˆ©ç”¨å®ƒå®Œæˆè¿™äº›éœ€æ±‚ã€‚å¹¶ä¸”å®ƒåœ¨ K8S 1.13 ç‰ˆæœ¬ä¸­ï¼Œå·²ç»æˆä¸ºäº†é»˜è®¤çš„ DNS serverã€‚</p>

        </div>
    </article>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/19-troubleshoot/"><span>19 Troubleshoot</span></a>
    </div>
    <div class="next">
        
        <a href="/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/21-%E6%89%A9%E5%B1%95%E5%A2%9E%E5%BC%BAcoredns/"><span>21 æ‰©å±•å¢å¼ºï¼šCoreDNS</span></a>
    </div>
</div>

        </div>
        <div class="toggler" onclick="toggleLight(this);">ğŸ’¡</div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 28280 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    function toggleLight() {
        document.getElementById('page').classList.toggle('night');
    }
</script>
</body>

</html>