<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>07 é›†ç¾¤ç®¡ç†ï¼šä»¥ Redis ä¸ºä¾‹-éƒ¨ç½²åŠè®¿é—® | Yipsen Ye</title>
<meta name="description" content="ä¸ŠèŠ‚æˆ‘ä»¬å·²ç»å­¦ä¹ äº† kubectl çš„åŸºç¡€ä½¿ç”¨ï¼Œæœ¬èŠ‚æˆ‘ä»¬ä½¿ç”¨ kubectl åœ¨ K8S ä¸­è¿›è¡Œéƒ¨ç½²ã€‚
å‰é¢æˆ‘ä»¬å·²ç»è¯´è¿‡ï¼ŒPod æ˜¯ K8S ä¸­æœ€å°çš„è°ƒåº¦å•å…ƒï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•ç›´æ¥åœ¨ K8S ä¸­è¿è¡Œä¸€ä¸ª container ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è¿è¡Œä¸€ä¸ª Pod è€Œè¿™ä¸ª Pod ä¸­åªåŒ…å«ä¸€ä¸ª container ã€‚
ä» kubectl run å¼€å§‹ kubectl run çš„åŸºç¡€ç”¨æ³•å¦‚ä¸‹ï¼š
Usage: kubectl run NAME --image=image [--env=&amp;#34;key=value&amp;#34;] [--port=port] [--replicas=replicas] [--dry-run=bool] [--overrides=inline-json] [--command] -- [COMMAND] [args...] [options] NAME å’Œ --image æ˜¯å¿…éœ€é¡¹ã€‚åˆ†åˆ«ä»£è¡¨æ­¤æ¬¡éƒ¨ç½²çš„åå­—åŠæ‰€ä½¿ç”¨çš„é•œåƒï¼Œå…¶ä½™éƒ¨åˆ†ä¹‹åè¿›è¡Œè§£é‡Šã€‚å½“ç„¶ï¼Œåœ¨æˆ‘ä»¬å®é™…ä½¿ç”¨æ—¶ï¼Œæ¨èç¼–å†™é…ç½®æ–‡ä»¶å¹¶é€šè¿‡ kubectl create è¿›è¡Œéƒ¨ç½²ã€‚
ä½¿ç”¨æœ€å°çš„ Redis é•œåƒ åœ¨ Redis çš„å®˜æ–¹é•œåƒåˆ—è¡¨å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šçš„ tag å¯ä¾›é€‰æ‹©ï¼Œå…¶ä¸­ä½¿ç”¨ Alpine Linux ä½œä¸ºåŸºç¡€çš„é•œåƒä½“ç§¯æœ€å°ï¼Œä¸‹è½½è¾ƒä¸ºæ–¹ä¾¿ã€‚æˆ‘ä»¬é€‰æ‹© redis:alpine è¿™ä¸ªé•œåƒè¿›è¡Œéƒ¨ç½²ã€‚
éƒ¨ç½² ç°åœ¨æˆ‘ä»¬åªéƒ¨ç½²ä¸€ä¸ª Redis å®ä¾‹ã€‚
âœ ~ kubectl run redis --image=&amp;#39;redis:alpine&amp;#39; deployment.">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="logo-link" style="width: 60px; color: #CA6924;">
    <a href="http://yipsen.github.io/">
        <img style="margin-bottom: -1rem;" src="/images/deer.svg" alt="logo">
        <span style="font-size: 0.5rem; color: #CA6924;">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æœ­è®°</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/kubernetes%e4%bb%8e%e4%b8%8a%e6%89%8b%e5%88%b0%e5%ae%9e%e8%b7%b5/">Kubernetesä»ä¸Šæ‰‹åˆ°å®è·µ</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/01-%E5%BC%80%E7%AF%87-kubernetes-%E6%98%AF%E4%BB%80%E4%B9%88%E4%BB%A5%E5%8F%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AE%83/">01 å¼€ç¯‡ï¼š Kubernetes æ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/02-%E5%88%9D%E6%AD%A5%E8%AE%A4%E8%AF%86kubernetes-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/">02 åˆæ­¥è®¤è¯†ï¼šKubernetes åŸºç¡€æ¦‚å¿µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/03-%E5%AE%8F%E8%A7%82%E8%AE%A4%E8%AF%86%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84/">03 å®è§‚è®¤è¯†ï¼šæ•´ä½“æ¶æ„</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/04-%E6%90%AD%E5%BB%BA-kubernetes-%E9%9B%86%E7%BE%A4-%E6%9C%AC%E5%9C%B0%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA/">04 æ­å»º Kubernetes é›†ç¾¤ - æœ¬åœ°å¿«é€Ÿæ­å»º</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/05-%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA-kubernetes-%E9%9B%86%E7%BE%A4-%E7%94%9F%E4%BA%A7%E5%8F%AF%E7%94%A8/">05 åŠ¨æ‰‹å®è·µï¼šæ­å»ºä¸€ä¸ª Kubernetes é›†ç¾¤ - ç”Ÿäº§å¯ç”¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/06-%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E5%88%9D%E8%AF%86-kubectl/">06 é›†ç¾¤ç®¡ç†ï¼šåˆè¯† kubectl</a></li>
                
                
                
                    <li>07 é›†ç¾¤ç®¡ç†ï¼šä»¥ Redis ä¸ºä¾‹-éƒ¨ç½²åŠè®¿é—®</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/08-%E5%AE%89%E5%85%A8%E9%87%8D%E7%82%B9-%E8%AE%A4%E8%AF%81%E5%92%8C%E6%8E%88%E6%9D%83/">08 å®‰å…¨é‡ç‚¹ è®¤è¯å’Œæˆæƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/09-%E5%BA%94%E7%94%A8%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2%E5%AE%9E%E9%99%85%E9%A1%B9%E7%9B%AE/">09 åº”ç”¨å‘å¸ƒï¼šéƒ¨ç½²å®é™…é¡¹ç›®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/10-%E5%BA%94%E7%94%A8%E7%AE%A1%E7%90%86%E5%88%9D%E8%AF%86-helm/">10 åº”ç”¨ç®¡ç†ï¼šåˆè¯† Helm</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/11-%E9%83%A8%E7%BD%B2%E5%AE%9E%E8%B7%B5%E4%BB%A5-helm-%E9%83%A8%E7%BD%B2%E9%A1%B9%E7%9B%AE/">11 éƒ¨ç½²å®è·µï¼šä»¥ Helm éƒ¨ç½²é¡¹ç›®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/12-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-apiserver/">12 åº–ä¸è§£ç‰›ï¼škube-apiserver</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/13-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Betcd/">13 åº–ä¸è§£ç‰›ï¼šetcd</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/14-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bcontroller-manager/">14 åº–ä¸è§£ç‰›ï¼šcontroller-manager</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/15-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-scheduler/">15 åº–ä¸è§£ç‰›ï¼škube-scheduler</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/16-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkubelet/">16 åº–ä¸è§£ç‰›ï¼škubelet</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/17-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-proxy/">17 åº–ä¸è§£ç‰›ï¼škube-proxy</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/18-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bcontainer-runtime-docker/">18 åº–ä¸è§£ç‰›ï¼šContainer Runtime ï¼ˆDockerï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/19-troubleshoot/">19 Troubleshoot</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/20-%E6%89%A9%E5%B1%95%E5%A2%9E%E5%BC%BAdashboard/">20 æ‰©å±•å¢å¼ºï¼šDashboard</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/21-%E6%89%A9%E5%B1%95%E5%A2%9E%E5%BC%BAcoredns/">21 æ‰©å±•å¢å¼ºï¼šCoreDNS</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/22-%E6%9C%8D%E5%8A%A1%E5%A2%9E%E5%BC%BAingress/">22 æœåŠ¡å¢å¼ºï¼šIngress</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/23-%E7%9B%91%E6%8E%A7%E5%AE%9E%E8%B7%B5%E5%AF%B9-k8s-%E9%9B%86%E7%BE%A4%E8%BF%9B%E8%A1%8C%E7%9B%91%E6%8E%A7/">23 ç›‘æ§å®è·µï¼šå¯¹ K8S é›†ç¾¤è¿›è¡Œç›‘æ§</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/24-%E6%80%BB%E7%BB%93/">24 æ€»ç»“</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">07 é›†ç¾¤ç®¡ç†ï¼šä»¥ Redis ä¸ºä¾‹-éƒ¨ç½²åŠè®¿é—®</h1>
        <div class="post-info">
            <div> 
                <span class="post-date">ğŸ“…&nbsp;2021-12-22 01:47:33</span>ğŸ·ï¸&nbsp;<a class="post-tag" href="/tags/kubernetes/">kubernetes</a></div><div class="post-category">
                
                ğŸ“š&nbsp;<a href="/categories/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/">Kubernetesä»ä¸Šæ‰‹åˆ°å®è·µ</a>
                
            </div></div>
        <div class="post-content">
            <p>ä¸ŠèŠ‚æˆ‘ä»¬å·²ç»å­¦ä¹ äº† <code>kubectl</code> çš„åŸºç¡€ä½¿ç”¨ï¼Œæœ¬èŠ‚æˆ‘ä»¬ä½¿ç”¨ <code>kubectl</code> åœ¨ K8S ä¸­è¿›è¡Œéƒ¨ç½²ã€‚</p>
<p><strong>å‰é¢æˆ‘ä»¬å·²ç»è¯´è¿‡ï¼ŒPod æ˜¯ K8S ä¸­æœ€å°çš„è°ƒåº¦å•å…ƒï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•ç›´æ¥åœ¨ K8S ä¸­è¿è¡Œä¸€ä¸ª container ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è¿è¡Œä¸€ä¸ª Pod è€Œè¿™ä¸ª Pod ä¸­åªåŒ…å«ä¸€ä¸ª container ã€‚</strong></p>
<h2 id="ä»-kubectl-run-å¼€å§‹">ä» <code>kubectl run</code> å¼€å§‹</h2>
<p><code>kubectl run</code> çš„åŸºç¡€ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">Usage:
  kubectl run NAME --image<span style="color:#f92672">=</span>image <span style="color:#f92672">[</span>--env<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;key=value&#34;</span><span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--port<span style="color:#f92672">=</span>port<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--replicas<span style="color:#f92672">=</span>replicas<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--dry-run<span style="color:#f92672">=</span>bool<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--overrides<span style="color:#f92672">=</span>inline-json<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--command<span style="color:#f92672">]</span> -- <span style="color:#f92672">[</span>COMMAND<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>args...<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>options<span style="color:#f92672">]</span>
</code></pre></div><p><code>NAME</code> å’Œ <code>--image</code> æ˜¯å¿…éœ€é¡¹ã€‚åˆ†åˆ«ä»£è¡¨æ­¤æ¬¡éƒ¨ç½²çš„åå­—åŠæ‰€ä½¿ç”¨çš„é•œåƒï¼Œå…¶ä½™éƒ¨åˆ†ä¹‹åè¿›è¡Œè§£é‡Šã€‚å½“ç„¶ï¼Œåœ¨æˆ‘ä»¬å®é™…ä½¿ç”¨æ—¶ï¼Œæ¨èç¼–å†™é…ç½®æ–‡ä»¶å¹¶é€šè¿‡ <code>kubectl create</code> è¿›è¡Œéƒ¨ç½²ã€‚</p>
<h2 id="ä½¿ç”¨æœ€å°çš„-redis-é•œåƒ">ä½¿ç”¨æœ€å°çš„ Redis é•œåƒ</h2>
<p>åœ¨ Redis çš„<a href="https://hub.docker.com/_/redis/">å®˜æ–¹é•œåƒåˆ—è¡¨</a>å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šçš„ tag å¯ä¾›é€‰æ‹©ï¼Œå…¶ä¸­ä½¿ç”¨ <a href="https://alpinelinux.org/">Alpine Linux</a> ä½œä¸ºåŸºç¡€çš„é•œåƒä½“ç§¯æœ€å°ï¼Œä¸‹è½½è¾ƒä¸ºæ–¹ä¾¿ã€‚æˆ‘ä»¬é€‰æ‹© <code>redis:alpine</code> è¿™ä¸ªé•œåƒè¿›è¡Œéƒ¨ç½²ã€‚</p>
<h2 id="éƒ¨ç½²">éƒ¨ç½²</h2>
<p>ç°åœ¨æˆ‘ä»¬åªéƒ¨ç½²ä¸€ä¸ª Redis å®ä¾‹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl run redis --image<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;redis:alpine&#39;</span>
deployment.apps/redis created
</code></pre></div><p>å¯ä»¥çœ‹åˆ°æç¤º <code>deployment.apps/redis created</code> è¿™ä¸ªç¨åè¿›è¡Œè§£é‡Šï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>kubectl get all</code> æ¥çœ‹çœ‹åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl get all
NAME                         READY     STATUS    RESTARTS   AGE
pod/redis-7c7545cbcb-2m6rp   1/1       Running   <span style="color:#ae81ff">0</span>          30s

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span style="color:#f92672">(</span>S<span style="color:#f92672">)</span>   AGE
service/kubernetes   ClusterIP   10.96.0.1    &lt;none&gt;        443/TCP   32s

NAME                    DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/redis   <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>            <span style="color:#ae81ff">1</span>           30s

NAME                               DESIRED   CURRENT   READY     AGE
replicaset.apps/redis-7c7545cbcb   <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         30s
</code></pre></div><p>å¯ä»¥çœ‹åˆ°å…¶ä¸­æœ‰æˆ‘ä»¬åˆšæ‰æ‰§è¡Œ <code>run</code> æ“ä½œååˆ›å»ºçš„ <code>deployment.apps/redis</code>ï¼Œè¿˜æœ‰ <code>replicaset.apps/redis-7c7545cbcb</code>, <code>service/kubernetes</code> ä»¥åŠ <code>pod/redis-7c7545cbcb-f984p</code>ã€‚</p>
<p>ä½¿ç”¨ <code>kubectl get all</code> è¾“å‡ºå†…å®¹çš„æ ¼å¼ <code>/</code> å‰ä»£è¡¨ç±»å‹ï¼Œ<code>/</code> åæ˜¯åç§°ã€‚</p>
<p>è¿™äº›åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆå«ä¹‰ï¼Ÿ</p>
<h3 id="deployment">Deployment</h3>
<p><code>Deployment</code> æ˜¯ä¸€ç§é«˜çº§åˆ«çš„æŠ½è±¡ï¼Œå…è®¸æˆ‘ä»¬è¿›è¡Œæ‰©å®¹ï¼Œæ»šåŠ¨æ›´æ–°åŠé™çº§ç­‰æ“ä½œã€‚æˆ‘ä»¬ä½¿ç”¨ <code>kubectl run redis --image='redis:alpine</code> å‘½ä»¤ä¾¿åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>redis</code> çš„ <code>Deployment</code>ï¼Œå¹¶æŒ‡å®šäº†å…¶ä½¿ç”¨çš„é•œåƒä¸º <code>redis:alpine</code>ã€‚</p>
<p>åŒæ—¶ K8S ä¼šé»˜è®¤ä¸ºå…¶å¢åŠ ä¸€äº›æ ‡ç­¾ï¼ˆ<code>Label</code>ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ›´æ”¹ <code>get</code> çš„è¾“å‡ºæ ¼å¼è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl get deployment.apps/redis -o wide 
NAME      DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE       CONTAINERS   IMAGES         SELECTOR
redis     <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>            <span style="color:#ae81ff">1</span>           40s       redis        redis:alpine   run<span style="color:#f92672">=</span>redis
âœ  ~ kubectl get deploy redis -o wide          
NAME      DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE       CONTAINERS   IMAGES         SELECTOR
redis     <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>            <span style="color:#ae81ff">1</span>           40s       redis        redis:alpine   run<span style="color:#f92672">=</span>redis
</code></pre></div><p>é‚£ä¹ˆè¿™äº› <code>Label</code> æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿå®ƒä»¬å¯ä½œä¸ºé€‰æ‹©æ¡ä»¶è¿›è¡Œä½¿ç”¨ã€‚å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl get deploy -l run<span style="color:#f92672">=</span>redis -o wide 
NAME      DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE       CONTAINERS   IMAGES         SELECTOR
redis     <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>            <span style="color:#ae81ff">1</span>           11h       redis        redis:alpine   run<span style="color:#f92672">=</span>redis
âœ  ~ kubectl get deploy -l run<span style="color:#f92672">=</span>test -o wide  <span style="color:#75715e"># ç”±äºæˆ‘ä»¬å¹¶æ²¡æœ‰åˆ›å»ºè¿‡ test æ‰€ä»¥æŸ¥ä¸åˆ°ä»»ä½•ä¸œè¥¿</span>
No resources found.
</code></pre></div><p>æˆ‘ä»¬åœ¨åº”ç”¨éƒ¨ç½²æˆ–æ›´æ–°æ—¶æ€»æ˜¯ä¼šè€ƒè™‘çš„ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚ä½•å¹³æ»‘å‡çº§ï¼Œåˆ©ç”¨ <code>Deployment</code> ä¹Ÿèƒ½å¾ˆæ–¹ä¾¿çš„è¿›è¡Œé‡‘ä¸é›€å‘å¸ƒï¼ˆCanary deploymentsï¼‰ã€‚è¿™ä¸»è¦ä¹Ÿä¾èµ– <code>Label</code> å’Œ <code>Selector</code>ï¼Œ åé¢æˆ‘ä»¬å†è¯¦ç»†ä»‹ç»å¦‚ä½•å®ç°ã€‚</p>
<p><code>Deployment</code> çš„åˆ›å»ºé™¤äº†ä½¿ç”¨æˆ‘ä»¬è¿™é‡Œæåˆ°çš„æ–¹å¼å¤–ï¼Œæ›´æ¨èçš„æ–¹å¼ä¾¿æ˜¯ä½¿ç”¨ <code>yaml</code> æ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­ä¸»è¦æ˜¯å£°æ˜ä¸€ç§é¢„æœŸçš„çŠ¶æ€ï¼Œè€Œå…¶ä»–ç»„ä»¶åˆ™è´Ÿè´£ååŒè°ƒåº¦å¹¶æœ€ç»ˆè¾¾æˆè¿™ç§é¢„æœŸçš„çŠ¶æ€ã€‚å½“ç„¶è¿™ä¹Ÿæ˜¯å®ƒçš„å…³é”®ä½œç”¨ä¹‹ä¸€ï¼Œå°† <code>Pod</code> æ‰˜ç®¡ç»™ä¸‹é¢å°†è¦ä»‹ç»çš„ <code>ReplicaSet</code>ã€‚</p>
<h3 id="replicaset">ReplicaSet</h3>
<p><code>ReplicaSet</code> æ˜¯ä¸€ç§è¾ƒä½çº§åˆ«çš„ç»“æ„ï¼Œå…è®¸è¿›è¡Œæ‰©å®¹ã€‚</p>
<p>æˆ‘ä»¬ä¸Šé¢å·²ç»æåˆ° <code>Deployment</code> ä¸»è¦æ˜¯å£°æ˜ä¸€ç§é¢„æœŸçš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¼šå°† <code>Pod</code> æ‰˜ç®¡ç»™ <code>ReplicaSet</code>ï¼Œè€Œ <code>ReplicaSet</code> åˆ™ä¼šå»æ£€æŸ¥å½“å‰çš„ <code>Pod</code> æ•°é‡åŠçŠ¶æ€æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå¹¶å°½é‡æ»¡è¶³è¿™ä¸€é¢„æœŸã€‚</p>
<p><code>ReplicaSet</code> å¯ä»¥ç”±æˆ‘ä»¬è‡ªè¡Œåˆ›å»ºï¼Œä½†ä¸€èˆ¬æƒ…å†µä¸‹ä¸æ¨èè¿™æ ·å»åšï¼Œå› ä¸ºå¦‚æœè¿™æ ·åšäº†ï¼Œé‚£å…¶å®å°±ç›¸å½“äºè·³è¿‡äº† <code>Deployment</code> çš„éƒ¨åˆ†ï¼Œ<code>Deployment</code> æ‰€å¸¦æ¥çš„åŠŸèƒ½æˆ–è€…ç‰¹æ€§æˆ‘ä»¬ä¾¿éƒ½ä½¿ç”¨ä¸åˆ°äº†ã€‚</p>
<p>é™¤äº† <code>ReplicaSet</code> å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªé€‰æ‹©åä¸º <code>ReplicationController</code>ï¼Œè¿™ä¸¤è€…çš„ä¸»è¦åŒºåˆ«æ›´å¤šçš„åœ¨é€‰æ‹©å™¨ä¸Šï¼Œæˆ‘ä»¬åé¢å†åšè®¨è®ºã€‚ç°åœ¨æ¨èçš„åšæ³•æ˜¯ <code>ReplicaSet</code> æ‰€ä»¥ä¸åšå¤ªå¤šè§£é‡Šã€‚</p>
<p><code>ReplicaSet</code> å¯ç®€å†™ä¸º <code>rs</code>ï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl get rs -o wide
NAME               DESIRED   CURRENT   READY     AGE       CONTAINERS   IMAGES         SELECTOR                           
redis-7c7545cbcb   <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">1</span>         11h       redis        redis:alpine   pod-template-hash<span style="color:#f92672">=</span>3731017676,run<span style="color:#f92672">=</span>redis
</code></pre></div><p>åœ¨è¾“å‡ºç»“æœä¸­ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°è¿™é‡Œé™¤äº†æˆ‘ä»¬å‰é¢çœ‹åˆ°çš„ <code>run=redis</code> æ ‡ç­¾å¤–ï¼Œè¿˜å¤šäº†ä¸€ä¸ª <code>pod-template-hash=3731017676</code> æ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾æ˜¯ç”± <code>Deployment controller</code> è‡ªåŠ¨æ·»åŠ çš„ï¼Œç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°é‡å¤ï¼Œæ‰€ä»¥å°† <code>pod-template</code> è¿›è¡Œ hash ç”¨ä½œå”¯ä¸€æ€§æ ‡è¯†ã€‚</p>
<h3 id="service">Service</h3>
<p><code>Service</code> ç®€å•ç‚¹è¯´å°±æ˜¯ä¸ºäº†èƒ½æœ‰ä¸ªç¨³å®šçš„å…¥å£è®¿é—®æˆ‘ä»¬çš„åº”ç”¨æœåŠ¡æˆ–è€…æ˜¯ä¸€ç»„ <code>Pod</code>ã€‚é€šè¿‡ <code>Service</code> å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl get service -o wide
NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span style="color:#f92672">(</span>S<span style="color:#f92672">)</span>   AGE       SELECTOR
kubernetes   ClusterIP   10.96.0.1    &lt;none&gt;        443/TCP   16m        &lt;none&gt;
</code></pre></div><p>é€šè¿‡ä½¿ç”¨ <code>kubectl</code> æŸ¥çœ‹ï¼Œèƒ½çœ‹åˆ°ä¸»è¦ä¼šæ˜¾ç¤º <code>Service</code> çš„åç§°ï¼Œç±»å‹ï¼ŒIPï¼Œç«¯å£åŠåˆ›å»ºæ—¶é—´å’Œé€‰æ‹©å™¨ç­‰ã€‚æˆ‘ä»¬æ¥å…·ä½“æ‹†è§£ä¸‹ã€‚</p>
<h4 id="ç±»å‹">ç±»å‹</h4>
<p><code>Service</code> ç›®å‰æœ‰ 4 ç§ç±»å‹ï¼š</p>
<ul>
<li><code>ClusterIP</code>ï¼š æ˜¯ K8S å½“å‰é»˜è®¤çš„ <code>Service</code> ç±»å‹ã€‚å°† service æš´éœ²äºä¸€ä¸ªä»…é›†ç¾¤å†…å¯è®¿é—®çš„è™šæ‹Ÿ IP ä¸Šã€‚</li>
<li><code>NodePort</code>ï¼š æ˜¯é€šè¿‡åœ¨é›†ç¾¤å†…æ‰€æœ‰ <code>Node</code> ä¸Šéƒ½ç»‘å®šå›ºå®šç«¯å£çš„æ–¹å¼å°†æœåŠ¡æš´éœ²å‡ºæ¥ï¼Œè¿™æ ·ä¾¿å¯ä»¥é€šè¿‡ <code>&lt;NodeIP&gt;:&lt;NodePort&gt;</code> è®¿é—®æœåŠ¡äº†ã€‚</li>
<li><code>LoadBalancer</code>ï¼š æ˜¯é€šè¿‡ <code>Cloud Provider</code> åˆ›å»ºä¸€ä¸ªå¤–éƒ¨çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œå°†æœåŠ¡æš´éœ²å‡ºæ¥ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨åˆ›å»ºå¤–éƒ¨è´Ÿè½½å‡è¡¡å™¨è·¯ç”±è¯·æ±‚æ‰€éœ€çš„ <code>Nodeport</code> æˆ– <code>ClusterIP</code> ã€‚</li>
<li><code>ExternalName</code>ï¼š æ˜¯é€šè¿‡å°†æœåŠ¡ç”± DNS CNAME çš„æ–¹å¼è½¬å‘åˆ°æŒ‡å®šçš„åŸŸåä¸Šå°†æœåŠ¡æš´éœ²å‡ºæ¥ï¼Œè¿™éœ€è¦ <code>kube-dns</code> 1.7 æˆ–æ›´é«˜ç‰ˆæœ¬æ”¯æŒã€‚</li>
</ul>
<h4 id="å®è·µ">å®è·µ</h4>
<p>ä¸Šé¢å·²ç»è¯´å®Œäº† <code>Service</code> çš„åŸºæœ¬ç±»å‹ï¼Œè€Œæˆ‘ä»¬ä¹Ÿå·²ç»éƒ¨ç½²äº†ä¸€ä¸ª Redis ,å½“è¿˜æ— æ³•è®¿é—®åˆ°è¯¥æœåŠ¡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†åˆšæ‰éƒ¨ç½²çš„ Redis æœåŠ¡æš´éœ²å‡ºæ¥ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl expose deploy/redis --port<span style="color:#f92672">=</span><span style="color:#ae81ff">6379</span> --protocol<span style="color:#f92672">=</span>TCP --target-port<span style="color:#f92672">=</span><span style="color:#ae81ff">6379</span> --name<span style="color:#f92672">=</span>redis-server  
service/redis-server exposed
âœ  ~ kubectl get svc -o wide                                                                       
NAME           TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span style="color:#f92672">(</span>S<span style="color:#f92672">)</span>    AGE       SELECTOR
kubernetes     ClusterIP   10.96.0.1       &lt;none&gt;        443/TCP    49m       &lt;none&gt;
redis-server   ClusterIP   10.108.105.63   &lt;none&gt;        6379/TCP   4s        run<span style="color:#f92672">=</span>redis
</code></pre></div><p>é€šè¿‡ <code>kubectl expose</code> å‘½ä»¤å°† redis server æš´éœ²å‡ºæ¥ï¼Œè¿™é‡Œéœ€è¦è¿›è¡Œä¸‹è¯´æ˜ï¼š</p>
<ul>
<li><code>port</code>ï¼š æ˜¯ <code>Service</code> æš´éœ²å‡ºæ¥çš„ç«¯å£ï¼Œå¯é€šè¿‡æ­¤ç«¯å£è®¿é—® <code>Service</code>ã€‚</li>
<li><code>protocol</code>ï¼š æ˜¯æ‰€ç”¨åè®®ã€‚å½“å‰ K8S æ”¯æŒ TCP/UDP åè®®ï¼Œåœ¨ 1.12 ç‰ˆæœ¬ä¸­å®éªŒæ€§çš„åŠ å…¥äº†å¯¹ <a href="https://zh.wikipedia.org/zh-hans/%E6%B5%81%E6%8E%A7%E5%88%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE">SCTP åè®®</a>çš„æ”¯æŒã€‚é»˜è®¤æ˜¯ TCP åè®®ã€‚</li>
<li><code>target-port</code>ï¼š æ˜¯å®é™…æœåŠ¡æ‰€åœ¨çš„ç›®æ ‡ç«¯å£ï¼Œè¯·æ±‚ç”± <code>port</code> è¿›å…¥é€šè¿‡ä¸Šè¿°æŒ‡å®š <code>protocol</code> æœ€ç»ˆæµå‘è¿™é‡Œé…ç½®çš„ç«¯å£ã€‚</li>
<li><code>name</code>ï¼š <code>Service</code> çš„åå­—ï¼Œå®ƒçš„ç”¨å¤„ä¸»è¦åœ¨ dns æ–¹é¢ã€‚</li>
<li><code>type</code>ï¼š æ˜¯å‰é¢æåˆ°çš„ç±»å‹ï¼Œå¦‚æœæ²¡æŒ‡å®šé»˜è®¤æ˜¯ <code>ClusterIP</code>ã€‚</li>
</ul>
<p>ç°åœ¨æˆ‘ä»¬çš„ redis æ˜¯ä½¿ç”¨çš„é»˜è®¤ç±»å‹ <code>ClusterIP</code>ï¼Œæ‰€ä»¥å¹¶ä¸èƒ½ç›´æ¥é€šè¿‡å¤–éƒ¨è¿›è¡Œè®¿é—®ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>port-forward</code> çš„æ–¹å¼è®©å®ƒå¯åœ¨é›†ç¾¤å¤–éƒ¨è®¿é—®ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl port-forward svc/redis-server 6379:6379
Forwarding from 127.0.0.1:6379 -&gt; <span style="color:#ae81ff">6379</span>
Forwarding from <span style="color:#f92672">[</span>::1<span style="color:#f92672">]</span>:6379 -&gt; <span style="color:#ae81ff">6379</span>
Handling connection <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">6379</span>
</code></pre></div><p>åœ¨å¦ä¸€ä¸ªæœ¬åœ°ç»ˆç«¯å†…å¯é€šè¿‡ redis-cli å·¥å…·è¿›è¡Œè¿æ¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ redis-cli -h 127.0.0.1 -p <span style="color:#ae81ff">6379</span>
127.0.0.1:6379&gt; ping
PONG
</code></pre></div><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>NodePort</code> çš„æ–¹å¼å¯¹å¤–æš´éœ²æœåŠ¡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl expose deploy/redis --port<span style="color:#f92672">=</span><span style="color:#ae81ff">6379</span> --protocol<span style="color:#f92672">=</span>TCP --target-port<span style="color:#f92672">=</span><span style="color:#ae81ff">6379</span> --name<span style="color:#f92672">=</span>redis-server-nodeport --type<span style="color:#f92672">=</span>NodePort
service/redis-server-nodeport exposed
âœ  ~ kubectl get service/redis-server-nodeport -o wide 
NAME                    TYPE       CLUSTER-IP       EXTERNAL-IP   PORT<span style="color:#f92672">(</span>S<span style="color:#f92672">)</span>          AGE       SELECTOR
redis-server-nodeport   NodePort   10.109.248.204   &lt;none&gt;        6379:31913/TCP   11s       run<span style="color:#f92672">=</span>redis
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»»æ„ <code>Node</code> ä¸Šçš„ 31913 ç«¯å£ä¾¿å¯è¿æ¥æˆ‘ä»¬çš„ redis æœåŠ¡ã€‚å½“ç„¶ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªç«¯å£èŒƒå›´å…¶å®æ˜¯å¯ä»¥é€šè¿‡ <code>kube-apiserver</code> çš„ <code>service-node-port-range</code> è¿›è¡Œé…ç½®çš„ï¼Œé»˜è®¤æ˜¯ <code>30000-32767</code>ã€‚</p>
<h3 id="pod">Pod</h3>
<p>ç¬¬äºŒèŠ‚ä¸­ï¼Œæˆ‘ä»¬æåˆ°è¿‡ <code>Pod</code> æ˜¯ K8S ä¸­çš„æœ€å°åŒ–éƒ¨ç½²å•å…ƒã€‚æˆ‘ä»¬çœ‹ä¸‹å½“å‰é›†ç¾¤ä¸­ <code>Pod</code> çš„çŠ¶æ€ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl get pods
NAME                     READY     STATUS    RESTARTS   AGE
redis-7c7545cbcb-jwcf2   1/1       Running   <span style="color:#ae81ff">0</span>          8h
</code></pre></div><p>æˆ‘ä»¬è¿›è¡Œä¸€æ¬¡ç®€å•çš„æ‰©å®¹æ“ä½œã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl scale deploy/redis --replicas<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
deployment.extensions/redis scaled
âœ  ~ kubectl get pods
NAME                     READY     STATUS    RESTARTS   AGE
redis-7c7545cbcb-jwcf2   1/1       Running   <span style="color:#ae81ff">0</span>          8h
redis-7c7545cbcb-wzh6w   1/1       Running   <span style="color:#ae81ff">0</span>          4s
</code></pre></div><p>å¯ä»¥çœ‹åˆ° <code>Pod</code> æ•°å·²ç»å¢åŠ ï¼Œå¹¶ä¸”ä¹Ÿå·²ç»æ˜¯ <code>Running</code> çš„çŠ¶æ€äº†ã€‚(å½“ç„¶åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ Redis æœåŠ¡çš„æ‰©å®¹å¹¶ä¸æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œæ‰©å®¹çš„ï¼Œéœ€è¦çœ‹å®é™…çš„éƒ¨ç½²æ–¹å¼ä»¥åŠä¸šåŠ¡çš„ä½¿ç”¨å§¿åŠ¿ã€‚)</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>æœ¬èŠ‚æˆ‘ä»¬ä½¿ç”¨ Redis ä½œä¸ºä¾‹å­ï¼Œå­¦ä¹ äº†é›†ç¾¤ç®¡ç†ç›¸å…³çš„åŸºç¡€çŸ¥è¯†ã€‚å­¦ä¹ äº†å¦‚ä½•è¿›è¡Œåº”ç”¨éƒ¨ç½²ï¼Œ <code>Service</code> çš„åŸºç¡€ç±»å‹ä»¥åŠå¦‚ä½•é€šè¿‡ <code>port-forward</code> æˆ– <code>NodePort</code> ç­‰æ–¹å¼å°†æœåŠ¡æä¾›è‡³é›†ç¾¤çš„å¤–éƒ¨è®¿é—®ã€‚</p>
<p>åŒæ—¶æˆ‘ä»¬å­¦ä¹ äº†åº”ç”¨éƒ¨ç½²ä¸­ä¸»è¦ä¼šæ¶‰åŠåˆ°çš„å‡ ç±»èµ„æº <code>Deployment</code>ï¼Œ<code>Replicaset</code>ï¼Œ<code>Service</code> å’Œ <code>Pod</code> ç­‰ã€‚å¯¹è¿™äº›èµ„æºåŠå®ƒä»¬ä¹‹é—´å…³ç³»çš„æŒæ¡ï¼Œå¯¹äºåç»­é›†ç¾¤ç»´æŠ¤æˆ–å®šä½é—®é¢˜æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p>
<p>ä¸‹èŠ‚ï¼Œæˆ‘ä»¬å¼€å§‹å­¦ä¹ åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ K8S è‡³å…³é‡è¦çš„ä¸€ç¯ï¼Œæƒé™æ§åˆ¶ã€‚</p>

        </div>
    </article>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/06-%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E5%88%9D%E8%AF%86-kubectl/"><span>06 é›†ç¾¤ç®¡ç†ï¼šåˆè¯† kubectl</span></a>
    </div>
    <div class="next">
        
        <a href="/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/08-%E5%AE%89%E5%85%A8%E9%87%8D%E7%82%B9-%E8%AE%A4%E8%AF%81%E5%92%8C%E6%8E%88%E6%9D%83/"><span>08 å®‰å…¨é‡ç‚¹ è®¤è¯å’Œæˆæƒ</span></a>
    </div>
</div>

        </div>
        <div class="toggler" onclick="toggleLight(this);">ğŸ’¡</div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 28280 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    function toggleLight() {
        document.getElementById('page').classList.toggle('night');
    }
</script>
</body>

</html>