<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>04 æ­å»º Kubernetes é›†ç¾¤ - æœ¬åœ°å¿«é€Ÿæ­å»º | Yipsen Ye</title>
<meta name="description" content="é€šè¿‡ä¹‹å‰çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº† K8S ä¸­æœ‰ä¸€äº›ç»„ä»¶æ˜¯å¿…é¡»çš„ï¼Œé›†ç¾¤ä¸­æœ‰ä¸åŒçš„è§’è‰²ã€‚æœ¬èŠ‚ï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°å¿«é€Ÿæ­å»ºä¸€ä¸ªé›†ç¾¤ï¼Œä»¥åŠ æ·±æˆ‘ä»¬å­¦ä¹ åˆ°çš„ä¸œè¥¿ã€‚
æ–¹æ¡ˆé€‰æ‹© åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ K8S ä¸­æœ‰å¤šç§åŠŸèƒ½ç»„ä»¶ï¼Œè€Œè¿™äº›ç»„ä»¶è¦åœ¨æœ¬åœ°å…¨éƒ¨æ­å»ºå¥½ï¼Œéœ€è¦ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œä»¥åŠåœ¨æ­å»ºè¿‡ç¨‹ä¸­ä¼šæµªè´¹ä¸å°‘çš„æ—¶é—´ï¼Œä»è€Œå¯èƒ½ä¼šå½±å“æˆ‘ä»¬æ­£å¸¸çš„æ­å»ºé›†ç¾¤çš„ç›®æ ‡ã€‚
æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿™é‡Œæä¾›ä¸¤ä¸ªæœ€ç®€å•ï¼Œæœ€å®¹æ˜“å®ç°æˆ‘ä»¬ç›®æ ‡çš„å·¥å…·
 KIND Minikube  KIND ä»‹ç» KINDï¼ˆKubernetes in Dockerï¼‰æ˜¯ä¸ºäº†èƒ½æä¾›æ›´åŠ ç®€å•ï¼Œé«˜æ•ˆçš„æ–¹å¼æ¥å¯åŠ¨ K8S é›†ç¾¤ï¼Œç›®å‰ä¸»è¦ç”¨äºæ¯”å¦‚ Kubernetes è‡ªèº«çš„ CI ç¯å¢ƒä¸­ã€‚
å®‰è£…  å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®çš„ Release é¡µé¢ ä¸‹è½½å·²ç»ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚(ä¸‹æ–‡ä¸­ä½¿ç”¨çš„æ˜¯ v0.1.0 ç‰ˆæœ¬çš„äºŒè¿›åˆ¶åŒ…)   æ³¨æ„ï¼šå¦‚æœä¸ç›´æ¥ä½¿ç”¨äºŒè¿›åˆ¶åŒ…ï¼Œè€Œæ˜¯ä½¿ç”¨ go get sigs.k8s.io/kind çš„æ–¹å¼ä¸‹è½½ï¼Œåˆ™ä¸ä¸‹æ–‡ä¸­çš„é…ç½®æ–‡ä»¶ä¸å…¼å®¹ã€‚è¯·å‚è€ƒä½¿ç”¨ Kind æ­å»ºä½ çš„æœ¬åœ° Kubernetes é›†ç¾¤ è¿™ç¯‡æ–‡ç« ã€‚
 æ›´æ–°ï¼ˆ2020å¹´2æœˆ5æ—¥ï¼‰ï¼šKIND å·²ç»å‘å¸ƒäº† v0.7.0 ç‰ˆæœ¬ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨æ–°ç‰ˆæœ¬ï¼Œå»ºè®®å‚è€ƒ ä½¿ç”¨ Kind åœ¨ç¦»çº¿ç¯å¢ƒåˆ›å»º K8S é›†ç¾¤ ï¼Œè¿™ç¯‡æ–‡ç« ä½¿ç”¨äº†æœ€æ–°ç‰ˆæœ¬çš„ KINDã€‚
åˆ›å»ºé›†ç¾¤ åœ¨ä½¿ç”¨ KIND ä¹‹å‰ï¼Œä½ éœ€è¦æœ¬åœ°å…ˆå®‰è£…å¥½ Docker çš„ç¯å¢ƒ ï¼Œæ­¤å¤„æš‚ä¸åšå±•å¼€ã€‚
ç”±äºç½‘ç»œé—®é¢˜ï¼Œæˆ‘ä»¬æ­¤å¤„ä¹Ÿéœ€è¦å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä»¥ä¾¿è®© kind å¯ä»¥ä½¿ç”¨å›½å†…çš„é•œåƒæºã€‚ï¼ˆKIND æœ€æ–°ç‰ˆæœ¬ä¸­å·²ç»å†…ç½®äº†æ‰€æœ‰éœ€è¦çš„é•œåƒï¼Œæ— éœ€æ­¤æ“ä½œï¼‰
apiVersion: kind.sigs.k8s.io/v1alpha1kind: ConfigkubeadmConfigPatches:- |apiVersion: kubeadm.">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="logo-link" style="width: 60px; color: #CA6924;">
    <a href="http://yipsen.github.io/">
        <img style="margin-bottom: -1rem;" src="/images/deer.svg" alt="logo">
        <span style="font-size: 0.5rem; color: #CA6924;">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æœ­è®°</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/kubernetes%e4%bb%8e%e4%b8%8a%e6%89%8b%e5%88%b0%e5%ae%9e%e8%b7%b5/">Kubernetesä»ä¸Šæ‰‹åˆ°å®è·µ</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/01-%E5%BC%80%E7%AF%87-kubernetes-%E6%98%AF%E4%BB%80%E4%B9%88%E4%BB%A5%E5%8F%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AE%83/">01 å¼€ç¯‡ï¼š Kubernetes æ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/02-%E5%88%9D%E6%AD%A5%E8%AE%A4%E8%AF%86kubernetes-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/">02 åˆæ­¥è®¤è¯†ï¼šKubernetes åŸºç¡€æ¦‚å¿µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/03-%E5%AE%8F%E8%A7%82%E8%AE%A4%E8%AF%86%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84/">03 å®è§‚è®¤è¯†ï¼šæ•´ä½“æ¶æ„</a></li>
                
                
                
                    <li>04 æ­å»º Kubernetes é›†ç¾¤ - æœ¬åœ°å¿«é€Ÿæ­å»º</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/05-%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA-kubernetes-%E9%9B%86%E7%BE%A4-%E7%94%9F%E4%BA%A7%E5%8F%AF%E7%94%A8/">05 åŠ¨æ‰‹å®è·µï¼šæ­å»ºä¸€ä¸ª Kubernetes é›†ç¾¤ - ç”Ÿäº§å¯ç”¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/06-%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E5%88%9D%E8%AF%86-kubectl/">06 é›†ç¾¤ç®¡ç†ï¼šåˆè¯† kubectl</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/07-%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E4%BB%A5-redis-%E4%B8%BA%E4%BE%8B-%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%AE%BF%E9%97%AE/">07 é›†ç¾¤ç®¡ç†ï¼šä»¥ Redis ä¸ºä¾‹-éƒ¨ç½²åŠè®¿é—®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/08-%E5%AE%89%E5%85%A8%E9%87%8D%E7%82%B9-%E8%AE%A4%E8%AF%81%E5%92%8C%E6%8E%88%E6%9D%83/">08 å®‰å…¨é‡ç‚¹ è®¤è¯å’Œæˆæƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/09-%E5%BA%94%E7%94%A8%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2%E5%AE%9E%E9%99%85%E9%A1%B9%E7%9B%AE/">09 åº”ç”¨å‘å¸ƒï¼šéƒ¨ç½²å®é™…é¡¹ç›®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/10-%E5%BA%94%E7%94%A8%E7%AE%A1%E7%90%86%E5%88%9D%E8%AF%86-helm/">10 åº”ç”¨ç®¡ç†ï¼šåˆè¯† Helm</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/11-%E9%83%A8%E7%BD%B2%E5%AE%9E%E8%B7%B5%E4%BB%A5-helm-%E9%83%A8%E7%BD%B2%E9%A1%B9%E7%9B%AE/">11 éƒ¨ç½²å®è·µï¼šä»¥ Helm éƒ¨ç½²é¡¹ç›®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/12-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-apiserver/">12 åº–ä¸è§£ç‰›ï¼škube-apiserver</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/13-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Betcd/">13 åº–ä¸è§£ç‰›ï¼šetcd</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/14-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bcontroller-manager/">14 åº–ä¸è§£ç‰›ï¼šcontroller-manager</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/15-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-scheduler/">15 åº–ä¸è§£ç‰›ï¼škube-scheduler</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/16-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkubelet/">16 åº–ä¸è§£ç‰›ï¼škubelet</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/17-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-proxy/">17 åº–ä¸è§£ç‰›ï¼škube-proxy</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/18-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bcontainer-runtime-docker/">18 åº–ä¸è§£ç‰›ï¼šContainer Runtime ï¼ˆDockerï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/19-troubleshoot/">19 Troubleshoot</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/20-%E6%89%A9%E5%B1%95%E5%A2%9E%E5%BC%BAdashboard/">20 æ‰©å±•å¢å¼ºï¼šDashboard</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/21-%E6%89%A9%E5%B1%95%E5%A2%9E%E5%BC%BAcoredns/">21 æ‰©å±•å¢å¼ºï¼šCoreDNS</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/22-%E6%9C%8D%E5%8A%A1%E5%A2%9E%E5%BC%BAingress/">22 æœåŠ¡å¢å¼ºï¼šIngress</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/23-%E7%9B%91%E6%8E%A7%E5%AE%9E%E8%B7%B5%E5%AF%B9-k8s-%E9%9B%86%E7%BE%A4%E8%BF%9B%E8%A1%8C%E7%9B%91%E6%8E%A7/">23 ç›‘æ§å®è·µï¼šå¯¹ K8S é›†ç¾¤è¿›è¡Œç›‘æ§</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/24-%E6%80%BB%E7%BB%93/">24 æ€»ç»“</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">04 æ­å»º Kubernetes é›†ç¾¤ - æœ¬åœ°å¿«é€Ÿæ­å»º</h1>
        <div class="post-info">
            <div> 
                <span class="post-date">ğŸ“…&nbsp;2021-12-22 01:47:30</span>ğŸ·ï¸&nbsp;<a class="post-tag" href="/tags/kubernetes/">kubernetes</a></div><div class="post-category">
                
                ğŸ“š&nbsp;<a href="/categories/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/">Kubernetesä»ä¸Šæ‰‹åˆ°å®è·µ</a>
                
            </div></div>
        <div class="post-content">
            <p>é€šè¿‡ä¹‹å‰çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº† K8S ä¸­æœ‰ä¸€äº›ç»„ä»¶æ˜¯å¿…é¡»çš„ï¼Œé›†ç¾¤ä¸­æœ‰ä¸åŒçš„è§’è‰²ã€‚æœ¬èŠ‚ï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°å¿«é€Ÿæ­å»ºä¸€ä¸ªé›†ç¾¤ï¼Œä»¥åŠ æ·±æˆ‘ä»¬å­¦ä¹ åˆ°çš„ä¸œè¥¿ã€‚</p>
<h2 id="æ–¹æ¡ˆé€‰æ‹©">æ–¹æ¡ˆé€‰æ‹©</h2>
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ K8S ä¸­æœ‰å¤šç§åŠŸèƒ½ç»„ä»¶ï¼Œè€Œè¿™äº›ç»„ä»¶è¦åœ¨æœ¬åœ°å…¨éƒ¨æ­å»ºå¥½ï¼Œéœ€è¦ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œä»¥åŠåœ¨æ­å»ºè¿‡ç¨‹ä¸­ä¼šæµªè´¹ä¸å°‘çš„æ—¶é—´ï¼Œä»è€Œå¯èƒ½ä¼šå½±å“æˆ‘ä»¬æ­£å¸¸çš„æ­å»ºé›†ç¾¤çš„ç›®æ ‡ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿™é‡Œæä¾›ä¸¤ä¸ªæœ€ç®€å•ï¼Œæœ€å®¹æ˜“å®ç°æˆ‘ä»¬ç›®æ ‡çš„å·¥å…·</p>
<ul>
<li><a href="https://github.com/kubernetes-sigs/kind/">KIND</a></li>
<li><a href="https://github.com/kubernetes/minikube">Minikube</a></li>
</ul>
<h2 id="kind">KIND</h2>
<h3 id="ä»‹ç»">ä»‹ç»</h3>
<p>KINDï¼ˆKubernetes in Dockerï¼‰æ˜¯ä¸ºäº†èƒ½æä¾›æ›´åŠ ç®€å•ï¼Œé«˜æ•ˆçš„æ–¹å¼æ¥å¯åŠ¨ K8S é›†ç¾¤ï¼Œç›®å‰ä¸»è¦ç”¨äºæ¯”å¦‚ <code>Kubernetes</code> è‡ªèº«çš„ CI ç¯å¢ƒä¸­ã€‚</p>
<h3 id="å®‰è£…">å®‰è£…</h3>
<ul>
<li>å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®çš„ <a href="https://github.com/kubernetes-sigs/kind/releases">Release é¡µé¢</a> ä¸‹è½½å·²ç»ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚(ä¸‹æ–‡ä¸­ä½¿ç”¨çš„æ˜¯ v0.1.0 ç‰ˆæœ¬çš„äºŒè¿›åˆ¶åŒ…)</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœä¸ç›´æ¥ä½¿ç”¨äºŒè¿›åˆ¶åŒ…ï¼Œè€Œæ˜¯ä½¿ç”¨ <code>go get sigs.k8s.io/kind</code> çš„æ–¹å¼ä¸‹è½½ï¼Œåˆ™ä¸ä¸‹æ–‡ä¸­çš„é…ç½®æ–‡ä»¶ä¸å…¼å®¹ã€‚<strong>è¯·å‚è€ƒä½¿ç”¨ Kind æ­å»ºä½ çš„æœ¬åœ° Kubernetes é›†ç¾¤</strong> è¿™ç¯‡æ–‡ç« ã€‚</p>
</blockquote>
<p>æ›´æ–°ï¼ˆ2020å¹´2æœˆ5æ—¥ï¼‰ï¼šKIND å·²ç»å‘å¸ƒäº† v0.7.0 ç‰ˆæœ¬ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨æ–°ç‰ˆæœ¬ï¼Œå»ºè®®å‚è€ƒ <a href="https://zhuanlan.zhihu.com/p/105173589">ä½¿ç”¨ Kind åœ¨ç¦»çº¿ç¯å¢ƒåˆ›å»º K8S é›†ç¾¤</a> ï¼Œè¿™ç¯‡æ–‡ç« ä½¿ç”¨äº†æœ€æ–°ç‰ˆæœ¬çš„ KINDã€‚</p>
<p><img src="/images/f220f46a43fecc9b2fcb66e5cf8feec3c85a6d740c239a94fd19d081b5a6de06.png" alt="picture 1"></p>
<h3 id="åˆ›å»ºé›†ç¾¤">åˆ›å»ºé›†ç¾¤</h3>
<p><strong>åœ¨ä½¿ç”¨ KIND ä¹‹å‰ï¼Œä½ éœ€è¦æœ¬åœ°å…ˆå®‰è£…å¥½ Docker çš„ç¯å¢ƒ</strong> ï¼Œæ­¤å¤„æš‚ä¸åšå±•å¼€ã€‚</p>
<p>ç”±äºç½‘ç»œé—®é¢˜ï¼Œæˆ‘ä»¬æ­¤å¤„ä¹Ÿéœ€è¦å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä»¥ä¾¿è®© <code>kind</code> å¯ä»¥ä½¿ç”¨å›½å†…çš„é•œåƒæºã€‚ï¼ˆKIND æœ€æ–°ç‰ˆæœ¬ä¸­å·²ç»å†…ç½®äº†æ‰€æœ‰éœ€è¦çš„é•œåƒï¼Œæ— éœ€æ­¤æ“ä½œï¼‰</p>
<pre tabindex="0"><code class="language-config" data-lang="config">apiVersion: kind.sigs.k8s.io/v1alpha1
kind: Config

kubeadmConfigPatches:
- |
  apiVersion: kubeadm.k8s.io/v1alpha3
  kind: InitConfiguration
  nodeRegistration:
  kubeletExtraArgs:
    pod-infra-container-image: registry.aliyuncs.com/google_containers/pause-amd64:3.1
- |
  apiVersion: kubeadm.k8s.io/v1alpha3
  kind: ClusterConfiguration
  imageRepository: registry.aliyuncs.com/google_containers
  kubernetesVersion: v1.12.2
  networking:
    serviceSubnet: 10.0.0.0/16
</code></pre><p>å°†ä¸Šé¢çš„å†…å®¹ä¿å­˜æˆ <code>kind-config.yaml</code> æ–‡ä»¶ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kind create cluster --image kindest/node:v1.12.2 --config kind-config.yaml --name moelove                  
</code></pre></div><p>ä¸‹é¢ä¸ºåœ¨æˆ‘æœºå™¨ä¸Šæ‰§è¡Œçš„ç¨‹åºè¾“å‡ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">(MoeLove) âœ  kind âœ— kind create cluster --image kindest/node:v1.12.2 --config kind-config.yaml --name moelove                  
Creating cluster &#39;kind-moelove&#39; ...
 âœ“ Ensuring node image (kindest/node:v1.12.2) ğŸ–¼
 âœ“ [kind-moelove-control-plane] Creating node container ğŸ“¦                                                         
 âœ“ [kind-moelove-control-plane] Fixing mounts ğŸ—»
 âœ“ [kind-moelove-control-plane] Starting systemd ğŸ–¥
 âœ“ [kind-moelove-control-plane] Waiting for docker to be ready ğŸ‹                                                  
 âœ“ [kind-moelove-control-plane] Starting Kubernetes (this may take a minute) â˜¸                                     
Cluster creation complete. You can now use the cluster with:

export KUBECONFIG=&#34;$(kind get kubeconfig-path --name=&#34;moelove&#34;)&#34;
kubectl cluster-info
</code></pre></div><p>è¿™é‡Œï¼Œé€šè¿‡ä¼ é€’ä¸Šé¢çš„ <code>kind-config.yaml</code> æ–‡ä»¶ç»™ <code>kind create cluster</code>, å¹¶ä¼ é€’äº†ä¸€ä¸ªåå­—é€šè¿‡ <code>--name</code> å‚æ•°ã€‚</p>
<p>æˆ‘ä»¬æŒ‰ç…§ç¨‹åºè¾“å‡ºçš„æç¤ºè¿›è¡Œæ“ä½œï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">export KUBECONFIG<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>kind get kubeconfig-path --name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;moelove&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
kubectl cluster-info
</code></pre></div><p>ä¸‹é¢ä¸ºåœ¨æˆ‘æœºå™¨ä¸Šæ‰§è¡Œçš„ç¨‹åºè¾“å‡ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">(MoeLove) âœ  kind âœ— export KUBECONFIG=&#34;$(kind get kubeconfig-path --name=&#34;moelove&#34;)&#34;
(MoeLove) âœ  kind âœ— kubectl cluster-info
Kubernetes master is running at https://localhost:35911
KubeDNS is running at https://localhost:35911/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

To further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.
(MoeLove) âœ  kind âœ— kubectl version
Client Version: version.Info{Major:&#34;1&#34;, Minor:&#34;11&#34;, GitVersion:&#34;v1.11.3&#34;, GitCommit:&#34;a4529464e4629c21224b3d52edfe0ea91b072862&#34;, GitTreeState:&#34;clean&#34;, BuildDate:&#34;2018-09-09T18:02:47Z&#34;, GoVersion:&#34;go1.10.3&#34;, Compiler:&#34;gc&#34;, Platform:&#34;linux/amd64&#34;}
Server Version: version.Info{Major:&#34;1&#34;, Minor:&#34;12&#34;, GitVersion:&#34;v1.12.2&#34;, GitCommit:&#34;17c77c7898218073f14c8d573582e8d2313dc740&#34;, GitTreeState:&#34;clean&#34;, BuildDate:&#34;2018-10-24T06:43:59Z&#34;, GoVersion:&#34;go1.10.4&#34;, Compiler:&#34;gc&#34;, Platform:&#34;linux/amd64&#34;}
</code></pre></div><p>æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦å®‰è£… <code>kubectl</code>ã€‚ <code>kubectl</code> çš„å®‰è£…å¯å‚è€ƒä¸‹é¢çš„å†…å®¹ã€‚</p>
<p>å½“ä½ æ‰§è¡Œ <code>kubectl cluster-info</code> å¦‚æœå¯ä»¥çœ‹åˆ°ç±»ä¼¼æˆ‘ä¸Šé¢çš„è¾“å‡ºï¼Œé‚£ä½ æœ¬åœ°çš„ K8S é›†ç¾¤å°±å·²ç»éƒ¨ç½²å¥½äº†ã€‚ä½ å¯ä»¥ç›´æ¥é˜…è¯»ç¬¬ 5 èŠ‚æˆ–è€…ç¬¬ 6 èŠ‚çš„å†…å®¹ã€‚</p>
<p>å¦‚æœä½ å·²ç»å¯¹ K8S æœ‰æ‰€äº†è§£ï¼Œå¹¶ä¸”å¯¹ Dashboard æœ‰æ¯”è¾ƒå¼ºçƒˆéœ€æ±‚çš„è¯, å¯ç›´æ¥å‚è€ƒç¬¬ 20 èŠ‚çš„å†…å®¹ã€‚</p>
<h2 id="minikube">Minikube</h2>
<h3 id="ä»‹ç»-1">ä»‹ç»</h3>
<p>Minikube æ˜¯ K8S å®˜æ–¹ä¸ºäº†å¼€å‘è€…èƒ½åœ¨ä¸ªäººç”µè„‘ä¸Šè¿è¡Œ K8S è€Œæä¾›çš„ä¸€å¥—å·¥å…·ã€‚å®ç°ä¸Šæ˜¯é€šè¿‡ Go è¯­è¨€ç¼–å†™ï¼Œé€šè¿‡è°ƒç”¨è™šæ‹ŸåŒ–ç®¡ç†ç¨‹åºï¼Œåˆ›å»ºå‡ºä¸€ä¸ªè¿è¡Œåœ¨è™šæ‹Ÿæœºå†…çš„å•èŠ‚ç‚¹é›†ç¾¤ã€‚</p>
<p>æ³¨ï¼šä»è¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå¯¹äº K8S é›†ç¾¤çš„åŸºæœ¬åŠŸèƒ½è€Œè¨€ï¼ŒèŠ‚ç‚¹æ•°å¹¶æ²¡æœ‰ä»€ä¹ˆé™åˆ¶ã€‚åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹åŒæ ·å¯ä»¥åˆ›å»ºé›†ç¾¤ã€‚</p>
<h3 id="å‰æœŸå‡†å¤‡">å‰æœŸå‡†å¤‡</h3>
<ul>
<li>é¦–å…ˆéœ€è¦ç¡®è®¤ BIOS å·²ç»å¼€å¯äº† <code>VT-x</code> æˆ–è€… <code>AMD-v</code> è™šæ‹ŸåŒ–çš„æ”¯æŒã€‚å…·ä½“æ–¹å¼å¯å‚è€ƒ <a href="https://www.shaileshjha.com/how-to-find-out-if-intel-vt-x-or-amd-v-virtualization-technology-is-supported-in-windows-10-windows-8-windows-vista-or-windows-7-machine/">ç¡®è®¤æ˜¯å¦å·²å¼€å¯ BIOS è™šæ‹ŸåŒ–</a>, <a href="https://www.howtogeek.com/213795/how-to-enable-intel-vt-x-in-your-computers-bios-or-uefi-firmware/">å¼€å¯ BIOS è™šæ‹ŸåŒ–æ”¯æŒ</a> è¿™ä¸¤ç¯‡æ–‡ç« ã€‚</li>
<li>å…¶æ¬¡æˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªè™šæ‹ŸåŒ–ç®¡ç†ç¨‹åºï¼Œè¿™é‡Œçš„é€‰æ‹©å¯æ ¹æ®ä½ å®é™…åœ¨ç”¨çš„æ“ä½œç³»ç»Ÿæ¥å†³å®šã€‚å®˜æ–¹æ¨èå¦‚ä¸‹:
<ul>
<li>macOS: <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> æˆ– <a href="https://www.vmware.com/products/fusion">VMware Fusion</a> æˆ– <a href="https://github.com/moby/hyperkit">HyperKit</a>ã€‚å¦‚æœä½¿ç”¨ Hyperkit éœ€è¦æ³¨æ„ç³»ç»Ÿå¿…é¡»æ˜¯ <code>OS X 10.10.3 Yosemite</code> åŠä¹‹åç‰ˆæœ¬çš„ã€‚</li>
<li>Linux: <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> æˆ– <a href="http://www.linux-kvm.org/">KVM</a>ã€‚</li>
<li>Windows: <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> æˆ– <a href="https://msdn.microsoft.com/en-us/virtualization/hyperv_on_windows/quick_start/walkthrough_install">Hyper-V</a>ã€‚</li>
</ul>
</li>
</ul>
<p>æˆ‘ä¸ªäººæ¨èæ— è®ºä½ åœ¨ä»¥ä¸Šå“ªç§æ“ä½œç³»ç»Ÿä¸­ä½¿ç”¨ Minikube éƒ½é€‰æ‹©ç”¨ <code>Virtualbox</code> ä½œä¸ºè™šæ‹ŸåŒ–ç®¡ç†ç¨‹åºï¼Œ1. Virtualbox æ— è®ºæ“ä½œä½“éªŒè¿˜æ˜¯å®‰è£…éƒ½æ¯”è¾ƒç®€å• 2. Minikube å¯¹å…¶æ”¯æŒæ›´å®Œå¤‡ï¼Œå¹¶ä¸”ä¹Ÿå·²ç»ç»è¿‡å¤§é‡ç”¨æˆ·æµ‹è¯•ï¼Œç›¸å…³é—®é¢˜å‡å·²åŸºæœ¬ä¿®å¤ã€‚</p>
<p><em>å¦‚æœä½ æ˜¯åœ¨ Linux ç³»ç»Ÿä¸Šé¢ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªé€‰æ‹©ï¼Œä¾¿æ˜¯å°† Minikube çš„ &ndash;vm-driver å‚æ•°è®¾ç½®ä¸º none ï¼Œå¹¶ä¸”åœ¨æœ¬æœºå·²ç»æ­£ç¡®å®‰è£… Dockerã€‚ è¿™ç§æ–¹å¼æ˜¯æ— éœ€è™šæ‹ŸåŒ–æ”¯æŒçš„ã€‚</em></p>
<h3 id="å®‰è£…-kubectl">å®‰è£… kubectl</h3>
<p>ä¸Šä¸€èŠ‚æˆ‘ä»¬å·²ç»å­¦åˆ° K8S é›†ç¾¤æ˜¯å…¸å‹çš„ C/S æ¶æ„ï¼Œæœ‰ä¸€ä¸ªå®˜æ–¹æä¾›çš„åä¸º <code>kubectl</code> çš„ CLI å·¥å…·ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è¦å®‰è£… <code>kubectl</code> ä»¥ä¾¿åç»­æˆ‘ä»¬å¯ä»¥å¯¹æ­å»ºå¥½çš„é›†ç¾¤è¿›è¡Œç®¡ç†ã€‚</p>
<p><strong>æ³¨ï¼šç”±äº API ç‰ˆæœ¬å…¼å®¹çš„é—®é¢˜ï¼Œå°½é‡ä¿æŒ kubectl ç‰ˆæœ¬ä¸ K8S é›†ç¾¤ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œæˆ–ç‰ˆæœ¬ç›¸å·®åœ¨åœ¨ä¸€ä¸ªå°ç‰ˆæœ¬å†…ã€‚</strong></p>
<p>å®˜æ–¹æ–‡æ¡£æä¾›äº† <code>macOS</code>, <code>Linux</code>, <code>Windows</code> ç­‰æ“ä½œç³»ç»Ÿä¸Šçš„å®‰è£…æ–¹å¼ï¼Œä¸”æè¿°å¾ˆè¯¦ç»†ï¼Œè¿™é‡Œä¸è¿‡å¤šèµ˜è¿°ï¼Œ<a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl">æ–‡æ¡£åœ°å€</a>ã€‚</p>
<p><strong>æ­¤å¤„æä¾›ä¸€ä¸ªä¸åŒäºå®˜æ–¹æ–‡æ¡£ä¸­çš„å®‰è£…æ–¹å¼ã€‚</strong></p>
<ul>
<li>è®¿é—® K8S ä¸»ä»“åº“çš„ <a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG.md">CHANGELOG æ–‡ä»¶</a> æ‰¾åˆ°ä½ æ‰€éœ€è¦çš„ç‰ˆæœ¬ã€‚ ç”±äºæˆ‘ä»¬å°†è¦ä½¿ç”¨çš„ Minikube æ˜¯å®˜æ–¹æœ€æ–°çš„ç¨³å®šç‰ˆ v0.28.2ï¼Œè€Œå®ƒå†…ç½®çš„ Kubernetes çš„ç‰ˆæœ¬æ˜¯ v1.10 æ‰€ä»¥ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨å¯¹åº”çš„ <a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.10.md">1.10 ç‰ˆæœ¬</a>çš„ <code>kubectl</code>ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’å‚æ•°çš„æ–¹å¼æ¥åˆ›å»ºä¸åŒç‰ˆæœ¬çš„é›†ç¾¤ã€‚å¦‚ <code>minikube start --kubernetes-version v1.11.3</code> ç”¨æ­¤å‘½ä»¤åˆ›å»º <code>v1.11.3</code> ç‰ˆæœ¬çš„é›†ç¾¤ï¼Œå½“ç„¶ <code>kubectl</code> çš„ç‰ˆæœ¬ä¹Ÿéœ€è¦ç›¸åº”å‡çº§ã€‚</li>
</ul>
<p><img src="/images/a471f2aa35d45ceb6f94c60176a4a25c3b7819a1c9f30cc6c2ed2a448144634d.png" alt="picture 2"></p>
<p>ç‚¹å‡»<a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.10.md#client-binaries">Client Binaries</a> æ‰¾åˆ°ä½ ç¬¦åˆæ‰€éœ€ç³»ç»Ÿæ¶æ„çš„å¯¹åº”åŒ…ä¸‹è½½å³å¯ã€‚è¿™é‡Œæˆ‘ä»¥ <a href="https://dl.k8s.io/v1.10.7/kubernetes-client-linux-amd64.tar.gz">Linux ä¸‹ 64 ä½çš„åŒ…</a>ä¸ºä¾‹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  wget https://dl.k8s.io/v1.10.7/kubernetes-client-linux-amd64.tar.gz
âœ  echo <span style="color:#e6db74">&#39;169b57c6707ed8d8be9643b0088631e5c0c6a37a5e99205f03c1199cd32bc61e  kubernetes-client-linux-amd64.tar.gz&#39;</span> | sha256sum -c -
kubernetes-client-linux-amd64.tar.gz: æˆåŠŸ
âœ  tar zxf kubernetes-client-linux-amd64.tar.gz
âœ  sudo mv kubernetes/client/bin/kubectl /usr/local/bin/kubectl
âœ  /usr/local/bin/kubectl version --client
Client Version: version.Info<span style="color:#f92672">{</span>Major:<span style="color:#e6db74">&#34;1&#34;</span>, Minor:<span style="color:#e6db74">&#34;10&#34;</span>, GitVersion:<span style="color:#e6db74">&#34;v1.10.7&#34;</span>, GitCommit:<span style="color:#e6db74">&#34;0c38c362511b20a098d7cd855f1314dad92c2780&#34;</span>, GitTreeState:<span style="color:#e6db74">&#34;clean&#34;</span>, BuildDate:<span style="color:#e6db74">&#34;2018-08-20T10:09:03Z&#34;</span>, GoVersion:<span style="color:#e6db74">&#34;go1.9.3&#34;</span>, Compiler:<span style="color:#e6db74">&#34;gc&#34;</span>, Platform:<span style="color:#e6db74">&#34;linux/amd64&#34;</span><span style="color:#f92672">}</span>
</code></pre></div><p>æ‰§è¡Œä»¥ä¸Šå‘½ä»¤å³å¯å®Œæˆ <code>kubectl</code> çš„å®‰è£…ï¼Œæœ€åä¸€æ­¥ä¼šçœ‹åˆ°å½“å‰å®‰è£…çš„ç‰ˆæœ¬ä¿¡æ¯ç­‰ã€‚</p>
<h3 id="å®‰è£…-minikube">å®‰è£… Minikube</h3>
<p>å…ˆæŸ¥çœ‹ Minikube çš„ <a href="https://github.com/kubernetes/minikube/releases">Release é¡µé¢</a>ï¼Œå½“å‰æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬æ˜¯ v0.28.2ï¼Œæ‰¾åˆ°ä½ æ‰€éœ€ç³»ç»Ÿçš„ç‰ˆæœ¬ï¼Œç‚¹å‡»ä¸‹è½½ï¼Œå¹¶å°†ä¸‹è½½å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶åŠ å…¥ä½ çš„ PATH ä¸­ã€‚</p>
<p><img src="/images/92c974f57a363e4c2991572f2641597f6bb7ed1125beeb4a40bc1de122c172f6.png" alt="picture 3"></p>
<blockquote>
<p><strong>æ³¨ï¼šå½“å‰ Windows ç³»ç»Ÿä¸‹çš„å®‰è£…åŒ…è¿˜å¤„äºå®éªŒæ€§è´¨ï¼Œå¦‚æœä½ æ˜¯åœ¨ Windows ç¯å¢ƒä¸‹ï¼ŒåŒæ ·æ˜¯å¯ä»¥ä¸‹è½½å®‰è£…ä½¿ç”¨çš„</strong></p>
</blockquote>
<p>ä»¥ Linux ä¸‹çš„å®‰è£…ä¸ºä¾‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  wget -O minikube https://github.com/kubernetes/minikube/releases/download/v0.28.2/minikube-linux-amd64
âœ  chmod +x minikube
âœ  sudo mv minikube /usr/local/bin/minikube

âœ  /usr/local/bin/minikube version
minikube version: v0.28.2
</code></pre></div><p>æœ€åä¸€æ­¥å¯æŸ¥çœ‹å½“å‰å·²å®‰è£…å¥½çš„ Minikube çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚å¦‚æœå®‰è£…æˆåŠŸå°†ä¼šçœ‹åˆ°å’Œæˆ‘ä¸Šé¢å†…å®¹ç›¸åŒçš„ç»“æœã€‚</p>
<h3 id="åˆ›å»ºç¬¬ä¸€ä¸ª-k8s-é›†ç¾¤">åˆ›å»ºç¬¬ä¸€ä¸ª K8S é›†ç¾¤</h3>
<p>ä½¿ç”¨ Minikube åˆ›å»ºé›†ç¾¤ï¼Œåªè¦ç®€å•çš„æ‰§è¡Œ <code>minikube start</code> å³å¯ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ ä¼šçœ‹åˆ°å’Œæˆ‘ç±»ä¼¼çš„è¾“å‡ºã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ minikube start
Starting local Kubernetes v1.10.0 cluster...
Starting VM...
Getting VM IP address...
Moving files into cluster...
Setting up certs...
Connecting to cluster...
Setting up kubeconfig...
Starting cluster components...
Kubectl is now configured to use the cluster.
Loading cached images from config file.

âœ  ~ minikube status
minikube: Running
cluster: Running
kubectl: Correctly Configured: pointing to minikube-vm at 192.168.99.100         
</code></pre></div><p>ä¸ºäº†éªŒè¯æˆ‘ä»¬çš„é›†ç¾¤ç›®å‰æ˜¯å¦å‡å·²é…ç½®æ­£ç¡®ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl cluster-info 
Kubernetes master is running at https://192.168.99.100:8443
KubeDNS is running at https://192.168.99.100:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

To further debug and diagnose cluster problems, use <span style="color:#e6db74">&#39;kubectl cluster-info dump&#39;</span>.

âœ  ~ kubectl get nodes
NAME       STATUS    ROLES     AGE       VERSION
minikube   Ready     master    1d       v1.10.0
</code></pre></div><p>å¦‚æœå‡ºç°ç±»ä¼¼æ‹’ç»è¿æ¥ä¹‹ç±»çš„æç¤ºï¼Œé‚£å¯èƒ½æ˜¯å› ä¸ºä½ çš„ <code>kubectl</code> é…ç½®ä¸æ­£ç¡®ï¼Œå¯æŸ¥çœ‹ <code>$HOME/.kube/config</code> æ–‡ä»¶æ£€æŸ¥é…ç½®ã€‚ç¤ºä¾‹è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ cat .kube/config
apiVersion: v1
clusters:
- cluster:
    certificate-authority: /home/tao/.minikube/ca.crt
    server: https://192.168.99.100:8443
  name: minikube
contexts:
- context:
    cluster: minikube
    user: minikube
  name: minikube
current-context: minikube
kind: Config
preferences: <span style="color:#f92672">{}</span>
users:
- name: minikube
  user:
    client-certificate: /home/tao/.minikube/client.crt
    client-key: /home/tao/.minikube/client.key
</code></pre></div><p>å¦‚æœæ²¡æœ‰è¯¥æ–‡ä»¶ï¼Œå¯æŒ‰ä¸Šé¢ç¤ºä¾‹å†…å®¹è¿›è¡Œåˆ›å»ºï¼Œæ›¿æ¢æ‰å…¶ä¸­çš„è·¯å¾„åŠ <code>server</code> åœ°å€é…ç½®ã€‚ <code>server</code> åœ°å€å¯é€šè¿‡ <code>minikube status</code> æˆ–è€… <code>minikube ip</code> æŸ¥çœ‹æˆ–æ£€æŸ¥ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">(</span>Tao<span style="color:#f92672">)</span> âœ  ~ minikube ip
192.168.99.100

<span style="color:#f92672">(</span>Tao<span style="color:#f92672">)</span> âœ  ~ minikube status
minikube: Running
cluster: Running
kubectl: Correctly Configured: pointing to minikube-vm at 192.168.99.100
</code></pre></div><h3 id="é€šè¿‡-dashboard-æŸ¥çœ‹é›†ç¾¤å½“å‰çŠ¶æ€">é€šè¿‡ Dashboard æŸ¥çœ‹é›†ç¾¤å½“å‰çŠ¶æ€</h3>
<p>ä½¿ç”¨ <code>Minikube</code> çš„å¦ä¸€ä¸ªå¥½å¤„åœ¨äºï¼Œä½ å¯ä»¥ä¸ç”¨å…³æ³¨å¤ªå¤šå®‰è£…æ–¹é¢çš„è¿‡ç¨‹ï¼Œç›´æ¥åœ¨ç»ˆç«¯ä¸‹è¾“å…¥ <code>minikube dashboard</code> æ‰“å¼€ç³»ç»Ÿ Dashboard å¹¶é€šè¿‡æ­¤æ¥æŸ¥çœ‹é›†ç¾¤ç›¸å…³çŠ¶æ€ã€‚</p>
<p>æ‰§è¡Œ <code>minikube dashboard</code> åä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ç›‘å¬åœ¨é€šè¿‡ <code>minikube ip</code> æ‰€è·å¾— IP çš„ 3000 ç«¯å£ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/images/9dfc59dbf0a7462c5715a908a3bfe52e11360dad5b117673f2ea1973912db9a5.png" alt="picture 4"></p>
<h3 id="ç›¸å…³é“¾æ¥">ç›¸å…³é“¾æ¥</h3>
<ul>
<li><a href="https://websiteforstudents.com/installing-virtualbox-ubuntu-17-04/">å®‰è£… VirtualBox</a></li>
<li><a href="https://juejin.im/post/6844903807562989582">ä½¿ç”¨ Kind æ­å»ºä½ çš„æœ¬åœ° Kubernetes é›†ç¾¤</a></li>
</ul>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¸ºäº†èƒ½æ›´å¿«çš„ä½“éªŒåˆ° K8S é›†ç¾¤ï¼Œé¿å…å¾ˆå¤šç¹ççš„å®‰è£…æ­¥éª¤ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä½¿ç”¨å®˜æ–¹æä¾›çš„ <code>Minikube</code> å·¥å…·æ¥æ­å»ºä¸€ä¸ªæœ¬åœ°é›†ç¾¤ã€‚</p>
<p>Minikube çš„æœ¬è´¨å…¶å®æ˜¯å°†ä¸€å¥— â€œå®šåˆ¶åŒ–â€ çš„ K8S é›†ç¾¤æ‰“åŒ…æˆ ISO é•œåƒï¼Œå½“æ‰§è¡Œ <code>minikube start</code> çš„æ—¶å€™ï¼Œä¾¿é€šè¿‡æ­¤é•œåƒå¯åŠ¨ä¸€ä¸ªè™šæ‹Ÿæœºï¼Œåœ¨æ­¤è™šæ‹Ÿæœºä¸Šé€šè¿‡ <code>kubeadm</code> å·¥å…·æ¥æ­å»ºä¸€å¥—åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„ K8S é›†ç¾¤ã€‚å…³äº <code>kubeadm</code> å·¥å…·ï¼Œæˆ‘ä»¬åœ¨ä¸‹èŠ‚è¿›è¡Œè®²è§£ã€‚</p>
<p>åŒæ—¶ï¼Œä¼šé€šè¿‡è™šæ‹Ÿæœºçš„ç›¸å…³é…ç½®æ¥å£æ‹¿åˆ°åˆšæ‰æ‰€å¯åŠ¨è™šæ‹Ÿæœºçš„åœ°å€ä¿¡æ¯ç­‰ï¼Œå¹¶å®Œæˆæœ¬åœ°çš„ <code>kubectl</code> å·¥å…·çš„é…ç½®ï¼Œä»¥ä¾¿äºè®©ç”¨æˆ·é€šè¿‡ <code>kubectl</code> å·¥å…·å¯¹é›†ç¾¤è¿›è¡Œæ“ä½œã€‚</p>
<p>äº‹å®ä¸Šï¼Œå½“å‰ Docker for Mac 17.12 CE Edge å’Œ Docker for Windows 18.02 CE Edge ï¼Œä»¥åŠè¿™ä¸¤ç§å¹³å°æ›´é«˜çš„ Edge ç‰ˆæœ¬, å‡å·²å†…ç½®äº†å¯¹ K8S çš„æ”¯æŒï¼Œä½†å‡ä¸º Edge ç‰ˆæœ¬ï¼Œæ­¤å¤„æš‚ä¸åšè¿‡å¤šä»‹ç»ã€‚</p>

        </div>
    </article>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/03-%E5%AE%8F%E8%A7%82%E8%AE%A4%E8%AF%86%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84/"><span>03 å®è§‚è®¤è¯†ï¼šæ•´ä½“æ¶æ„</span></a>
    </div>
    <div class="next">
        
        <a href="/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/05-%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA-kubernetes-%E9%9B%86%E7%BE%A4-%E7%94%9F%E4%BA%A7%E5%8F%AF%E7%94%A8/"><span>05 åŠ¨æ‰‹å®è·µï¼šæ­å»ºä¸€ä¸ª Kubernetes é›†ç¾¤ - ç”Ÿäº§å¯ç”¨</span></a>
    </div>
</div>

        </div>
        <div class="toggler" onclick="toggleLight(this);">ğŸ’¡</div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 28280 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    function toggleLight() {
        document.getElementById('page').classList.toggle('night');
    }
</script>
</body>

</html>