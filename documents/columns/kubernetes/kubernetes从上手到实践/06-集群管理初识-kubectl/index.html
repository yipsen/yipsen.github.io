<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>06 é›†ç¾¤ç®¡ç†ï¼šåˆè¯† kubectl | Yipsen Ye</title>
<meta name="description" content="ä»æœ¬èŠ‚å¼€å§‹ï¼Œæˆ‘ä»¬æ¥å­¦ä¹  K8S é›†ç¾¤ç®¡ç†ç›¸å…³çš„çŸ¥è¯†ã€‚é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“ K8S éµå¾ª C/S æ¶æ„ï¼Œå®˜æ–¹ä¹Ÿæä¾›äº† CLI å·¥å…· kubectl ç”¨äºå®Œæˆå¤§å¤šæ•°é›†ç¾¤ç®¡ç†ç›¸å…³çš„åŠŸèƒ½ã€‚å½“ç„¶å‡¡æ˜¯ä½ å¯ä»¥é€šè¿‡ kubectl å®Œæˆçš„ä¸é›†ç¾¤äº¤äº’çš„åŠŸèƒ½ï¼Œéƒ½å¯ä»¥ç›´æ¥é€šè¿‡ API å®Œæˆã€‚
å¯¹äºæˆ‘ä»¬æ¥è¯´ kubectl å¹¶ä¸é™Œç”Ÿï¼Œåœ¨ç¬¬ 3 ç« è®² K8S æ•´ä½“æ¶æ„æ—¶ï¼Œæˆ‘ä»¬é¦–æ¬¡æåˆ°äº†å®ƒã€‚åœ¨ç¬¬ 4 ç« å’Œç¬¬ 5 ç« ä»‹ç»äº†ä¸¤ç§å®‰è£… kubectl çš„æ–¹å¼æ•…è€Œæœ¬ç« ä¸å†èµ˜è¿°å®‰è£…çš„éƒ¨åˆ†ã€‚
æ•´ä½“æ¦‚è§ˆ é¦–å…ˆæˆ‘ä»¬åœ¨ç»ˆç«¯ä¸‹æ‰§è¡Œä¸‹ kubectl:
âœ ~ kubectl kubectl controls the Kubernetes cluster manager. ... Usage: kubectl [flags] [options] kubectl å·²ç»å°†å‘½ä»¤åšäº†åŸºæœ¬çš„å½’ç±»ï¼ŒåŒæ—¶æ˜¾ç¤ºäº†å…¶ä¸€èˆ¬çš„ç”¨æ³• kubectl [flags] [options] ã€‚
ä½¿ç”¨ kubectl options å¯ä»¥çœ‹åˆ°æ‰€æœ‰å…¨å±€å¯ç”¨çš„é…ç½®é¡¹ã€‚
åŸºç¡€é…ç½® åœ¨æˆ‘ä»¬çš„ç”¨æˆ·å®¶ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªåä¸º .kube/config çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å…¶ä¸­çš„å†…å®¹ï¼ˆæ­¤å¤„ä»¥æœ¬åœ°çš„ minikube é›†ç¾¤ä¸ºä¾‹ï¼‰ã€‚
âœ ~ ls $HOME/.kube/config /home/tao/.kube/config âœ ~ cat $HOME/.kube/config apiVersion: v1 clusters: - cluster: certificate-authority: /home/tao/.">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="logo-link" style="width: 60px; color: #CA6924;">
    <a href="http://yipsen.github.io/">
        <img style="margin-bottom: -1rem;" src="/images/deer.svg" alt="logo">
        <span style="font-size: 0.5rem; color: #CA6924;">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æœ­è®°</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/kubernetes%e4%bb%8e%e4%b8%8a%e6%89%8b%e5%88%b0%e5%ae%9e%e8%b7%b5/">Kubernetesä»ä¸Šæ‰‹åˆ°å®è·µ</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/01-%E5%BC%80%E7%AF%87-kubernetes-%E6%98%AF%E4%BB%80%E4%B9%88%E4%BB%A5%E5%8F%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AE%83/">01 å¼€ç¯‡ï¼š Kubernetes æ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/02-%E5%88%9D%E6%AD%A5%E8%AE%A4%E8%AF%86kubernetes-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/">02 åˆæ­¥è®¤è¯†ï¼šKubernetes åŸºç¡€æ¦‚å¿µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/03-%E5%AE%8F%E8%A7%82%E8%AE%A4%E8%AF%86%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84/">03 å®è§‚è®¤è¯†ï¼šæ•´ä½“æ¶æ„</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/04-%E6%90%AD%E5%BB%BA-kubernetes-%E9%9B%86%E7%BE%A4-%E6%9C%AC%E5%9C%B0%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA/">04 æ­å»º Kubernetes é›†ç¾¤ - æœ¬åœ°å¿«é€Ÿæ­å»º</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/05-%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA-kubernetes-%E9%9B%86%E7%BE%A4-%E7%94%9F%E4%BA%A7%E5%8F%AF%E7%94%A8/">05 åŠ¨æ‰‹å®è·µï¼šæ­å»ºä¸€ä¸ª Kubernetes é›†ç¾¤ - ç”Ÿäº§å¯ç”¨</a></li>
                
                
                
                    <li>06 é›†ç¾¤ç®¡ç†ï¼šåˆè¯† kubectl</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/07-%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E4%BB%A5-redis-%E4%B8%BA%E4%BE%8B-%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%AE%BF%E9%97%AE/">07 é›†ç¾¤ç®¡ç†ï¼šä»¥ Redis ä¸ºä¾‹-éƒ¨ç½²åŠè®¿é—®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/08-%E5%AE%89%E5%85%A8%E9%87%8D%E7%82%B9-%E8%AE%A4%E8%AF%81%E5%92%8C%E6%8E%88%E6%9D%83/">08 å®‰å…¨é‡ç‚¹ è®¤è¯å’Œæˆæƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/09-%E5%BA%94%E7%94%A8%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2%E5%AE%9E%E9%99%85%E9%A1%B9%E7%9B%AE/">09 åº”ç”¨å‘å¸ƒï¼šéƒ¨ç½²å®é™…é¡¹ç›®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/10-%E5%BA%94%E7%94%A8%E7%AE%A1%E7%90%86%E5%88%9D%E8%AF%86-helm/">10 åº”ç”¨ç®¡ç†ï¼šåˆè¯† Helm</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/11-%E9%83%A8%E7%BD%B2%E5%AE%9E%E8%B7%B5%E4%BB%A5-helm-%E9%83%A8%E7%BD%B2%E9%A1%B9%E7%9B%AE/">11 éƒ¨ç½²å®è·µï¼šä»¥ Helm éƒ¨ç½²é¡¹ç›®</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/12-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-apiserver/">12 åº–ä¸è§£ç‰›ï¼škube-apiserver</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/13-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Betcd/">13 åº–ä¸è§£ç‰›ï¼šetcd</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/14-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bcontroller-manager/">14 åº–ä¸è§£ç‰›ï¼šcontroller-manager</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/15-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-scheduler/">15 åº–ä¸è§£ç‰›ï¼škube-scheduler</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/16-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkubelet/">16 åº–ä¸è§£ç‰›ï¼škubelet</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/17-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bkube-proxy/">17 åº–ä¸è§£ç‰›ï¼škube-proxy</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/18-%E5%BA%96%E4%B8%81%E8%A7%A3%E7%89%9Bcontainer-runtime-docker/">18 åº–ä¸è§£ç‰›ï¼šContainer Runtime ï¼ˆDockerï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/19-troubleshoot/">19 Troubleshoot</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/20-%E6%89%A9%E5%B1%95%E5%A2%9E%E5%BC%BAdashboard/">20 æ‰©å±•å¢å¼ºï¼šDashboard</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/21-%E6%89%A9%E5%B1%95%E5%A2%9E%E5%BC%BAcoredns/">21 æ‰©å±•å¢å¼ºï¼šCoreDNS</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/22-%E6%9C%8D%E5%8A%A1%E5%A2%9E%E5%BC%BAingress/">22 æœåŠ¡å¢å¼ºï¼šIngress</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/23-%E7%9B%91%E6%8E%A7%E5%AE%9E%E8%B7%B5%E5%AF%B9-k8s-%E9%9B%86%E7%BE%A4%E8%BF%9B%E8%A1%8C%E7%9B%91%E6%8E%A7/">23 ç›‘æ§å®è·µï¼šå¯¹ K8S é›†ç¾¤è¿›è¡Œç›‘æ§</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/24-%E6%80%BB%E7%BB%93/">24 æ€»ç»“</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">06 é›†ç¾¤ç®¡ç†ï¼šåˆè¯† kubectl</h1>
        <div class="post-info">
            <div> 
                <span class="post-date">ğŸ“…&nbsp;2021-12-22 01:47:32</span>ğŸ·ï¸&nbsp;<a class="post-tag" href="/tags/kubernetes/">kubernetes</a></div><div class="post-category">
                
                ğŸ“š&nbsp;<a href="/categories/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/">Kubernetesä»ä¸Šæ‰‹åˆ°å®è·µ</a>
                
            </div></div>
        <div class="post-content">
            <p>ä»æœ¬èŠ‚å¼€å§‹ï¼Œæˆ‘ä»¬æ¥å­¦ä¹  K8S é›†ç¾¤ç®¡ç†ç›¸å…³çš„çŸ¥è¯†ã€‚é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“ K8S éµå¾ª C/S æ¶æ„ï¼Œå®˜æ–¹ä¹Ÿæä¾›äº† CLI å·¥å…· <code>kubectl</code> ç”¨äºå®Œæˆå¤§å¤šæ•°é›†ç¾¤ç®¡ç†ç›¸å…³çš„åŠŸèƒ½ã€‚å½“ç„¶å‡¡æ˜¯ä½ å¯ä»¥é€šè¿‡ <code>kubectl</code> å®Œæˆçš„ä¸é›†ç¾¤äº¤äº’çš„åŠŸèƒ½ï¼Œéƒ½å¯ä»¥ç›´æ¥é€šè¿‡ API å®Œæˆã€‚</p>
<p>å¯¹äºæˆ‘ä»¬æ¥è¯´ <code>kubectl</code> å¹¶ä¸é™Œç”Ÿï¼Œåœ¨ç¬¬ 3 ç« è®² K8S æ•´ä½“æ¶æ„æ—¶ï¼Œæˆ‘ä»¬é¦–æ¬¡æåˆ°äº†å®ƒã€‚åœ¨ç¬¬ 4 ç« å’Œç¬¬ 5 ç« ä»‹ç»äº†ä¸¤ç§å®‰è£… <code>kubectl</code> çš„æ–¹å¼æ•…è€Œæœ¬ç« ä¸å†èµ˜è¿°å®‰è£…çš„éƒ¨åˆ†ã€‚</p>
<h2 id="æ•´ä½“æ¦‚è§ˆ">æ•´ä½“æ¦‚è§ˆ</h2>
<p>é¦–å…ˆæˆ‘ä»¬åœ¨ç»ˆç«¯ä¸‹æ‰§è¡Œä¸‹ <code>kubectl</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl                
kubectl controls the Kubernetes cluster manager.
...
Usage:
  kubectl <span style="color:#f92672">[</span>flags<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>options<span style="color:#f92672">]</span>
</code></pre></div><p><code>kubectl</code> å·²ç»å°†å‘½ä»¤åšäº†åŸºæœ¬çš„å½’ç±»ï¼ŒåŒæ—¶æ˜¾ç¤ºäº†å…¶ä¸€èˆ¬çš„ç”¨æ³• <code>kubectl [flags] [options]</code> ã€‚</p>
<p>ä½¿ç”¨ <code>kubectl options</code> å¯ä»¥çœ‹åˆ°æ‰€æœ‰å…¨å±€å¯ç”¨çš„é…ç½®é¡¹ã€‚</p>
<h2 id="åŸºç¡€é…ç½®">åŸºç¡€é…ç½®</h2>
<p>åœ¨æˆ‘ä»¬çš„ç”¨æˆ·å®¶ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªåä¸º <code>.kube/config</code> çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å…¶ä¸­çš„å†…å®¹ï¼ˆæ­¤å¤„ä»¥æœ¬åœ°çš„ minikube é›†ç¾¤ä¸ºä¾‹ï¼‰ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ ls $HOME/.kube/config 
/home/tao/.kube/config
âœ  ~ cat $HOME/.kube/config
apiVersion: v1
clusters:
- cluster:
    certificate-authority: /home/tao/.minikube/ca.crt
    server: https://192.168.99.101:8443
  name: minikube
contexts:
- context:
    cluster: minikube
    user: minikube
  name: minikube
current-context: minikube
kind: Config
preferences: <span style="color:#f92672">{}</span>
users:
- name: minikube
  user:
    client-certificate: /home/tao/.minikube/client.crt
    client-key: /home/tao/.minikube/client.key
</code></pre></div><p><code>$HOME/.kube/config</code> ä¸­ä¸»è¦åŒ…å«ç€ï¼š</p>
<ul>
<li>K8S é›†ç¾¤çš„ API åœ°å€</li>
<li>ç”¨äºè®¤è¯çš„è¯ä¹¦åœ°å€</li>
</ul>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬åœ¨ç¬¬ 5 ç« æ—¶ï¼Œä¹Ÿå·²ç»è¯´è¿‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>--kubeconfig</code> æˆ–è€…ç¯å¢ƒå˜é‡ <code>KUBECONFIG</code> æ¥ä¼ é€’é…ç½®æ–‡ä»¶ã€‚</p>
<p>å¦å¤–å¦‚æœä½ å¹¶ä¸æƒ³ä½¿ç”¨é…ç½®æ–‡ä»¶çš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ç›´æ¥ä¼ é€’ç›¸å…³å‚æ•°æ¥ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl --client-key<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/home/tao/.minikube/client.key&#39;</span> --client-certificate<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/home/tao/.minikube/client.crt&#39;</span> --server<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;https://192.168.99.101:8443&#39;</span>  get nodes
NAME       STATUS    ROLES     AGE       VERSION
minikube   Ready     master    2d        v1.11.3
</code></pre></div><h2 id="ä»-get-è¯´èµ·">ä» <code>get</code> è¯´èµ·</h2>
<p>æ— è®ºæ˜¯ç¬¬ 4 ç« è¿˜æ˜¯ç¬¬ 5 ç« ï¼Œå½“æˆ‘ä»¬åˆ›å»ºé›†ç¾¤åï¼Œæˆ‘ä»¬éƒ½åšäº†ä¸¤ä¸ªç›¸åŒçš„äº‹æƒ…ï¼Œä¸€ä¸ªæ˜¯æ‰§è¡Œ <code>kubectl get nodes</code> å¦ä¸€ä¸ªåˆ™æ˜¯ <code>kubectl cluster-info</code>ï¼Œæˆ‘ä»¬å…ˆä»æŸ¥çœ‹é›†ç¾¤å†… <code>Node</code> å¼€å§‹ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªæœ¬åœ°å·²åˆ›å»ºå¥½çš„ <code>minikube</code> é›†ç¾¤ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl get nodes
NAME       STATUS    ROLES     AGE       VERSION
minikube   Ready     master    2d        v1.11.3
âœ  ~ kubectl get node
NAME       STATUS    ROLES     AGE       VERSION
minikube   Ready     master    2d        v1.11.3
âœ  ~ kubectl get no
NAME       STATUS    ROLES     AGE       VERSION
minikube   Ready     master    2d        v1.11.3
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ä»¥ä¸Šä¸‰ç§â€œåç§°â€å‡å¯è·å–å½“å‰é›†ç¾¤å†… <code>Node</code> ä¿¡æ¯ã€‚è¿™æ˜¯ä¸ºäº†ä¾¿äºä½¿ç”¨è€Œå¢åŠ çš„åˆ«åå’Œç¼©å†™ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦çœ‹åˆ°æ›´è¯¦ç»†çš„ä¿¡æ¯å‘¢ï¼Ÿå¯ä»¥é€šè¿‡ä¼ é€’ <code>-o</code> å‚æ•°ä»¥å¾—åˆ°ä¸åŒæ ¼å¼çš„è¾“å‡ºã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl get nodes -o wide 
NAME       STATUS    ROLES     AGE       VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE            KERNEL-VERSION   CONTAINER-RUNTIME
minikube   Ready     master    2d        v1.11.3   10.0.2.15     &lt;none&gt;        Buildroot 2018.05   4.15.0           docker://17.12.1-ce
</code></pre></div><p>å½“ç„¶ä¹Ÿå¯ä»¥ä¼ é€’ <code>-o yaml</code> æˆ–è€… <code>-o json</code> å¾—åˆ°æ›´åŠ è¯¦å°½çš„ä¿¡æ¯ã€‚</p>
<p>ä½¿ç”¨ <code>-o json</code> å°†å†…å®¹ä»¥ JSON æ ¼å¼è¾“å‡ºæ—¶ï¼Œå¯ä»¥é…åˆ <a href="https://stedolan.github.io/jq/"><code>jq</code></a> è¿›è¡Œå†…å®¹æå–ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl get nodes -o json | jq <span style="color:#e6db74">&#34;.items[] | {name: .metadata.name} + .status.nodeInfo&#34;</span>
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;minikube&#34;</span>,
  <span style="color:#e6db74">&#34;architecture&#34;</span>: <span style="color:#e6db74">&#34;amd64&#34;</span>,
  <span style="color:#e6db74">&#34;bootID&#34;</span>: <span style="color:#e6db74">&#34;d675d75b-e58e-40db-8910-6e5dda9e7cf9&#34;</span>,
  <span style="color:#e6db74">&#34;containerRuntimeVersion&#34;</span>: <span style="color:#e6db74">&#34;docker://17.12.1-ce&#34;</span>,
  <span style="color:#e6db74">&#34;kernelVersion&#34;</span>: <span style="color:#e6db74">&#34;4.15.0&#34;</span>,
  <span style="color:#e6db74">&#34;kubeProxyVersion&#34;</span>: <span style="color:#e6db74">&#34;v1.11.3&#34;</span>,
  <span style="color:#e6db74">&#34;kubeletVersion&#34;</span>: <span style="color:#e6db74">&#34;v1.11.3&#34;</span>,
  <span style="color:#e6db74">&#34;machineID&#34;</span>: <span style="color:#e6db74">&#34;078e2d22629747178397e29cf1c96cc7&#34;</span>,
  <span style="color:#e6db74">&#34;operatingSystem&#34;</span>: <span style="color:#e6db74">&#34;linux&#34;</span>,
  <span style="color:#e6db74">&#34;osImage&#34;</span>: <span style="color:#e6db74">&#34;Buildroot 2018.05&#34;</span>,
  <span style="color:#e6db74">&#34;systemUUID&#34;</span>: <span style="color:#e6db74">&#34;4073906D-69A1-46EE-A08C-0252D9F79893&#34;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>ä»¥æ­¤æ–¹æ³•å¯å¾—åˆ° <code>Node</code> çš„åŸºç¡€ä¿¡æ¯ã€‚</p>
<p>é‚£ä¹ˆé™¤äº† <code>Node</code> å¤–æˆ‘ä»¬è¿˜å¯ä»¥æŸ¥çœ‹é‚£äº›èµ„æºæˆ–åˆ«åå‘¢ï¼Ÿå¯ä»¥é€šè¿‡ <code>kubectl api-resources</code> æŸ¥çœ‹æœåŠ¡ç«¯æ”¯æŒçš„ API èµ„æºåŠåˆ«åå’Œæè¿°ç­‰ä¿¡æ¯ã€‚</p>
<h2 id="ç­”ç–‘è§£æƒ‘-explain">ç­”ç–‘è§£æƒ‘ <code>explain</code></h2>
<p>å½“é€šè¿‡ä¸Šé¢çš„å‘½ä»¤æ‹¿åˆ°æ‰€æœ‰æ”¯æŒçš„ API èµ„æºåˆ—è¡¨åï¼Œè™½ç„¶åé¢åŸºæœ¬éƒ½æœ‰ä¸€ä¸ªç®€å•çš„è¯´æ˜ï¼Œæ˜¯ä¸æ˜¯ä»ç„¶æ„Ÿè§‰ä¸€å¤´é›¾æ°´ï¼Ÿ</p>
<p>åˆ«æ‹…å¿ƒï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨ Linux çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰ <code>man</code> ï¼Œåœ¨ä½¿ç”¨ <code>kubectl</code> çš„æ—¶å€™ï¼Œæˆ‘ä»¬é™¤äº† <code>--help</code> å¤–è¿˜æœ‰ <code>explain</code> å¯å¸®æˆ‘ä»¬è¿›è¡Œè¯´æ˜ã€‚ ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">âœ  ~ kubectl explain node                                                                                                              
KIND:     Node
VERSION:  v1

DESCRIPTION:              
     Node is a worker node in Kubernetes. Each node will have a unique
     identifier in the cache <span style="color:#f92672">(</span>i.e. in etcd<span style="color:#f92672">)</span>.

<span style="color:#75715e"># ... çœç•¥è¾“å‡º</span>
</code></pre></div><h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>æœ¬èŠ‚æˆ‘ä»¬å¤§è‡´ä»‹ç»äº† <code>kubectl</code> çš„åŸºç¡€ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯æœ€å¸¸è§çš„ <code>get</code> å‘½ä»¤ã€‚å¯é€šè¿‡ä¼ é€’ä¸åŒå‚æ•°è·å–ä¸åŒæ ¼å¼çš„è¾“å‡ºï¼Œé…åˆ <code>jq</code> å·¥å…·å¯æ–¹ä¾¿çš„è¿›è¡Œå†…å®¹æå–ã€‚</p>
<p>ä»¥åŠå…³äº <code>kubectl</code> çš„é…ç½®æ–‡ä»¶å’Œæ— é…ç½®æ–‡ä»¶ä¸‹é€šè¿‡ä¼ é€’å‚æ•°ç›´æ¥ä½¿ç”¨ç­‰ã€‚</p>
<p>å¯¹åº”äºæˆ‘ä»¬å‰é¢æåˆ°çš„ K8S æ¶æ„ï¼Œæœ¬èŠ‚ç›¸å½“äº <code>CURD</code> ä¸­çš„ <code>R</code> å³æŸ¥è¯¢ã€‚æŸ¥è¯¢å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œæ—¢æ˜¯æˆ‘ä»¬äº†è§£é›†ç¾¤çš„ç¬¬ä¸€æ­¥ï¼ŒåŒæ—¶ä¹Ÿæ˜¯åç»­éªŒè¯æ“ä½œç»“æœæˆ–é›†ç¾¤çŠ¶æ€å¿…ä¸å¯å°‘çš„æŠ€èƒ½ã€‚</p>
<p>å½“ç„¶ï¼Œä½ åœ¨é›†ç¾¤ç®¡ç†ä¸­å¯èƒ½ä¼šé‡åˆ°å„ç§å„æ ·çš„é—®é¢˜ï¼Œå•çº¯ä¾é  <code>get</code> å¹¶ä¸è¶³ä»¥å®šä½é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨ç¬¬ 21 èŠ‚ä¸­å°†ä»‹ç» Troubleshoot çš„æ€è·¯åŠæ–¹æ³•ã€‚</p>
<p>ä¸‹èŠ‚æˆ‘ä»¬æ¥å­¦ä¹ å…³äº <code>C</code> çš„éƒ¨åˆ†ï¼Œå³åˆ›å»ºã€‚</p>

        </div>
    </article>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/05-%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA-kubernetes-%E9%9B%86%E7%BE%A4-%E7%94%9F%E4%BA%A7%E5%8F%AF%E7%94%A8/"><span>05 åŠ¨æ‰‹å®è·µï¼šæ­å»ºä¸€ä¸ª Kubernetes é›†ç¾¤ - ç”Ÿäº§å¯ç”¨</span></a>
    </div>
    <div class="next">
        
        <a href="/documents/columns/kubernetes/kubernetes%E4%BB%8E%E4%B8%8A%E6%89%8B%E5%88%B0%E5%AE%9E%E8%B7%B5/07-%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E4%BB%A5-redis-%E4%B8%BA%E4%BE%8B-%E9%83%A8%E7%BD%B2%E5%8F%8A%E8%AE%BF%E9%97%AE/"><span>07 é›†ç¾¤ç®¡ç†ï¼šä»¥ Redis ä¸ºä¾‹-éƒ¨ç½²åŠè®¿é—®</span></a>
    </div>
</div>

        </div>
        <div class="toggler" onclick="toggleLight(this);">ğŸ’¡</div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 28280 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    function toggleLight() {
        document.getElementById('page').classList.toggle('night');
    }
</script>
</body>

</html>