<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>30 Javaè™šæ‹Ÿæœºçš„ç›‘æ§åŠè¯Šæ–­å·¥å…·ï¼ˆå‘½ä»¤è¡Œç¯‡ï¼‰ | Yipsen Ye</title>
<meta name="description" content="ä»Šå¤©ï¼Œæˆ‘ä»¬æ¥ä¸€èµ·äº†è§£ä¸€ä¸‹ JDK ä¸­ç”¨äºç›‘æ§åŠè¯Šæ–­å·¥å…·ã€‚æœ¬ç¯‡ä¸­æˆ‘å°†ä½¿ç”¨åˆšåˆšå‘å¸ƒçš„ Java 11 ç‰ˆæœ¬çš„å·¥å…·è¿›è¡Œç¤ºèŒƒã€‚
jps ä½ å¯èƒ½ç”¨è¿‡pså‘½ä»¤ï¼Œæ‰“å°æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ã€‚JDK ä¸­çš„jpså‘½ä»¤ï¼ˆå¸®åŠ©æ–‡æ¡£ï¼‰æ²¿ç”¨äº†åŒæ ·çš„æ¦‚å¿µï¼šå®ƒå°†æ‰“å°æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ Java è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ã€‚
åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œjpsçš„è¾“å‡ºä¿¡æ¯åŒ…æ‹¬ Java è¿›ç¨‹çš„è¿›ç¨‹ ID ä»¥åŠä¸»ç±»åã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡è¿½åŠ å‚æ•°ï¼Œæ¥æ‰“å°é¢å¤–çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œ-lå°†æ‰“å°æ¨¡å—åä»¥åŠåŒ…åï¼›-vå°†æ‰“å°ä¼ é€’ç»™ Java è™šæ‹Ÿæœºçš„å‚æ•°ï¼ˆå¦‚-XX:&#43;UnlockExperimentalVMOptions -XX:&#43;UseZGCï¼‰ï¼›-må°†æ‰“å°ä¼ é€’ç»™ä¸»ç±»çš„å‚æ•°ã€‚
å…·ä½“çš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š
$ jps -mlv18331 org.example.Foo Hello World18332 jdk.jcmd/sun.tools.jps.Jps -mlv -Dapplication.home=/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home -Xms8m -Djdk.module.main=jdk.jcmdéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæŸ Java è¿›ç¨‹å…³é—­äº†é»˜è®¤å¼€å¯çš„UsePerfDataå‚æ•°ï¼ˆå³ä½¿ç”¨å‚æ•°-XX:-UsePerfDataï¼‰ï¼Œé‚£ä¹ˆjpså‘½ä»¤ï¼ˆä»¥åŠä¸‹é¢ä»‹ç»çš„jstatï¼‰å°†æ— æ³•æ¢çŸ¥è¯¥ Java è¿›ç¨‹ã€‚
å½“è·å¾— Java è¿›ç¨‹çš„è¿›ç¨‹ ID ä¹‹åï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥è°ƒç”¨æ¥ä¸‹æ¥ä»‹ç»çš„å„é¡¹ç›‘æ§åŠè¯Šæ–­å·¥å…·äº†ã€‚
jstat jstatå‘½ä»¤ï¼ˆå¸®åŠ©æ–‡æ¡£ï¼‰å¯ç”¨æ¥æ‰“å°ç›®æ ‡ Java è¿›ç¨‹çš„æ€§èƒ½æ•°æ®ã€‚å®ƒåŒ…æ‹¬å¤šæ¡å­å‘½ä»¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
$ jstat -options-class-compiler-gc-gccapacity-gccause-gcmetacapacity-gcnew-gcnewcapacity-gcold-gcoldcapacity-gcutil-printcompilationåœ¨è¿™äº›å­å‘½ä»¤ä¸­ï¼Œ-classå°†æ‰“å°ç±»åŠ è½½ç›¸å…³çš„æ•°æ®ï¼Œ-compilerå’Œ-printcompilationå°†æ‰“å°å³æ—¶ç¼–è¯‘ç›¸å…³çš„æ•°æ®ã€‚å‰©ä¸‹çš„éƒ½æ˜¯ä»¥-gcä¸ºå‰ç¼€çš„å­å‘½ä»¤ï¼Œå®ƒä»¬å°†æ‰“å°åƒåœ¾å›æ”¶ç›¸å…³çš„æ•°æ®ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œjstatåªä¼šæ‰“å°ä¸€æ¬¡æ€§èƒ½æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥å°†å®ƒé…ç½®ä¸ºæ¯éš”ä¸€æ®µæ—¶é—´æ‰“å°ä¸€æ¬¡ï¼Œç›´è‡³ç›®æ ‡ Java è¿›ç¨‹ç»ˆæ­¢ï¼Œæˆ–è€…è¾¾åˆ°æˆ‘ä»¬æ‰€é…ç½®çš„æœ€å¤§æ‰“å°æ¬¡æ•°ã€‚å…·ä½“ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š
# Usage: jstat -outputOptions [-t] [-hlines] VMID [interval [count]]$ jstat -gc 22126 1s 4S0C S1C S0U S1U EC EU OC OU MC MU CCSC CCSU YGC YGCT FGC FGCT CGC CGCT GCT 17472,0 17472,0 0,0 0,0 139904,0 47146,4 349568,0 21321,0 30020,0 28001,8 4864,0 4673,4 22 0,080 3 0,270 0 0,000 0,35017472,0 17472,0 420,6 0,0 139904,0 11178,4 349568,0 21321,0 30020,0 28090,1 4864,0 4674,2 28 0,084 3 0,270 0 0,000 0,35417472,0 17472,0 0,0 403,9 139904,0 139538,4 349568,0 21323,4 30020,0 28137,2 4864,0 4674,2 34 0,088 4 0,359 0 0,000 0,44617472,0 17472,0 0,0 0,0 139904,0 0,0 349568,0 21326,1 30020,0 28093,6 4864,0 4673,4 38 0,091 5 0,445 0 0,000 0,536 å½“ç›‘æ§æœ¬åœ°ç¯å¢ƒçš„ Java è¿›ç¨‹æ—¶ï¼ŒVMID å¯ä»¥ç®€å•ç†è§£ä¸º PIDã€‚å¦‚æœéœ€è¦ç›‘æ§è¿œç¨‹ç¯å¢ƒçš„ Java è¿›ç¨‹ï¼Œä½ å¯ä»¥å‚è€ƒ jstat çš„å¸®åŠ©æ–‡æ¡£ã€‚">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="nav-logo">
    <a href="http://yipsen.github.io/">
        
        <span class="nav-title">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æ–‡ç« </a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/%e6%b7%b1%e5%85%a5%e6%8b%86%e8%a7%a3java%e8%99%9a%e6%8b%9f%e6%9c%ba/">æ·±å…¥æ‹†è§£Javaè™šæ‹Ÿæœº</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/00-%E5%BC%80%E7%AF%87%E8%AF%8D-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E8%A6%81%E5%AD%A6%E4%B9%A0java%E8%99%9A%E6%8B%9F%E6%9C%BA/">00 å¼€ç¯‡è¯ ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å­¦ä¹ Javaè™šæ‹Ÿæœºï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/01-java%E4%BB%A3%E7%A0%81%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84/">01 Javaä»£ç æ˜¯æ€ä¹ˆè¿è¡Œçš„ï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/02-java%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B/">02 Javaçš„åŸºæœ¬ç±»å‹</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/03-java%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%98%AF%E5%A6%82%E4%BD%95%E5%8A%A0%E8%BD%BDjava%E7%B1%BB%E7%9A%84/">03 Javaè™šæ‹Ÿæœºæ˜¯å¦‚ä½•åŠ è½½Javaç±»çš„</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/04-jvm%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E7%9A%84%E4%B8%8A/">04 JVMæ˜¯å¦‚ä½•æ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„ï¼Ÿï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/05-jvm%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E7%9A%84%E4%B8%8B/">05 JVMæ˜¯å¦‚ä½•æ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„ï¼Ÿï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/06-jvm%E6%98%AF%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E7%9A%84/">06 JVMæ˜¯å¦‚ä½•å¤„ç†å¼‚å¸¸çš„ï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/07-jvm%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8F%8D%E5%B0%84%E7%9A%84/">07 JVMæ˜¯å¦‚ä½•å®ç°åå°„çš„ï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/08-jvm%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0invokedynamic%E7%9A%84%E4%B8%8A/">08 JVMæ˜¯æ€ä¹ˆå®ç°invokedynamicçš„ï¼Ÿï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/09-jvm%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0invokedynamic%E7%9A%84%E4%B8%8B/">09 JVMæ˜¯æ€ä¹ˆå®ç°invokedynamicçš„ï¼Ÿï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/10-java%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/">10 Javaå¯¹è±¡çš„å†…å­˜å¸ƒå±€</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/11-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E4%B8%8A/">11 åƒåœ¾å›æ”¶ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/12-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E4%B8%8B/">12 åƒåœ¾å›æ”¶ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/13-java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/">13 Javaå†…å­˜æ¨¡å‹</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/14-java%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0synchronized%E7%9A%84/">14 Javaè™šæ‹Ÿæœºæ˜¯æ€ä¹ˆå®ç°synchronizedçš„ï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/15-java%E8%AF%AD%E6%B3%95%E7%B3%96%E4%B8%8Ejava%E7%BC%96%E8%AF%91%E5%99%A8/">15 Javaè¯­æ³•ç³–ä¸Javaç¼–è¯‘å™¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/16-%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91%E4%B8%8A/">16 å³æ—¶ç¼–è¯‘ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/17-%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91%E4%B8%8B/">17 å³æ—¶ç¼–è¯‘ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/18-%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E4%B8%AD%E9%97%B4%E8%A1%A8%E8%BE%BE%E5%BD%A2%E5%BC%8F/">18 å³æ—¶ç¼–è¯‘å™¨çš„ä¸­é—´è¡¨è¾¾å½¢å¼</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/19-java%E5%AD%97%E8%8A%82%E7%A0%81%E5%9F%BA%E7%A1%80%E7%AF%87/">19 Javaå­—èŠ‚ç ï¼ˆåŸºç¡€ç¯‡ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/20-%E6%96%B9%E6%B3%95%E5%86%85%E8%81%94%E4%B8%8A/">20 æ–¹æ³•å†…è”ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/21-%E6%96%B9%E6%B3%95%E5%86%85%E8%81%94%E4%B8%8B/">21 æ–¹æ³•å†…è”ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/22-hotspot%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84intrinsic/">22 HotSpotè™šæ‹Ÿæœºçš„intrinsic</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/23-%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90/">23 é€ƒé€¸åˆ†æ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/24-%E5%AD%97%E6%AE%B5%E8%AE%BF%E9%97%AE%E7%9B%B8%E5%85%B3%E4%BC%98%E5%8C%96/">24 å­—æ®µè®¿é—®ç›¸å…³ä¼˜åŒ–</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/25-%E5%BE%AA%E7%8E%AF%E4%BC%98%E5%8C%96/">25 å¾ªç¯ä¼˜åŒ–</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/26-%E5%90%91%E9%87%8F%E5%8C%96/">26 å‘é‡åŒ–</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/27-%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%99%A8/">27 æ³¨è§£å¤„ç†å™¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/28-%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6jmh%E4%B8%8A/">28 åŸºå‡†æµ‹è¯•æ¡†æ¶JMHï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/29-%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6jmh%E4%B8%8B/">29 åŸºå‡†æµ‹è¯•æ¡†æ¶JMHï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li>30 Javaè™šæ‹Ÿæœºçš„ç›‘æ§åŠè¯Šæ–­å·¥å…·ï¼ˆå‘½ä»¤è¡Œç¯‡ï¼‰</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/31-java%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7gui%E7%AF%87/">31 Javaè™šæ‹Ÿæœºçš„ç›‘æ§åŠè¯Šæ–­å·¥å…·ï¼ˆGUIç¯‡ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/32-jni%E7%9A%84%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/">32 JNIçš„è¿è¡Œæœºåˆ¶</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/33-java-agent%E4%B8%8E%E5%AD%97%E8%8A%82%E7%A0%81%E6%B3%A8%E5%85%A5/">33 Java Agentä¸å­—èŠ‚ç æ³¨å…¥</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/34-graal%E7%94%A8java%E7%BC%96%E8%AF%91java/">34 Graalï¼šç”¨Javaç¼–è¯‘Java</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/35-truffle%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E6%A1%86%E6%9E%B6/">35 Truffleï¼šè¯­è¨€å®ç°æ¡†æ¶</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/36-substratevmaot%E7%BC%96%E8%AF%91%E6%A1%86%E6%9E%B6/">36 SubstrateVMï¼šAOTç¼–è¯‘æ¡†æ¶</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/%E5%B0%BE%E5%A3%B0%E4%B8%A8%E9%81%93%E9%98%BB%E4%B8%94%E9%95%BF%E5%8A%AA%E5%8A%9B%E5%8A%A0%E9%A4%90.html/">å°¾å£°ä¸¨é“é˜»ä¸”é•¿ï¼ŒåŠªåŠ›åŠ é¤.html</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/%E5%B7%A5%E5%85%B7%E7%AF%87-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D/">å·¥å…·ç¯‡ å¸¸ç”¨å·¥å…·ä»‹ç»</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">30 Javaè™šæ‹Ÿæœºçš„ç›‘æ§åŠè¯Šæ–­å·¥å…·ï¼ˆå‘½ä»¤è¡Œç¯‡ï¼‰</h1>
        <div class="post-info">
            <div class="post-date"> 
                <span>2022-01-09 11:11:20</span>
            </div>
        </div>
        <div class="post-content">
            <p>ä»Šå¤©ï¼Œæˆ‘ä»¬æ¥ä¸€èµ·äº†è§£ä¸€ä¸‹ JDK ä¸­ç”¨äºç›‘æ§åŠè¯Šæ–­å·¥å…·ã€‚æœ¬ç¯‡ä¸­æˆ‘å°†ä½¿ç”¨åˆšåˆšå‘å¸ƒçš„ Java 11 ç‰ˆæœ¬çš„å·¥å…·è¿›è¡Œç¤ºèŒƒã€‚</p>
<h2 id="jps">jps</h2>
<p>ä½ å¯èƒ½ç”¨è¿‡<code>ps</code>å‘½ä»¤ï¼Œæ‰“å°æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ã€‚JDK ä¸­çš„<code>jps</code>å‘½ä»¤ï¼ˆ<a href="https://docs.oracle.com/en/java/javase/11/tools/jps.html">å¸®åŠ©æ–‡æ¡£</a>ï¼‰æ²¿ç”¨äº†åŒæ ·çš„æ¦‚å¿µï¼šå®ƒå°†æ‰“å°æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ Java è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ã€‚</p>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>jps</code>çš„è¾“å‡ºä¿¡æ¯åŒ…æ‹¬ Java è¿›ç¨‹çš„è¿›ç¨‹ ID ä»¥åŠä¸»ç±»åã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡è¿½åŠ å‚æ•°ï¼Œæ¥æ‰“å°é¢å¤–çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œ<code>-l</code>å°†æ‰“å°æ¨¡å—åä»¥åŠåŒ…åï¼›<code>-v</code>å°†æ‰“å°ä¼ é€’ç»™ Java è™šæ‹Ÿæœºçš„å‚æ•°ï¼ˆå¦‚<code>-XX:+UnlockExperimentalVMOptions -XX:+UseZGC</code>ï¼‰ï¼›<code>-m</code>å°†æ‰“å°ä¼ é€’ç»™ä¸»ç±»çš„å‚æ•°ã€‚</p>
<p>å…·ä½“çš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>$ jps -mlv
18331 org.example.Foo Hello World
18332 jdk.jcmd/sun.tools.jps.Jps -mlv -Dapplication.home=/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home -Xms8m -Djdk.module.main=jdk.jcmd
</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæŸ Java è¿›ç¨‹å…³é—­äº†é»˜è®¤å¼€å¯çš„<code>UsePerfData</code>å‚æ•°ï¼ˆå³ä½¿ç”¨å‚æ•°<code>-XX:-UsePerfData</code>ï¼‰ï¼Œé‚£ä¹ˆ<code>jps</code>å‘½ä»¤ï¼ˆä»¥åŠä¸‹é¢ä»‹ç»çš„<code>jstat</code>ï¼‰å°†æ— æ³•æ¢çŸ¥è¯¥ Java è¿›ç¨‹ã€‚</p>
<p>å½“è·å¾— Java è¿›ç¨‹çš„è¿›ç¨‹ ID ä¹‹åï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥è°ƒç”¨æ¥ä¸‹æ¥ä»‹ç»çš„å„é¡¹ç›‘æ§åŠè¯Šæ–­å·¥å…·äº†ã€‚</p>
<h2 id="jstat">jstat</h2>
<p><code>jstat</code>å‘½ä»¤ï¼ˆ<a href="https://docs.oracle.com/en/java/javase/11/tools/jstat.html">å¸®åŠ©æ–‡æ¡£</a>ï¼‰å¯ç”¨æ¥æ‰“å°ç›®æ ‡ Java è¿›ç¨‹çš„æ€§èƒ½æ•°æ®ã€‚å®ƒåŒ…æ‹¬å¤šæ¡å­å‘½ä»¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>$ jstat -options
-class
-compiler
-gc
-gccapacity
-gccause
-gcmetacapacity
-gcnew
-gcnewcapacity
-gcold
-gcoldcapacity
-gcutil
-printcompilation
</code></pre><p>åœ¨è¿™äº›å­å‘½ä»¤ä¸­ï¼Œ<code>-class</code>å°†æ‰“å°ç±»åŠ è½½ç›¸å…³çš„æ•°æ®ï¼Œ<code>-compiler</code>å’Œ<code>-printcompilation</code>å°†æ‰“å°å³æ—¶ç¼–è¯‘ç›¸å…³çš„æ•°æ®ã€‚å‰©ä¸‹çš„éƒ½æ˜¯ä»¥<code>-gc</code>ä¸ºå‰ç¼€çš„å­å‘½ä»¤ï¼Œå®ƒä»¬å°†æ‰“å°åƒåœ¾å›æ”¶ç›¸å…³çš„æ•°æ®ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>jstat</code>åªä¼šæ‰“å°ä¸€æ¬¡æ€§èƒ½æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥å°†å®ƒé…ç½®ä¸ºæ¯éš”ä¸€æ®µæ—¶é—´æ‰“å°ä¸€æ¬¡ï¼Œç›´è‡³ç›®æ ‡ Java è¿›ç¨‹ç»ˆæ­¢ï¼Œæˆ–è€…è¾¾åˆ°æˆ‘ä»¬æ‰€é…ç½®çš„æœ€å¤§æ‰“å°æ¬¡æ•°ã€‚å…·ä½“ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code># Usage: jstat -outputOptions [-t] [-hlines] VMID [interval [count]]
$ jstat -gc 22126 1s 4
S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT    CGC    CGCT     GCT   
17472,0 17472,0  0,0    0,0   139904,0 47146,4   349568,0   21321,0   30020,0 28001,8 4864,0 4673,4     22    0,080   3      0,270   0      0,000    0,350
17472,0 17472,0 420,6   0,0   139904,0 11178,4   349568,0   21321,0   30020,0 28090,1 4864,0 4674,2     28    0,084   3      0,270   0      0,000    0,354
17472,0 17472,0  0,0   403,9  139904,0 139538,4  349568,0   21323,4   30020,0 28137,2 4864,0 4674,2     34    0,088   4      0,359   0      0,000    0,446
17472,0 17472,0  0,0    0,0   139904,0   0,0     349568,0   21326,1   30020,0 28093,6 4864,0 4673,4     38    0,091   5      0,445   0      0,000    0,536
</code></pre><blockquote>
<p>å½“ç›‘æ§æœ¬åœ°ç¯å¢ƒçš„ Java è¿›ç¨‹æ—¶ï¼ŒVMID å¯ä»¥ç®€å•ç†è§£ä¸º PIDã€‚å¦‚æœéœ€è¦ç›‘æ§è¿œç¨‹ç¯å¢ƒçš„ Java è¿›ç¨‹ï¼Œä½ å¯ä»¥å‚è€ƒ jstat çš„å¸®åŠ©æ–‡æ¡£ã€‚</p>
</blockquote>
<p>åœ¨ä¸Šé¢è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ22126 è¿›ç¨‹æ˜¯ä¸€ä¸ªä½¿ç”¨äº† CMS åƒåœ¾å›æ”¶å™¨çš„ Java è¿›ç¨‹ã€‚æˆ‘ä»¬åˆ©ç”¨<code>jstat</code>çš„<code>-gc</code>å­å‘½ä»¤ï¼Œæ¥æ‰“å°è¯¥è¿›ç¨‹åƒåœ¾å›æ”¶ç›¸å…³çš„æ•°æ®ã€‚å‘½ä»¤æœ€åçš„<code>1s 4</code>è¡¨ç¤ºæ¯éš” 1 ç§’æ‰“å°ä¸€æ¬¡ï¼Œå…±æ‰“å° 4 æ¬¡ã€‚</p>
<p>åœ¨<code>-gc</code>å­å‘½ä»¤çš„è¾“å‡ºä¸­ï¼Œå‰å››åˆ—åˆ†åˆ«ä¸ºä¸¤ä¸ª Survivor åŒºçš„å®¹é‡ï¼ˆCapacityï¼‰å’Œå·²ä½¿ç”¨é‡ï¼ˆUtilityï¼‰ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ä¸ª Survivor åŒºçš„å®¹é‡ç›¸ç­‰ï¼Œè€Œä¸”å§‹ç»ˆæœ‰ä¸€ä¸ª Survivor åŒºçš„å†…å­˜ä½¿ç”¨é‡ä¸º 0ã€‚</p>
<p>å½“ä½¿ç”¨é»˜è®¤çš„ G1 GC æ—¶ï¼Œè¾“å‡ºç»“æœåˆ™æœ‰å¦ä¸€äº›ç‰¹å¾ï¼š</p>
<pre tabindex="0"><code>$ jstat -gc 22208 1s
S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT    CGC    CGCT     GCT   
0,0   16384,0  0,0   16384,0 210944,0 192512,0  133120,0    5332,5   28848,0 26886,4 4864,0 4620,5     19    0,067   1      0,016   2      0,002    0,084
0,0   16384,0  0,0   16384,0 210944,0 83968,0   133120,0    5749,9   29104,0 27132,8 4864,0 4621,0     21    0,078   1      0,016   2      0,002    0,095
0,0    0,0    0,0    0,0   71680,0  18432,0   45056,0    20285,1   29872,0 27952,4 4864,0 4671,6     23    0,089   2      0,063   2      0,002    0,153
0,0   2048,0  0,0   2048,0 69632,0  28672,0   45056,0    18608,1   30128,0 28030,4 4864,0 4672,4     32    0,093   2      0,063   2      0,002    0,158
...
</code></pre><p>åœ¨ä¸Šé¢è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>jstat</code>æ¯éš” 1s ä¾¿ä¼šæ‰“å°åƒåœ¾å›æ”¶çš„ä¿¡æ¯ï¼Œå¹¶ä¸”ä¸æ–­é‡å¤ä¸‹å»ã€‚</p>
<p>ä½ å¯èƒ½å·²ç»ç•™æ„åˆ°ï¼Œ<code>S0C</code>å’Œ<code>S0U</code>å§‹ç»ˆä¸º 0ï¼Œè€Œä¸”å¦ä¸€ä¸ª Survivor åŒºçš„å®¹é‡ï¼ˆS1Cï¼‰å¯èƒ½ä¼šä¸‹é™è‡³ 0ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºï¼Œå½“ä½¿ç”¨ G1 GC æ—¶ï¼ŒJava è™šæ‹Ÿæœºä¸å†è®¾ç½® Eden åŒºã€Survivor åŒºï¼Œè€å¹´ä»£åŒºçš„å†…å­˜è¾¹ç•Œï¼Œè€Œæ˜¯å°†å †åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªç­‰é•¿å†…å­˜åŒºåŸŸã€‚</p>
<p>æ¯ä¸ªå†…å­˜åŒºåŸŸéƒ½å¯ä»¥ä½œä¸º Eden åŒºã€Survivor åŒºä»¥åŠè€å¹´ä»£åŒºä¸­çš„ä»»ä¸€ç§ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸åŒåŒºåŸŸç±»å‹ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚ï¼ˆ<a href="https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html">å‚è€ƒé“¾æ¥</a>ï¼‰</p>
<p>æ¢å¥è¯è¯´ï¼Œé€»è¾‘ä¸Šæˆ‘ä»¬åªæœ‰ä¸€ä¸ª Survivor åŒºã€‚å½“éœ€è¦è¿ç§» Survivor åŒºä¸­çš„æ•°æ®æ—¶ï¼ˆå³ Copying GCï¼‰ï¼Œæˆ‘ä»¬åªéœ€å¦å¤–ç”³è¯·ä¸€ä¸ªæˆ–å¤šä¸ªå†…å­˜åŒºåŸŸï¼Œä½œä¸ºæ–°çš„ Survivor åŒºã€‚</p>
<p>å› æ­¤ï¼ŒJava è™šæ‹Ÿæœºå†³å®šåœ¨ä½¿ç”¨ G1 GC æ—¶ï¼Œå°†æ‰€æœ‰ Survivor å†…å­˜åŒºåŸŸçš„æ€»å®¹é‡ä»¥åŠå·²ä½¿ç”¨é‡å­˜æ”¾è‡³ S1C å’Œ S1U ä¸­ï¼Œè€Œ S0C å’Œ S0U åˆ™è¢«è®¾ç½®ä¸º 0ã€‚</p>
<p>å½“å‘ç”Ÿåƒåœ¾å›æ”¶æ—¶ï¼ŒJava è™šæ‹Ÿæœºå¯èƒ½å‡ºç° Survivor å†…å­˜åŒºåŸŸå†…çš„å¯¹è±¡<strong>å…¨</strong>è¢«å›æ”¶æˆ–æ™‹å‡çš„ç°è±¡ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒJava è™šæ‹Ÿæœºä¼šå°†è¿™å—å†…å­˜åŒºåŸŸå›æ”¶ï¼Œå¹¶æ ‡è®°ä¸ºå¯åˆ†é…çš„çŠ¶æ€ã€‚è¿™æ ·å­åšçš„ç»“æœæ˜¯ï¼Œå †ä¸­å¯èƒ½å®Œå…¨æ²¡æœ‰ Survivor å†…å­˜åŒºåŸŸï¼Œå› è€Œç›¸åº”çš„ S1C å’Œ S1U å°†ä¼šæ˜¯ 0ã€‚</p>
<p><code>jstat</code>è¿˜æœ‰ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‚æ•°<code>-t</code>ï¼Œå®ƒå°†åœ¨æ¯è¡Œæ•°æ®ä¹‹å‰æ‰“å°ç›®æ ‡ Java è¿›ç¨‹çš„å¯åŠ¨æ—¶é—´ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œç¬¬ä¸€åˆ—ä»£è¡¨è¯¥ Java è¿›ç¨‹å·²ç»å¯åŠ¨äº† 10.7 ç§’ã€‚</p>
<pre tabindex="0"><code>$ jstat -gc -t 22407
Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT    CGC    CGCT     GCT   
           10,7  0,0    0,0    0,0    0,0   55296,0  45056,0   34816,0    20267,8   30128,0 27975,3 4864,0 4671,6     33    0,086   3      0,111   2      0,001    0,198
</code></pre><p>æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒ Java è¿›ç¨‹çš„å¯åŠ¨æ—¶é—´ä»¥åŠæ€» GC æ—¶é—´ï¼ˆGCT åˆ—ï¼‰ï¼Œæˆ–è€…ä¸¤æ¬¡æµ‹é‡çš„é—´éš”æ—¶é—´ä»¥åŠæ€» GC æ—¶é—´çš„å¢é‡ï¼Œæ¥å¾—å‡º GC æ—¶é—´å è¿è¡Œæ—¶é—´çš„æ¯”ä¾‹ã€‚</p>
<p>å¦‚æœè¯¥æ¯”ä¾‹è¶…è¿‡ 20%ï¼Œåˆ™è¯´æ˜ç›®å‰å †çš„å‹åŠ›è¾ƒå¤§ï¼›å¦‚æœè¯¥æ¯”ä¾‹è¶…è¿‡ 90%ï¼Œåˆ™è¯´æ˜å †é‡Œå‡ ä¹æ²¡æœ‰å¯ç”¨ç©ºé—´ï¼Œéšæ—¶éƒ½å¯èƒ½æŠ›å‡º OOM å¼‚å¸¸ã€‚</p>
<p><code>jstat</code>è¿˜å¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯å¦å‡ºç°å†…å­˜æ³„æ¼ã€‚åœ¨é•¿æ—¶é—´è¿è¡Œçš„ Java ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œ<code>jstat</code>å‘½ä»¤è¿ç»­è·å–å¤šè¡Œæ€§èƒ½æ•°æ®ï¼Œå¹¶å–è¿™å‡ è¡Œæ•°æ®ä¸­ OU åˆ—ï¼ˆå³å·²å ç”¨çš„è€å¹´ä»£å†…å­˜ï¼‰çš„æœ€å°å€¼ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬æ¯éš”ä¸€æ®µè¾ƒé•¿çš„æ—¶é—´é‡å¤ä¸€æ¬¡ä¸Šè¿°æ“ä½œï¼Œæ¥è·å¾—å¤šç»„ OU æœ€å°å€¼ã€‚å¦‚æœè¿™äº›å€¼å‘ˆä¸Šæ¶¨è¶‹åŠ¿ï¼Œåˆ™è¯´æ˜è¯¥ Java ç¨‹åºçš„è€å¹´ä»£å†…å­˜å·²ä½¿ç”¨é‡åœ¨ä¸æ–­ä¸Šæ¶¨ï¼Œè¿™æ„å‘³ç€æ— æ³•å›æ”¶çš„å¯¹è±¡åœ¨ä¸æ–­å¢åŠ ï¼Œå› æ­¤å¾ˆæœ‰å¯èƒ½å­˜åœ¨å†…å­˜æ³„æ¼ã€‚</p>
<blockquote>
<p>ä¸Šé¢æ²¡æœ‰æ¶‰åŠçš„åˆ—ï¼ˆæˆ–è€…å…¶ä»–å­å‘½ä»¤çš„è¾“å‡ºï¼‰ï¼Œä½ å¯ä»¥æŸ¥é˜…å¸®åŠ©æ–‡æ¡£äº†è§£å…·ä½“å«ä¹‰ã€‚è‡³äºæ–‡æ¡£ä¸­æ¼æ‰çš„ CGC å’Œ CGCTï¼Œå®ƒä»¬åˆ†åˆ«ä»£è¡¨å¹¶å‘ GC Stop-The-World çš„æ¬¡æ•°å’Œæ—¶é—´ã€‚</p>
</blockquote>
<h2 id="jmap">jmap</h2>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥è¯·<code>jmap</code>å‘½ä»¤ï¼ˆ<a href="https://docs.oracle.com/en/java/javase/11/tools/jmap.html">å¸®åŠ©æ–‡æ¡£</a>ï¼‰å‡ºé©¬ï¼Œåˆ†æ Java è™šæ‹Ÿæœºå †ä¸­çš„å¯¹è±¡ã€‚</p>
<p><code>jmap</code>åŒæ ·åŒ…æ‹¬å¤šæ¡å­å‘½ä»¤ã€‚</p>
<ol>
<li><code>-clstats</code>ï¼Œè¯¥å­å‘½ä»¤å°†æ‰“å°è¢«åŠ è½½ç±»çš„ä¿¡æ¯ã€‚</li>
<li><code>-finalizerinfo</code>ï¼Œè¯¥å­å‘½ä»¤å°†æ‰“å°æ‰€æœ‰å¾… finalize çš„å¯¹è±¡ã€‚</li>
<li><code>-histo</code>ï¼Œè¯¥å­å‘½ä»¤å°†ç»Ÿè®¡å„ä¸ªç±»çš„å®ä¾‹æ•°ç›®ä»¥åŠå ç”¨å†…å­˜ï¼Œå¹¶æŒ‰ç…§å†…å­˜ä½¿ç”¨é‡ä»å¤šè‡³å°‘çš„é¡ºåºæ’åˆ—ã€‚æ­¤å¤–ï¼Œ<code>-histo:live</code>åªç»Ÿè®¡å †ä¸­çš„å­˜æ´»å¯¹è±¡ã€‚</li>
<li><code>-dump</code>ï¼Œè¯¥å­å‘½ä»¤å°†å¯¼å‡º Java è™šæ‹Ÿæœºå †çš„å¿«ç…§ã€‚åŒæ ·ï¼Œ<code>-dump:live</code>åªä¿å­˜å †ä¸­çš„å­˜æ´»å¯¹è±¡ã€‚</li>
</ol>
<p>æˆ‘ä»¬é€šå¸¸ä¼šåˆ©ç”¨<code>jmap -dump:live,format=b,file=filename.bin</code>å‘½ä»¤ï¼Œå°†å †ä¸­æ‰€æœ‰å­˜æ´»å¯¹è±¡å¯¼å‡ºè‡³ä¸€ä¸ªæ–‡ä»¶ä¹‹ä¸­ã€‚</p>
<p>è¿™é‡Œ<code>format=b</code>å°†ä½¿<code>jmap</code>å¯¼å‡ºä¸<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr008.html">hprof</a>ï¼ˆåœ¨ Java 9 ä¸­å·²è¢«ç§»é™¤ï¼‰ã€<code>-XX:+HeapDumpAfterFullGC</code>ã€<code>-XX:+HeapDumpOnOutOfMemoryError</code>æ ¼å¼ä¸€è‡´çš„æ–‡ä»¶ã€‚è¿™ç§æ ¼å¼çš„æ–‡ä»¶å¯ä»¥è¢«å…¶ä»– GUI å·¥å…·æŸ¥çœ‹ï¼Œå…·ä½“æˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡ä¸­è¿›è¡Œæ¼”ç¤ºã€‚</p>
<p>ä¸‹é¢æˆ‘è´´äº†ä¸€æ®µ<code>-histo</code>å­å‘½ä»¤çš„è¾“å‡ºï¼š</p>
<pre tabindex="0"><code>$ jmap -histo 22574
 num     #instances         #bytes  class name (module)
-------------------------------------------------------
   1:        500004       20000160  org.python.core.PyComplex
   2:        570866       18267712  org.python.core.PyFloat
   3:        360295       18027024  [B (java.base@11)
   4:        339394       11429680  [Lorg.python.core.PyObject;
   5:        308637       11194264  [Ljava.lang.Object; (java.base@11)
   6:        301378        9291664  [I (java.base@11)
   7:        225103        9004120  java.math.BigInteger (java.base@11)
   8:        507362        8117792  org.python.core.PySequence$1
   9:        285009        6840216  org.python.core.PyLong
  10:        282908        6789792  java.lang.String (java.base@11)
  ...
2281:             1             16  traceback$py
2282:             1             16  unicodedata$py
Total       5151277      167944400
</code></pre><p>ç”±äº<code>jmap</code>å°†è®¿é—®å †ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œä¸ºäº†ä¿è¯åœ¨æ­¤è¿‡ç¨‹ä¸­ä¸è¢«åº”ç”¨çº¿ç¨‹å¹²æ‰°ï¼Œ<code>jmap</code>éœ€è¦å€ŸåŠ©å®‰å…¨ç‚¹æœºåˆ¶ï¼Œè®©æ‰€æœ‰çº¿ç¨‹åœç•™åœ¨ä¸æ”¹å˜å †ä¸­æ•°æ®çš„çŠ¶æ€ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±<code>jmap</code>å¯¼å‡ºçš„å †å¿«ç…§å¿…å®šæ˜¯å®‰å…¨ç‚¹ä½ç½®çš„ã€‚è¿™å¯èƒ½å¯¼è‡´åŸºäºè¯¥å †å¿«ç…§çš„åˆ†æç»“æœå­˜åœ¨åå·®ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾åœ¨ç¼–è¯‘ç”Ÿæˆçš„æœºå™¨ç ä¸­ï¼ŒæŸäº›å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸåœ¨ä¸¤ä¸ªå®‰å…¨ç‚¹ä¹‹é—´ï¼Œé‚£ä¹ˆ<code>:live</code>é€‰é¡¹å°†æ— æ³•æ¢çŸ¥åˆ°è¿™äº›å¯¹è±¡ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœæŸä¸ªçº¿ç¨‹é•¿æ—¶é—´æ— æ³•è·‘åˆ°å®‰å…¨ç‚¹ï¼Œ<code>jmap</code>å°†ä¸€ç›´ç­‰ä¸‹å»ã€‚ä¸Šä¸€å°èŠ‚çš„<code>jstat</code>åˆ™ä¸åŒã€‚è¿™æ˜¯å› ä¸ºåƒåœ¾å›æ”¶å™¨ä¼šä¸»åŠ¨å°†<code>jstat</code>æ‰€éœ€è¦çš„æ‘˜è¦æ•°æ®ä¿å­˜è‡³å›ºå®šä½ç½®ä¹‹ä¸­ï¼Œè€Œ<code>jstat</code>åªéœ€ç›´æ¥è¯»å–å³å¯ã€‚</p>
<p>å…³äºè¿™ç§é•¿æ—¶é—´ç­‰å¾…çš„æƒ…å†µï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢è¿™æ®µç¨‹åºæ¥å¤ç°ï¼š</p>
<pre tabindex="0"><code>// æš‚åœæ—¶é—´è¾ƒé•¿ï¼Œçº¦ä¸ºäºŒä¸‰åç§’ï¼Œå¯é…Œæƒ…è°ƒæ•´ã€‚
// CTRL+C çš„ SIGINT ä¿¡å·æ— æ³•åœæ­¢ï¼Œéœ€è¦ SIGKILLã€‚
static double sum = 0;
 
public static void main(String[] args) {
  for (int i = 0; i &lt; 0x77777777; i++) { // counted loop
    sum += Math.log(i); // Math.log is an intrinsic
  }
}
</code></pre><p><code>jmap</code>ï¼ˆä»¥åŠæ¥ä¸‹æ¥çš„<code>jinfo</code>ã€<code>jstack</code>å’Œ<code>jcmd</code>ï¼‰ä¾èµ–äº Java è™šæ‹Ÿæœºçš„<a href="https://docs.oracle.com/en/java/javase/11/docs/api/jdk.attach/com/sun/tools/attach/package-summary.html">Attach API</a>ï¼Œå› æ­¤åªèƒ½ç›‘æ§æœ¬åœ° Java è¿›ç¨‹ã€‚</p>
<p>ä¸€æ—¦å¼€å¯ Java è™šæ‹Ÿæœºå‚æ•°<code>DisableAttachMechanism</code>ï¼ˆå³ä½¿ç”¨å‚æ•°<code>-XX:+DisableAttachMechanism</code>ï¼‰ï¼ŒåŸºäº Attach API çš„å‘½ä»¤å°†æ— æ³•æ‰§è¡Œã€‚åè¿‡æ¥è¯´ï¼Œå¦‚æœä½ ä¸æƒ³è¢«å…¶ä»–è¿›ç¨‹ç›‘æ§ï¼Œé‚£ä¹ˆä½ éœ€è¦å¼€å¯è¯¥å‚æ•°ã€‚</p>
<h2 id="jinfo">jinfo</h2>
<p><code>jinfo</code>å‘½ä»¤ï¼ˆ<a href="https://docs.oracle.com/en/java/javase/11/tools/jinfo.html">å¸®åŠ©æ–‡æ¡£</a>ï¼‰å¯ç”¨æ¥æŸ¥çœ‹ç›®æ ‡ Java è¿›ç¨‹çš„å‚æ•°ï¼Œå¦‚ä¼ é€’ç»™ Java è™šæ‹Ÿæœºçš„<code>-X</code>ï¼ˆå³è¾“å‡ºä¸­çš„ jvm_argsï¼‰ã€<code>-XX</code>å‚æ•°ï¼ˆå³è¾“å‡ºä¸­çš„ VM Flagsï¼‰ï¼Œä»¥åŠå¯åœ¨ Java å±‚é¢é€šè¿‡<code>System.getProperty</code>è·å–çš„<code>-D</code>å‚æ•°ï¼ˆå³è¾“å‡ºä¸­çš„ System Propertiesï¼‰ã€‚</p>
<p>å…·ä½“çš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>$ jinfo 31185
Java System Properties:
 
gopherProxySet=false
awt.toolkit=sun.lwawt.macosx.LWCToolkit
java.specification.version=11
sun.cpu.isalist=
sun.jnu.encoding=UTF-8
...
 
VM Flags:
-XX:CICompilerCount=4 -XX:ConcGCThreads=3 -XX:G1ConcRefinementThreads=10 -XX:G1HeapRegionSize=2097152 -XX:GCDrainStackTargetSize=64 -XX:InitialHeapSize=536870912 -XX:MarkStackSize=4194304 -XX:MaxHeapSize=8589934592 -XX:MaxNewSize=5152702464 -XX:MinHeapDeltaBytes=2097152 -XX:NonNMethodCodeHeapSize=5835340 -XX:NonProfiledCodeHeapSize=122911450 -XX:ProfiledCodeHeapSize=122911450 -XX:ReservedCodeCacheSize=251658240 -XX:+SegmentedCodeCache -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC
 
VM Arguments:
jvm_args: -Xlog:gc -Xmx1024m
java_command: org.example.Foo
java_class_path (initial): .
Launcher Type: SUN_STANDARD
</code></pre><p><code>jinfo</code>è¿˜å¯ä»¥ç”¨æ¥ä¿®æ”¹ç›®æ ‡ Java è¿›ç¨‹çš„â€œmanageableâ€è™šæ‹Ÿæœºå‚æ•°ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>jinfo -flag +HeapDumpAfterFullGC &lt;PID&gt;</code>å‘½ä»¤ï¼Œå¼€å¯<code>&lt;PID&gt;</code>æ‰€æŒ‡å®šçš„ Java è¿›ç¨‹çš„<code>HeapDumpAfterFullGC</code>å‚æ•°ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ä¸‹è¿°å‘½ä»¤æŸ¥çœ‹å…¶ä»– &ldquo;manageable&rdquo; è™šæ‹Ÿæœºå‚æ•°ï¼š</p>
<pre tabindex="0"><code>$ java -XX:+PrintFlagsFinal -version | grep manageable   
     intx CMSAbortablePrecleanWaitMillis           = 100                                    {manageable} {default}
     intx CMSTriggerInterval                       = -1                                     {manageable} {default}
     intx CMSWaitDuration                          = 2000                                   {manageable} {default}
     bool HeapDumpAfterFullGC                      = false                                  {manageable} {default}
     bool HeapDumpBeforeFullGC                     = false                                  {manageable} {default}
     bool HeapDumpOnOutOfMemoryError               = false                                  {manageable} {default}
    ccstr HeapDumpPath                             =                                        {manageable} {default}
    uintx MaxHeapFreeRatio                         = 70                                     {manageable} {default}
    uintx MinHeapFreeRatio                         = 40                                     {manageable} {default}
     bool PrintClassHistogram                      = false                                  {manageable} {default}
     bool PrintConcurrentLocks                     = false                                  {manageable} {default}
java version &quot;11&quot; 2018-09-25
Java(TM) SE Runtime Environment 18.9 (build 11+28)
Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11+28, mixed mode)
</code></pre><h2 id="jstack">jstack</h2>
<p><code>jstack</code>å‘½ä»¤ï¼ˆ<a href="https://docs.oracle.com/en/java/javase/11/tools/jstack.html">å¸®åŠ©æ–‡æ¡£</a>ï¼‰å¯ä»¥ç”¨æ¥æ‰“å°ç›®æ ‡ Java è¿›ç¨‹ä¸­å„ä¸ªçº¿ç¨‹çš„æ ˆè½¨è¿¹ï¼Œä»¥åŠè¿™äº›çº¿ç¨‹æ‰€æŒæœ‰çš„é”ã€‚</p>
<p><code>jstack</code>çš„å…¶ä¸­ä¸€ä¸ªåº”ç”¨åœºæ™¯ä¾¿æ˜¯æ­»é”æ£€æµ‹ã€‚è¿™é‡Œæˆ‘ç”¨<code>jstack</code>è·å–ä¸€ä¸ªå·²ç»æ­»é”äº†çš„ Java ç¨‹åºçš„æ ˆä¿¡æ¯ã€‚å…·ä½“è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>$ jstack 31634
...
 
&quot;Thread-0&quot; #12 prio=5 os_prio=31 cpu=1.32ms elapsed=34.24s tid=0x00007fb08601c800 nid=0x5d03 waiting for monitor entry  [0x000070000bc7e000]
   java.lang.Thread.State: BLOCKED (on object monitor)
 at DeadLock.foo(DeadLock.java:18)
 - waiting to lock &lt;0x000000061ff904c0&gt; (a java.lang.Object)
 - locked &lt;0x000000061ff904b0&gt; (a java.lang.Object)
 at DeadLock$$Lambda$1/0x0000000800060840.run(Unknown Source)
 at java.lang.Thread.run(java.base@11/Thread.java:834)
 
&quot;Thread-1&quot; #13 prio=5 os_prio=31 cpu=1.43ms elapsed=34.24s tid=0x00007fb08601f800 nid=0x5f03 waiting for monitor entry  [0x000070000bd81000]
   java.lang.Thread.State: BLOCKED (on object monitor)
 at DeadLock.bar(DeadLock.java:33)
 - waiting to lock &lt;0x000000061ff904b0&gt; (a java.lang.Object)
 - locked &lt;0x000000061ff904c0&gt; (a java.lang.Object)
 at DeadLock$$Lambda$2/0x0000000800063040.run(Unknown Source)
 at java.lang.Thread.run(java.base@11/Thread.java:834)
 
...
 
JNI global refs: 6, weak refs: 0
 
 
Found one Java-level deadlock:
=============================
&quot;Thread-0&quot;:
  waiting to lock monitor 0x00007fb083015900 (object 0x000000061ff904c0, a java.lang.Object),
  which is held by &quot;Thread-1&quot;
&quot;Thread-1&quot;:
  waiting to lock monitor 0x00007fb083015800 (object 0x000000061ff904b0, a java.lang.Object),
  which is held by &quot;Thread-0&quot;
 
Java stack information for the threads listed above:
===================================================
&quot;Thread-0&quot;:
 at DeadLock.foo(DeadLock.java:18)
 - waiting to lock &lt;0x000000061ff904c0&gt; (a java.lang.Object)
 - locked &lt;0x000000061ff904b0&gt; (a java.lang.Object)
 at DeadLock$$Lambda$1/0x0000000800060840.run(Unknown Source)
 at java.lang.Thread.run(java.base@11/Thread.java:834)
&quot;Thread-1&quot;:
 at DeadLock.bar(DeadLock.java:33)
 - waiting to lock &lt;0x000000061ff904b0&gt; (a java.lang.Object)
 - locked &lt;0x000000061ff904c0&gt; (a java.lang.Object)
 at DeadLock$$Lambda$2/0x0000000800063040.run(Unknown Source)
 at java.lang.Thread.run(java.base@11/Thread.java:834)
 
Found 1 deadlock.
</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>jstack</code>ä¸ä»…ä¼šæ‰“å°çº¿ç¨‹çš„æ ˆè½¨è¿¹ã€çº¿ç¨‹çŠ¶æ€ï¼ˆBLOCKEDï¼‰ã€æŒæœ‰çš„é”ï¼ˆlocked â€¦ï¼‰ä»¥åŠæ­£åœ¨è¯·æ±‚çš„é”ï¼ˆwaiting to lock â€¦ï¼‰ï¼Œè€Œä¸”è¿˜ä¼šåˆ†æå‡ºå…·ä½“çš„æ­»é”ã€‚</p>
<h2 id="jcmd">jcmd</h2>
<p>ä½ è¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨<code>jcmd</code>å‘½ä»¤ï¼ˆ<a href="https://docs.oracle.com/en/java/javase/11/tools/jcmd.html">å¸®åŠ©æ–‡æ¡£</a>ï¼‰ï¼Œæ¥æ›¿ä»£å‰é¢é™¤äº†<code>jstat</code>ä¹‹å¤–çš„æ‰€æœ‰å‘½ä»¤ã€‚å…·ä½“çš„æ›¿æ¢è§„åˆ™ä½ å¯ä»¥å‚è€ƒä¸‹è¡¨ã€‚</p>
<p>è‡³äº<code>jstat</code>çš„åŠŸèƒ½ï¼Œè™½ç„¶<code>jcmd</code>å¤åˆ¶äº†<code>jstat</code>çš„éƒ¨åˆ†ä»£ç ï¼Œå¹¶æ”¯æŒé€šè¿‡<code>PerfCounter.print</code>å­å‘½ä»¤æ¥æ‰“å°æ‰€æœ‰çš„ Performance Counterï¼Œä½†æ˜¯å®ƒæ²¡æœ‰ä¿ç•™<code>jstat</code>çš„è¾“å‡ºæ ¼å¼ï¼Œä¹Ÿæ²¡æœ‰é‡å¤æ‰“å°çš„åŠŸèƒ½ã€‚å› æ­¤ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œæ•´ç†ã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç¯‡ä¸­ä»‹ç»<code>jcmd</code>ä¸­ Java Flight Recorder ç›¸å…³çš„å­å‘½ä»¤ã€‚</p>
<h2 id="æ€»ç»“ä¸å®è·µ">æ€»ç»“ä¸å®è·µ</h2>
<p>ä»Šå¤©æˆ‘ä»‹ç»äº† JDK ä¸­ç”¨äºç›‘æ§åŠè¯Šæ–­çš„å‘½ä»¤è¡Œå·¥å…·ã€‚æˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹ã€‚</p>
<ol>
<li><code>jps</code>å°†æ‰“å°æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ Java è¿›ç¨‹ã€‚</li>
<li><code>jstat</code>å…è®¸ç”¨æˆ·æŸ¥çœ‹ç›®æ ‡ Java è¿›ç¨‹çš„ç±»åŠ è½½ã€å³æ—¶ç¼–è¯‘ä»¥åŠåƒåœ¾å›æ”¶ç›¸å…³çš„ä¿¡æ¯ã€‚å®ƒå¸¸ç”¨äºæ£€æµ‹åƒåœ¾å›æ”¶é—®é¢˜ä»¥åŠå†…å­˜æ³„æ¼é—®é¢˜ã€‚</li>
<li><code>jmap</code>å…è®¸ç”¨æˆ·ç»Ÿè®¡ç›®æ ‡ Java è¿›ç¨‹çš„å †ä¸­å­˜æ”¾çš„ Java å¯¹è±¡ï¼Œå¹¶å°†å®ƒä»¬å¯¼å‡ºæˆäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</li>
<li><code>jinfo</code>å°†æ‰“å°ç›®æ ‡ Java è¿›ç¨‹çš„é…ç½®å‚æ•°ï¼Œå¹¶èƒ½å¤Ÿæ”¹åŠ¨å…¶ä¸­ manageabe çš„å‚æ•°ã€‚</li>
<li><code>jstack</code>å°†æ‰“å°ç›®æ ‡ Java è¿›ç¨‹ä¸­å„ä¸ªçº¿ç¨‹çš„æ ˆè½¨è¿¹ã€çº¿ç¨‹çŠ¶æ€ã€é”çŠ¶å†µç­‰ä¿¡æ¯ã€‚å®ƒè¿˜å°†è‡ªåŠ¨æ£€æµ‹æ­»é”ã€‚</li>
<li><code>jcmd</code>åˆ™æ˜¯ä¸€æŠŠç‘å£«å†›åˆ€ï¼Œå¯ä»¥ç”¨æ¥å®ç°å‰é¢é™¤äº†<code>jstat</code>ä¹‹å¤–æ‰€æœ‰å‘½ä»¤çš„åŠŸèƒ½ã€‚</li>
</ol>
<hr>
<p>ä»Šå¤©çš„å®è·µç¯èŠ‚ï¼Œä½ å¯ä»¥æ¢ç´¢<code>jcmd</code>ä¸­çš„ä¸‹è¿°åŠŸèƒ½ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰é€‚åˆä½ é¡¹ç›®çš„ç›‘æ§é¡¹ï¼š</p>
<pre tabindex="0"><code>Compiler.CodeHeap_Analytics
Compiler.codecache
Compiler.codelist
Compiler.directives_add
Compiler.directives_clear
Compiler.directives_print
Compiler.directives_remove
Compiler.queue
GC.class_histogram
GC.class_stats
GC.finalizer_info
GC.heap_dump
GC.heap_info
GC.run
GC.run_finalization
VM.class_hierarchy
VM.classloader_stats
VM.classloaders
VM.command_line
VM.dynlibs
VM.flags
VM.info
VM.log
VM.metaspace
VM.native_memory
VM.print_touched_methods
VM.set_flag
VM.stringtable
VM.symboltable
VM.system_properties
VM.systemdictionary
VM.unlock_commercial_features
VM.uptime
VM.version
</code></pre>
        </div>
    </article>
</div>
<div class="division-line"></div>
<div class="others">
    <div>æ ‡ç­¾ï¼šğŸ·ï¸<a class="post-tag" href="/tags/java/">java</a>&nbsp;</div>
    <div>åˆ†ç±»ï¼š ğŸ“’<a class="post-category" href="/categories/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/">æ·±å…¥æ‹†è§£Javaè™šæ‹Ÿæœº</a>&nbsp; </div>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/29-%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6jmh%E4%B8%8B/"><span>29 åŸºå‡†æµ‹è¯•æ¡†æ¶JMHï¼ˆä¸‹ï¼‰</span></a>
    </div>
    <div class="next">
        
        <a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/31-java%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7gui%E7%AF%87/"><span>31 Javaè™šæ‹Ÿæœºçš„ç›‘æ§åŠè¯Šæ–­å·¥å…·ï¼ˆGUIç¯‡ï¼‰</span></a>
    </div>
</div>

        </div>
        <div id="float">
            <ul class="float-button-bar">
    <li>
        <button class="float-button top" onclick="scrollToTop(this);">UP</button>
    </li>
    <li>
        <button class="float-button toggler" onclick="changeSkin(this);">DARK</button>
    </li>
</ul>
        </div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 2020 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    const changeSkin = () => {
        document.getElementById('page').classList.toggle('night');
    }
    const scrollToTop = () => {
        window.scrollTo(0, 0);
    }
</script>
</body>

</html>