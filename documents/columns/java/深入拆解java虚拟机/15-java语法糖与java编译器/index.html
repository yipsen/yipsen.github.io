<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>15 Javaè¯­æ³•ç³–ä¸Javaç¼–è¯‘å™¨ | Yipsen Ye</title>
<meta name="description" content="åœ¨å‰é¢çš„ç¯‡ç« ä¸­ï¼Œæˆ‘ä»¬å¤šæ¬¡æåˆ°äº† Java è¯­æ³•å’Œ Java å­—èŠ‚ç çš„å·®å¼‚ä¹‹å¤„ã€‚è¿™äº›å·®å¼‚ä¹‹å¤„éƒ½æ˜¯é€šè¿‡ Java ç¼–è¯‘å™¨æ¥åè°ƒçš„ã€‚ä»Šå¤©æˆ‘ä»¬ä¾¿æ¥åˆ—ä¸¾ä¸€ä¸‹ Java ç¼–è¯‘å™¨çš„åè°ƒå·¥ä½œã€‚
è‡ªåŠ¨è£…ç®±ä¸è‡ªåŠ¨æ‹†ç®± é¦–å…ˆè¦æåˆ°çš„ä¾¿æ˜¯ Java çš„è‡ªåŠ¨è£…ç®±ï¼ˆauto-boxingï¼‰å’Œè‡ªåŠ¨æ‹†ç®±ï¼ˆauto-unboxingï¼‰ã€‚
æˆ‘ä»¬çŸ¥é“ï¼ŒJava è¯­è¨€æ‹¥æœ‰ 8 ä¸ªåŸºæœ¬ç±»å‹ï¼Œæ¯ä¸ªåŸºæœ¬ç±»å‹éƒ½æœ‰å¯¹åº”çš„åŒ…è£…ï¼ˆwrapperï¼‰ç±»å‹ã€‚
ä¹‹æ‰€ä»¥éœ€è¦åŒ…è£…ç±»å‹ï¼Œæ˜¯å› ä¸ºè®¸å¤š Java æ ¸å¿ƒç±»åº“çš„ API éƒ½æ˜¯é¢å‘å¯¹è±¡çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼ŒJava æ ¸å¿ƒç±»åº“ä¸­çš„å®¹å™¨ç±»ï¼Œå°±åªæ”¯æŒå¼•ç”¨ç±»å‹ã€‚
å½“éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿå­˜å‚¨æ•°å€¼çš„å®¹å™¨ç±»æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€å®šä¹‰ä¸€ä¸ªå­˜å‚¨åŒ…è£…ç±»å¯¹è±¡çš„å®¹å™¨ã€‚
å¯¹äºåŸºæœ¬ç±»å‹çš„æ•°å€¼æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°†å…¶è½¬æ¢ä¸ºå¯¹åº”çš„åŒ…è£…ç±»ï¼Œå†å­˜å…¥å®¹å™¨ä¹‹ä¸­ã€‚åœ¨ Java ç¨‹åºä¸­ï¼Œè¿™ä¸ªè½¬æ¢å¯ä»¥æ˜¯æ˜¾å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯éšå¼çš„ï¼Œåè€…æ­£æ˜¯ Java ä¸­çš„è‡ªåŠ¨è£…ç®±ã€‚
public int foo() {ArrayList&amp;lt;Integer&amp;gt; list = new ArrayList&amp;lt;&amp;gt;();list.add(0);int result = list.get(0);return result;}ä»¥ä¸Šå›¾ä¸­çš„ Java ä»£ç ä¸ºä¾‹ã€‚æˆ‘æ„é€ äº†ä¸€ä¸ª Integer ç±»å‹çš„ ArrayListï¼Œå¹¶ä¸”å‘å…¶ä¸­æ·»åŠ ä¸€ä¸ª int å€¼ 0ã€‚ç„¶åï¼Œæˆ‘ä¼šè·å–è¯¥ ArrayList çš„ç¬¬ 0 ä¸ªå…ƒç´ ï¼Œå¹¶ä½œä¸º int å€¼è¿”å›ç»™è°ƒç”¨è€…ã€‚è¿™æ®µä»£ç å¯¹åº”çš„ Java å­—èŠ‚ç å¦‚ä¸‹æ‰€ç¤ºï¼š
public int foo();Code:0: new java/util/ArrayList3: dup4: invokespecial java/util/ArrayList.">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="logo-link" style="width: 60px; color: #CA6924;">
    <a href="http://yipsen.github.io/">
        <img style="margin-bottom: -1rem;" src="/images/deer.svg" alt="logo">
        <span style="font-size: 0.5rem; color: #CA6924;">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æœ­è®°</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/%e6%b7%b1%e5%85%a5%e6%8b%86%e8%a7%a3java%e8%99%9a%e6%8b%9f%e6%9c%ba/">æ·±å…¥æ‹†è§£Javaè™šæ‹Ÿæœº</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/00-%E5%BC%80%E7%AF%87%E8%AF%8D-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E8%A6%81%E5%AD%A6%E4%B9%A0java%E8%99%9A%E6%8B%9F%E6%9C%BA/">00 å¼€ç¯‡è¯ ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å­¦ä¹ Javaè™šæ‹Ÿæœºï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/01-java%E4%BB%A3%E7%A0%81%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84/">01 Javaä»£ç æ˜¯æ€ä¹ˆè¿è¡Œçš„ï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/02-java%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B/">02 Javaçš„åŸºæœ¬ç±»å‹</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/03-java%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%98%AF%E5%A6%82%E4%BD%95%E5%8A%A0%E8%BD%BDjava%E7%B1%BB%E7%9A%84/">03 Javaè™šæ‹Ÿæœºæ˜¯å¦‚ä½•åŠ è½½Javaç±»çš„</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/04-jvm%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E7%9A%84%E4%B8%8A/">04 JVMæ˜¯å¦‚ä½•æ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„ï¼Ÿï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/05-jvm%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E7%9A%84%E4%B8%8B/">05 JVMæ˜¯å¦‚ä½•æ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„ï¼Ÿï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/06-jvm%E6%98%AF%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E7%9A%84/">06 JVMæ˜¯å¦‚ä½•å¤„ç†å¼‚å¸¸çš„ï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/07-jvm%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8F%8D%E5%B0%84%E7%9A%84/">07 JVMæ˜¯å¦‚ä½•å®ç°åå°„çš„ï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/08-jvm%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0invokedynamic%E7%9A%84%E4%B8%8A/">08 JVMæ˜¯æ€ä¹ˆå®ç°invokedynamicçš„ï¼Ÿï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/09-jvm%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0invokedynamic%E7%9A%84%E4%B8%8B/">09 JVMæ˜¯æ€ä¹ˆå®ç°invokedynamicçš„ï¼Ÿï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/10-java%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/">10 Javaå¯¹è±¡çš„å†…å­˜å¸ƒå±€</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/11-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E4%B8%8A/">11 åƒåœ¾å›æ”¶ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/12-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E4%B8%8B/">12 åƒåœ¾å›æ”¶ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/13-java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/">13 Javaå†…å­˜æ¨¡å‹</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/14-java%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0synchronized%E7%9A%84/">14 Javaè™šæ‹Ÿæœºæ˜¯æ€ä¹ˆå®ç°synchronizedçš„ï¼Ÿ</a></li>
                
                
                
                    <li>15 Javaè¯­æ³•ç³–ä¸Javaç¼–è¯‘å™¨</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/16-%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91%E4%B8%8A/">16 å³æ—¶ç¼–è¯‘ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/17-%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91%E4%B8%8B/">17 å³æ—¶ç¼–è¯‘ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/18-%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E4%B8%AD%E9%97%B4%E8%A1%A8%E8%BE%BE%E5%BD%A2%E5%BC%8F/">18 å³æ—¶ç¼–è¯‘å™¨çš„ä¸­é—´è¡¨è¾¾å½¢å¼</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/19-java%E5%AD%97%E8%8A%82%E7%A0%81%E5%9F%BA%E7%A1%80%E7%AF%87/">19 Javaå­—èŠ‚ç ï¼ˆåŸºç¡€ç¯‡ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/20-%E6%96%B9%E6%B3%95%E5%86%85%E8%81%94%E4%B8%8A/">20 æ–¹æ³•å†…è”ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/21-%E6%96%B9%E6%B3%95%E5%86%85%E8%81%94%E4%B8%8B/">21 æ–¹æ³•å†…è”ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/22-hotspot%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84intrinsic/">22 HotSpotè™šæ‹Ÿæœºçš„intrinsic</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/23-%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90/">23 é€ƒé€¸åˆ†æ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/24-%E5%AD%97%E6%AE%B5%E8%AE%BF%E9%97%AE%E7%9B%B8%E5%85%B3%E4%BC%98%E5%8C%96/">24 å­—æ®µè®¿é—®ç›¸å…³ä¼˜åŒ–</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/25-%E5%BE%AA%E7%8E%AF%E4%BC%98%E5%8C%96/">25 å¾ªç¯ä¼˜åŒ–</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/26-%E5%90%91%E9%87%8F%E5%8C%96/">26 å‘é‡åŒ–</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/27-%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%99%A8/">27 æ³¨è§£å¤„ç†å™¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/28-%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6jmh%E4%B8%8A/">28 åŸºå‡†æµ‹è¯•æ¡†æ¶JMHï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/29-%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6jmh%E4%B8%8B/">29 åŸºå‡†æµ‹è¯•æ¡†æ¶JMHï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/30-java%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AF%87/">30 Javaè™šæ‹Ÿæœºçš„ç›‘æ§åŠè¯Šæ–­å·¥å…·ï¼ˆå‘½ä»¤è¡Œç¯‡ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/31-java%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7gui%E7%AF%87/">31 Javaè™šæ‹Ÿæœºçš„ç›‘æ§åŠè¯Šæ–­å·¥å…·ï¼ˆGUIç¯‡ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/32-jni%E7%9A%84%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/">32 JNIçš„è¿è¡Œæœºåˆ¶</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/33-java-agent%E4%B8%8E%E5%AD%97%E8%8A%82%E7%A0%81%E6%B3%A8%E5%85%A5/">33 Java Agentä¸å­—èŠ‚ç æ³¨å…¥</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/34-graal%E7%94%A8java%E7%BC%96%E8%AF%91java/">34 Graalï¼šç”¨Javaç¼–è¯‘Java</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/35-truffle%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E6%A1%86%E6%9E%B6/">35 Truffleï¼šè¯­è¨€å®ç°æ¡†æ¶</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/36-substratevmaot%E7%BC%96%E8%AF%91%E6%A1%86%E6%9E%B6/">36 SubstrateVMï¼šAOTç¼–è¯‘æ¡†æ¶</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/%E5%B0%BE%E5%A3%B0%E4%B8%A8%E9%81%93%E9%98%BB%E4%B8%94%E9%95%BF%E5%8A%AA%E5%8A%9B%E5%8A%A0%E9%A4%90.html/">å°¾å£°ä¸¨é“é˜»ä¸”é•¿ï¼ŒåŠªåŠ›åŠ é¤.html</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/%E5%B7%A5%E5%85%B7%E7%AF%87-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D/">å·¥å…·ç¯‡ å¸¸ç”¨å·¥å…·ä»‹ç»</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">15 Javaè¯­æ³•ç³–ä¸Javaç¼–è¯‘å™¨</h1>
        <div class="post-info">
            <div> 
                <span class="post-date">ğŸ“…&nbsp;2022-01-09 11:11:04</span>ğŸ·ï¸&nbsp;<a class="post-tag" href="/tags/java/">java</a></div><div class="post-category">
                
                ğŸ“š&nbsp;<a href="/categories/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/">æ·±å…¥æ‹†è§£Javaè™šæ‹Ÿæœº</a>
                
            </div></div>
        <div class="post-content">
            <p>åœ¨å‰é¢çš„ç¯‡ç« ä¸­ï¼Œæˆ‘ä»¬å¤šæ¬¡æåˆ°äº† Java è¯­æ³•å’Œ Java å­—èŠ‚ç çš„å·®å¼‚ä¹‹å¤„ã€‚è¿™äº›å·®å¼‚ä¹‹å¤„éƒ½æ˜¯é€šè¿‡ Java ç¼–è¯‘å™¨æ¥åè°ƒçš„ã€‚ä»Šå¤©æˆ‘ä»¬ä¾¿æ¥åˆ—ä¸¾ä¸€ä¸‹ Java ç¼–è¯‘å™¨çš„åè°ƒå·¥ä½œã€‚</p>
<h2 id="è‡ªåŠ¨è£…ç®±ä¸è‡ªåŠ¨æ‹†ç®±">è‡ªåŠ¨è£…ç®±ä¸è‡ªåŠ¨æ‹†ç®±</h2>
<p>é¦–å…ˆè¦æåˆ°çš„ä¾¿æ˜¯ Java çš„è‡ªåŠ¨è£…ç®±ï¼ˆauto-boxingï¼‰å’Œè‡ªåŠ¨æ‹†ç®±ï¼ˆauto-unboxingï¼‰ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼ŒJava è¯­è¨€æ‹¥æœ‰ 8 ä¸ªåŸºæœ¬ç±»å‹ï¼Œæ¯ä¸ªåŸºæœ¬ç±»å‹éƒ½æœ‰å¯¹åº”çš„åŒ…è£…ï¼ˆwrapperï¼‰ç±»å‹ã€‚</p>
<p>ä¹‹æ‰€ä»¥éœ€è¦åŒ…è£…ç±»å‹ï¼Œæ˜¯å› ä¸ºè®¸å¤š Java æ ¸å¿ƒç±»åº“çš„ API éƒ½æ˜¯é¢å‘å¯¹è±¡çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼ŒJava æ ¸å¿ƒç±»åº“ä¸­çš„å®¹å™¨ç±»ï¼Œå°±åªæ”¯æŒå¼•ç”¨ç±»å‹ã€‚</p>
<p>å½“éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿå­˜å‚¨æ•°å€¼çš„å®¹å™¨ç±»æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€å®šä¹‰ä¸€ä¸ªå­˜å‚¨åŒ…è£…ç±»å¯¹è±¡çš„å®¹å™¨ã€‚</p>
<p>å¯¹äºåŸºæœ¬ç±»å‹çš„æ•°å€¼æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°†å…¶è½¬æ¢ä¸ºå¯¹åº”çš„åŒ…è£…ç±»ï¼Œå†å­˜å…¥å®¹å™¨ä¹‹ä¸­ã€‚åœ¨ Java ç¨‹åºä¸­ï¼Œè¿™ä¸ªè½¬æ¢å¯ä»¥æ˜¯æ˜¾å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯éšå¼çš„ï¼Œåè€…æ­£æ˜¯ Java ä¸­çš„è‡ªåŠ¨è£…ç®±ã€‚</p>
<pre tabindex="0"><code>public int foo() {
  ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();
  list.add(0);
  int result = list.get(0);
  return result;
}
</code></pre><p>ä»¥ä¸Šå›¾ä¸­çš„ Java ä»£ç ä¸ºä¾‹ã€‚æˆ‘æ„é€ äº†ä¸€ä¸ª Integer ç±»å‹çš„ ArrayListï¼Œå¹¶ä¸”å‘å…¶ä¸­æ·»åŠ ä¸€ä¸ª int å€¼ 0ã€‚ç„¶åï¼Œæˆ‘ä¼šè·å–è¯¥ ArrayList çš„ç¬¬ 0 ä¸ªå…ƒç´ ï¼Œå¹¶ä½œä¸º int å€¼è¿”å›ç»™è°ƒç”¨è€…ã€‚è¿™æ®µä»£ç å¯¹åº”çš„ Java å­—èŠ‚ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>public int foo();
  Code:
     0: new java/util/ArrayList
     3: dup
     4: invokespecial java/util/ArrayList.&quot;&lt;init&gt;&quot;:()V
     7: astore_1
     8: aload_1
     9: iconst_0
    10: invokestatic java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    13: invokevirtual java/util/ArrayList.add:(Ljava/lang/Object;)Z
    16: pop
    17: aload_1
    18: iconst_0
    19: invokevirtual java/util/ArrayList.get:(I)Ljava/lang/Object;
    22: checkcast java/lang/Integer
    25: invokevirtual java/lang/Integer.intValue:()I
    28: istore_2
    29: iload_2
    30: ireturn
</code></pre><p>å½“å‘æ³›å‹å‚æ•°ä¸º Integer çš„ ArrayList æ·»åŠ  int å€¼æ—¶ï¼Œä¾¿éœ€è¦ç”¨åˆ°è‡ªåŠ¨è£…ç®±äº†ã€‚åœ¨ä¸Šé¢å­—èŠ‚ç åç§»é‡ä¸º 10 çš„æŒ‡ä»¤ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº† Integer.valueOf æ–¹æ³•ï¼Œå°† int ç±»å‹çš„å€¼è½¬æ¢ä¸º Integer ç±»å‹ï¼Œå†å­˜å‚¨è‡³å®¹å™¨ç±»ä¸­ã€‚</p>
<pre tabindex="0"><code>public static Integer valueOf(int i) {
    if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)
        return IntegerCache.cache[i + (-IntegerCache.low)];
    return new Integer(i);
}
</code></pre><p>è¿™æ˜¯ Integer.valueOf çš„æºä»£ç ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå½“è¯·æ±‚çš„ int å€¼åœ¨æŸä¸ªèŒƒå›´å†…æ—¶ï¼Œæˆ‘ä»¬ä¼šè¿”å›ç¼“å­˜äº†çš„ Integer å¯¹è±¡ï¼›è€Œå½“æ‰€è¯·æ±‚çš„ int å€¼åœ¨èŒƒå›´ä¹‹å¤–æ—¶ï¼Œæˆ‘ä»¬åˆ™ä¼šæ–°å»ºä¸€ä¸ª Integer å¯¹è±¡ã€‚</p>
<p>åœ¨ä»‹ç»åå°„çš„é‚£ä¸€ç¯‡ä¸­ï¼Œæˆ‘æ›¾ç»æåˆ°å‚æ•° java.lang.Integer.IntegerCache.highã€‚è¿™ä¸ªå‚æ•°å°†å½±å“è¿™é‡Œé¢çš„ IntegerCache.highã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®è¯¥å‚æ•°ï¼Œæ‰©å¤§ Integer ç¼“å­˜çš„èŒƒå›´ã€‚Java è™šæ‹Ÿæœºå‚æ•° -XX:+AggressiveOpts ä¹Ÿä¼šå°† IntegerCache.high è°ƒæ•´è‡³ 20000ã€‚</p>
<p>å¥‡æ€ªçš„æ˜¯ï¼ŒJava å¹¶ä¸æ”¯æŒå¯¹ IntegerCache.low çš„æ›´æ”¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå°äº -128 çš„æ•´æ•°ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥ä½¿ç”¨ç”± Java æ ¸å¿ƒç±»åº“æ‰€ç¼“å­˜çš„ Integer å¯¹è±¡ã€‚</p>
<pre tabindex="0"><code>25: invokevirtual java/lang/Integer.intValue:()I
</code></pre><p>å½“ä»æ³›å‹å‚æ•°ä¸º Integer çš„ ArrayList å–å‡ºå…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°çš„å®é™…ä¸Šä¹Ÿæ˜¯ Integer å¯¹è±¡ã€‚å¦‚æœåº”ç”¨ç¨‹åºæœŸå¾…çš„æ˜¯ä¸€ä¸ª int å€¼ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿè‡ªåŠ¨æ‹†ç®±ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè‡ªåŠ¨æ‹†ç®±å¯¹åº”çš„æ˜¯å­—èŠ‚ç åç§»é‡ä¸º 25 çš„æŒ‡ä»¤ã€‚è¯¥æŒ‡ä»¤å°†è°ƒç”¨ Integer.intValue æ–¹æ³•ã€‚è¿™æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œç›´æ¥è¿”å› Integer å¯¹è±¡æ‰€å­˜å‚¨çš„ int å€¼ã€‚</p>
<h2 id="æ³›å‹ä¸ç±»å‹æ“¦é™¤">æ³›å‹ä¸ç±»å‹æ“¦é™¤</h2>
<p>ä½ å¯èƒ½å·²ç»ç•™æ„åˆ°äº†ï¼Œåœ¨å‰é¢ä¾‹å­ç”Ÿæˆçš„å­—èŠ‚ç ä¸­ï¼Œå¾€ ArrayList ä¸­æ·»åŠ å…ƒç´ çš„ add æ–¹æ³•ï¼Œæ‰€æ¥å—çš„å‚æ•°ç±»å‹æ˜¯ Objectï¼›è€Œä» ArrayList ä¸­è·å–å…ƒç´ çš„ get æ–¹æ³•ï¼Œå…¶è¿”å›ç±»å‹åŒæ ·ä¹Ÿæ˜¯ Objectã€‚</p>
<p>å‰è€…è¿˜å¥½ï¼Œä½†æ˜¯å¯¹äºåè€…ï¼Œåœ¨å­—èŠ‚ç ä¸­æˆ‘ä»¬éœ€è¦è¿›è¡Œå‘ä¸‹è½¬æ¢ï¼Œå°†æ‰€è¿”å›çš„ Object å¼ºåˆ¶è½¬æ¢ä¸º Integerï¼Œæ–¹èƒ½è¿›è¡Œæ¥ä¸‹æ¥çš„è‡ªåŠ¨æ‹†ç®±ã€‚</p>
<pre tabindex="0"><code>13: invokevirtual java/util/ArrayList.add:(Ljava/lang/Object;)Z
...
19: invokevirtual java/util/ArrayList.get:(I)Ljava/lang/Object;
22: checkcast java/lang/Integer
</code></pre><p>ä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œæ˜¯å› ä¸º Java æ³›å‹çš„ç±»å‹æ“¦é™¤ã€‚è¿™æ˜¯ä¸ªä»€ä¹ˆæ¦‚å¿µå‘¢ï¼Ÿç®€å•åœ°è¯´ï¼Œé‚£ä¾¿æ˜¯ Java ç¨‹åºé‡Œçš„æ³›å‹ä¿¡æ¯ï¼Œåœ¨ Java è™šæ‹Ÿæœºé‡Œå…¨éƒ¨éƒ½ä¸¢å¤±äº†ã€‚è¿™ä¹ˆåšä¸»è¦æ˜¯ä¸ºäº†å…¼å®¹å¼•å…¥æ³›å‹ä¹‹å‰çš„ä»£ç ã€‚</p>
<p>å½“ç„¶ï¼Œå¹¶ä¸æ˜¯æ¯ä¸€ä¸ªæ³›å‹å‚æ•°è¢«æ“¦é™¤ç±»å‹åéƒ½ä¼šå˜æˆ Object ç±»ã€‚å¯¹äºé™å®šäº†ç»§æ‰¿ç±»çš„æ³›å‹å‚æ•°ï¼Œç»è¿‡ç±»å‹æ“¦é™¤åï¼Œæ‰€æœ‰çš„æ³›å‹å‚æ•°éƒ½å°†å˜æˆæ‰€é™å®šçš„ç»§æ‰¿ç±»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒJava ç¼–è¯‘å™¨å°†é€‰å–è¯¥æ³›å‹æ‰€èƒ½æŒ‡ä»£çš„æ‰€æœ‰ç±»ä¸­å±‚æ¬¡æœ€é«˜çš„é‚£ä¸ªï¼Œä½œä¸ºæ›¿æ¢æ³›å‹çš„ç±»ã€‚</p>
<pre tabindex="0"><code>class GenericTest&lt;T extends Number&gt; {
  T foo(T t) {
    return t;
  }
}
</code></pre><p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸Šé¢è¿™æ®µ Java ä»£ç ä¸­ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ª T extends Number çš„æ³›å‹å‚æ•°ã€‚å®ƒæ‰€å¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹æ‰€ç¤ºã€‚å¯ä»¥çœ‹åˆ°ï¼Œfoo æ–¹æ³•çš„æ–¹æ³•æè¿°ç¬¦æ‰€æ¥æ”¶å‚æ•°çš„ç±»å‹ä»¥åŠè¿”å›ç±»å‹éƒ½ä¸º Numberã€‚æ–¹æ³•æè¿°ç¬¦æ˜¯ Java è™šæ‹Ÿæœºè¯†åˆ«æ–¹æ³•è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•çš„å…³é”®ã€‚</p>
<pre tabindex="0"><code>T foo(T);
  descriptor: (Ljava/lang/Number;)Ljava/lang/Number;
  flags: (0x0000)
  Code:
    stack=1, locals=2, args_size=2
       0: aload_1
       1: areturn
  Signature: (TT;)TT;
</code></pre><p>ä¸è¿‡ï¼Œå­—èŠ‚ç ä¸­ä»å­˜åœ¨æ³›å‹å‚æ•°çš„ä¿¡æ¯ï¼Œå¦‚æ–¹æ³•å£°æ˜é‡Œçš„ T foo(T)ï¼Œä»¥åŠæ–¹æ³•ç­¾åï¼ˆSignatureï¼‰ä¸­çš„â€œ(TT;)TT;â€ã€‚è¿™ç±»ä¿¡æ¯ä¸»è¦ç”± Java ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ä»–ç±»æ—¶ä½¿ç”¨ã€‚</p>
<p>æ—¢ç„¶æ³›å‹ä¼šè¢«ç±»å‹æ“¦é™¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜æœ‰å¿…è¦ç”¨å®ƒå—ï¼Ÿ</p>
<p>æˆ‘è®¤ä¸ºæ˜¯æœ‰å¿…è¦çš„ã€‚Java ç¼–è¯‘å™¨å¯ä»¥æ ¹æ®æ³›å‹å‚æ•°åˆ¤æ–­ç¨‹åºä¸­çš„è¯­æ³•æ˜¯å¦æ­£ç¡®ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå°½ç®¡ç»è¿‡ç±»å‹æ“¦é™¤åï¼ŒArrayList.add æ–¹æ³•æ‰€æ¥æ”¶çš„å‚æ•°æ˜¯ Object ç±»å‹ï¼Œä½†æ˜¯å¾€æ³›å‹å‚æ•°ä¸º Integer ç±»å‹çš„ ArrayList ä¸­æ·»åŠ å­—ç¬¦ä¸²å¯¹è±¡ï¼ŒJava ç¼–è¯‘å™¨æ˜¯ä¼šæŠ¥é”™çš„ã€‚</p>
<pre tabindex="0"><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();
list.add(&quot;0&quot;); // ç¼–è¯‘å‡ºé”™
</code></pre><h2 id="æ¡¥æ¥æ–¹æ³•">æ¡¥æ¥æ–¹æ³•</h2>
<p>æ³›å‹çš„ç±»å‹æ“¦é™¤å¸¦æ¥äº†ä¸å°‘é—®é¢˜ã€‚å…¶ä¸­ä¸€ä¸ªä¾¿æ˜¯æ–¹æ³•é‡å†™ã€‚åœ¨ç¬¬å››ç¯‡çš„è¯¾åå®è·µä¸­ï¼Œæˆ‘ç•™äº†è¿™ä¹ˆä¸€æ®µä»£ç ï¼š</p>
<pre tabindex="0"><code>class Merchant&lt;T extends Customer&gt; {
  public double actionPrice(T customer) {
    return 0.0d;
  }
}
 
class VIPOnlyMerchant extends Merchant&lt;VIP&gt; {
  @Override
  public double actionPrice(VIP customer) {
    return 0.0d;
  }
}
</code></pre><p>VIPOnlyMerchant ä¸­çš„ actionPrice æ–¹æ³•æ˜¯ç¬¦åˆ Java è¯­è¨€çš„æ–¹æ³•é‡å†™çš„ï¼Œæ¯•ç«Ÿéƒ½ä½¿ç”¨ @Override æ¥æ³¨è§£äº†ã€‚ç„¶è€Œï¼Œç»è¿‡ç±»å‹æ“¦é™¤åï¼Œçˆ¶ç±»çš„æ–¹æ³•æè¿°ç¬¦ä¸º (LCustomer;)Dï¼Œè€Œå­ç±»çš„æ–¹æ³•æè¿°ç¬¦ä¸º (LVIP;)Dã€‚è¿™æ˜¾ç„¶ä¸ç¬¦åˆ Java è™šæ‹Ÿæœºå…³äºæ–¹æ³•é‡å†™çš„å®šä¹‰ã€‚</p>
<p>ä¸ºäº†ä¿è¯ç¼–è¯‘è€Œæˆçš„ Java å­—èŠ‚ç èƒ½å¤Ÿä¿ç•™é‡å†™çš„è¯­ä¹‰ï¼ŒJava ç¼–è¯‘å™¨é¢å¤–æ·»åŠ äº†ä¸€ä¸ªæ¡¥æ¥æ–¹æ³•ã€‚è¯¥æ¡¥æ¥æ–¹æ³•åœ¨å­—èŠ‚ç å±‚é¢é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¹¶å°†è°ƒç”¨å­ç±»çš„æ–¹æ³•ã€‚</p>
<pre tabindex="0"><code>class VIPOnlyMerchant extends Merchant&lt;VIP&gt;
...
  public double actionPrice(VIP);
    descriptor: (LVIP;)D
    flags: (0x0001) ACC_PUBLIC
    Code:
         0: dconst_0
         1: dreturn
 
  public double actionPrice(Customer);
    descriptor: (LCustomer;)D
    flags: (0x1041) ACC_PUBLIC, ACC_BRIDGE, ACC_SYNTHETIC
    Code:
         0: aload_0
         1: aload_1
         2: checkcast class VIP
         5: invokevirtual actionPrice:(LVIP;)D
         8: dreturn
 
// è¿™ä¸ªæ¡¥æ¥æ–¹æ³•ç­‰åŒäº
public double actionPrice(Customer customer) {
  return actionPrice((VIP) customer);
}
</code></pre><p>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼ŒVIPOnlyMerchant ç±»å°†åŒ…å«ä¸€ä¸ªæ¡¥æ¥æ–¹æ³• actionPrice(Customer)ï¼Œå®ƒé‡å†™äº†çˆ¶ç±»çš„åŒååŒæ–¹æ³•æè¿°ç¬¦çš„æ–¹æ³•ã€‚è¯¥æ¡¥æ¥æ–¹æ³•å°†ä¼ å…¥çš„ Customer å‚æ•°å¼ºåˆ¶è½¬æ¢ä¸º VIP ç±»å‹ï¼Œå†è°ƒç”¨åŸæœ¬çš„ actionPrice(VIP) æ–¹æ³•ã€‚</p>
<p>å½“ä¸€ä¸ªå£°æ˜ç±»å‹ä¸º Merchantï¼Œå®é™…ç±»å‹ä¸º VIPOnlyMerchant çš„å¯¹è±¡ï¼Œè°ƒç”¨ actionPrice æ–¹æ³•æ—¶ï¼Œå­—èŠ‚ç é‡Œçš„ç¬¦å·å¼•ç”¨æŒ‡å‘çš„æ˜¯ Merchant.actionPrice(Customer) æ–¹æ³•ã€‚Java è™šæ‹Ÿæœºå°†åŠ¨æ€ç»‘å®šè‡³ VIPOnlyMerchant ç±»çš„æ¡¥æ¥æ–¹æ³•ä¹‹ä¸­ï¼Œå¹¶ä¸”è°ƒç”¨å…¶ actionPrice(VIP) æ–¹æ³•ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ javap çš„è¾“å‡ºä¸­ï¼Œè¯¥æ¡¥æ¥æ–¹æ³•çš„è®¿é—®æ ‡è¯†ç¬¦é™¤äº†ä»£è¡¨æ¡¥æ¥æ–¹æ³•çš„ ACC_BRIDGE ä¹‹å¤–ï¼Œè¿˜æœ‰ ACC_SYNTHETICã€‚å®ƒè¡¨ç¤ºè¯¥æ–¹æ³•å¯¹äº Java æºä»£ç æ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚å½“ä½ å°è¯•é€šè¿‡ä¼ å…¥ä¸€ä¸ªå£°æ˜ç±»å‹ä¸º Customer çš„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨ VIPOnlyMerchant ç±»çš„ actionPrice æ–¹æ³•æ—¶ï¼ŒJava ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå¹¶ä¸”æç¤ºå‚æ•°ç±»å‹ä¸åŒ¹é…ã€‚</p>
<pre tabindex="0"><code>    Customer customer = new VIP();
    new VIPOnlyMerchant().actionPrice(customer); // ç¼–è¯‘å‡ºé”™    
</code></pre><p>å½“ç„¶ï¼Œå¦‚æœä½ å®åœ¨æƒ³è¦è°ƒç”¨è¿™ä¸ªæ¡¥æ¥æ–¹æ³•ï¼Œé‚£ä¹ˆä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨åå°„æœºåˆ¶ã€‚</p>
<pre tabindex="0"><code>class Merchant {
  public Number actionPrice(Customer customer) {
    return 0;
  }
}
 
class NaiveMerchant extends Merchant {
  @Override
  public Double actionPrice(Customer customer) {
    return 0.0D;
  }
}
</code></pre><p>é™¤äº†å‰é¢ä»‹ç»çš„æ³›å‹é‡å†™ä¼šç”Ÿæˆæ¡¥æ¥æ–¹æ³•ä¹‹å¤–ï¼Œå¦‚æœå­ç±»å®šä¹‰äº†ä¸€ä¸ªä¸çˆ¶ç±»å‚æ•°ç±»å‹ç›¸åŒçš„æ–¹æ³•ï¼Œå…¶è¿”å›ç±»å‹ä¸ºçˆ¶ç±»æ–¹æ³•è¿”å›ç±»å‹çš„å­ç±»ï¼Œé‚£ä¹ˆ Java ç¼–è¯‘å™¨ä¹Ÿä¼šä¸ºå…¶ç”Ÿæˆæ¡¥æ¥æ–¹æ³•ã€‚</p>
<pre tabindex="0"><code>class NaiveMerchant extends Merchant
  public java.lang.Double actionPrice(Customer);
    descriptor: (LCustomer;)Ljava/lang/Double;
    flags: (0x0001) ACC_PUBLIC
    Code:
      stack=2, locals=2, args_size=2
         0: dconst_0
         1: invokestatic Double.valueOf:(D)Ljava/lang/Double;
         4: areturn
 
  public java.lang.Number actionPrice(Customer);
    descriptor: (LCustomer;)Ljava/lang/Number;
    flags: (0x1041) ACC_PUBLIC, ACC_BRIDGE, ACC_SYNTHETIC
    Code:
      stack=2, locals=2, args_size=2
         0: aload_0
         1: aload_1
         2: invokevirtual actionPrice:(LCustomer;)Ljava/lang/Double;
         5: areturn         
</code></pre><p>æˆ‘ä¹‹å‰æ›¾æåˆ°è¿‡ï¼Œclass æ–‡ä»¶é‡Œå…è®¸å‡ºç°ä¸¤ä¸ªåŒåã€åŒå‚æ•°ç±»å‹ä½†æ˜¯ä¸åŒè¿”å›ç±»å‹çš„æ–¹æ³•ã€‚è¿™é‡Œçš„åŸæ–¹æ³•å’Œæ¡¥æ¥æ–¹æ³•ä¾¿æ˜¯å…¶ä¸­ä¸€ä¸ªä¾‹å­ã€‚ç”±äºè¯¥æ¡¥æ¥æ–¹æ³•åŒæ ·æ ‡æ³¨äº† ACC_SYNTHETICï¼Œå› æ­¤ï¼Œå½“åœ¨ Java ç¨‹åºä¸­è°ƒç”¨ NaiveMerchant.actionPrice æ—¶ï¼Œæˆ‘ä»¬åªä¼šè°ƒç”¨åˆ°åŸæ–¹æ³•ã€‚</p>
<h2 id="å…¶ä»–è¯­æ³•ç³–">å…¶ä»–è¯­æ³•ç³–</h2>
<p>åœ¨å‰é¢çš„ç¯‡ç« ä¸­ï¼Œæˆ‘å·²ç»ä»‹ç»è¿‡äº†å˜é•¿å‚æ•°ã€try-with-resources ä»¥åŠåœ¨åŒä¸€ catch ä»£ç å—ä¸­æ•è·å¤šç§å¼‚å¸¸ç­‰è¯­æ³•ç³–ã€‚ä¸‹é¢æˆ‘å°†åˆ—ä¸¾å¦å¤–ä¸¤ä¸ªå¸¸è§çš„è¯­æ³•ç³–ã€‚</p>
<p>foreach å¾ªç¯å…è®¸ Java ç¨‹åºåœ¨ for å¾ªç¯é‡Œéå†æ•°ç»„æˆ–è€… Iterable å¯¹è±¡ã€‚å¯¹äºæ•°ç»„æ¥è¯´ï¼Œforeach å¾ªç¯å°†ä» 0 å¼€å§‹é€ä¸€è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œç›´è‡³æ•°ç»„çš„æœ«å°¾ã€‚å…¶ç­‰ä»·çš„ä»£ç å¦‚ä¸‹é¢æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>public void foo(int[] array) {
  for (int item : array) {
  }
}
// ç­‰åŒäº
public void bar(int[] array) {
  int[] myArray = array;
  int length = myArray.length;
  for (int i = 0; i &lt; length; i++) {
    int item = myArray[i];
  }
}
</code></pre><p>å¯¹äº Iterable å¯¹è±¡æ¥è¯´ï¼Œforeach å¾ªç¯å°†è°ƒç”¨å…¶ iterator æ–¹æ³•ï¼Œå¹¶ä¸”ç”¨å®ƒçš„ hasNext ä»¥åŠ next æ–¹æ³•æ¥éå†è¯¥ Iterable å¯¹è±¡ä¸­çš„å…ƒç´ ã€‚å…¶ç­‰ä»·çš„ä»£ç å¦‚ä¸‹é¢æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>public void foo(ArrayList&lt;Integer&gt; list) {
  for (Integer item : list) {
  }
}
// ç­‰åŒäº
public void bar(ArrayList&lt;Integer&gt; list) {
  Iterator&lt;Integer&gt; iterator = list.iterator();
  while (iterator.hasNext()) {
    Integer item = iterator.next();
  }
}
</code></pre><p>å­—ç¬¦ä¸² switch ç¼–è¯‘è€Œæˆçš„å­—èŠ‚ç çœ‹èµ·æ¥éå¸¸å¤æ‚ï¼Œä½†å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå“ˆå¸Œæ¡¶ã€‚ç”±äºæ¯ä¸ª case æ‰€æˆªè·çš„å­—ç¬¦ä¸²éƒ½æ˜¯å¸¸é‡å€¼ï¼Œå› æ­¤ï¼ŒJava ç¼–è¯‘å™¨ä¼šå°†åŸæ¥çš„å­—ç¬¦ä¸² switch è½¬æ¢ä¸º int å€¼ switchï¼Œæ¯”è¾ƒæ‰€è¾“å…¥çš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ã€‚</p>
<p>ç”±äºå­—ç¬¦ä¸²å“ˆå¸Œå€¼å¾ˆå®¹æ˜“å‘ç”Ÿç¢°æ’ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç”¨ String.equals é€ä¸ªæ¯”è¾ƒç›¸åŒå“ˆå¸Œå€¼çš„å­—ç¬¦ä¸²ã€‚</p>
<p>å¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥è‡ªå·±åˆ©ç”¨ javap åˆ†æå­—ç¬¦ä¸² switch ç¼–è¯‘è€Œæˆçš„å­—èŠ‚ç ã€‚</p>
<h2 id="æ€»ç»“ä¸å®è·µ">æ€»ç»“ä¸å®è·µ</h2>
<p>ä»Šå¤©æˆ‘ä¸»è¦ä»‹ç»äº† Java ç¼–è¯‘å™¨å¯¹å‡ ä¸ªè¯­æ³•ç³–çš„å¤„ç†ã€‚</p>
<p>åŸºæœ¬ç±»å‹å’Œå…¶åŒ…è£…ç±»å‹ä¹‹é—´çš„è‡ªåŠ¨è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨è£…ç®±ã€è‡ªåŠ¨æ‹†ç®±ï¼Œæ˜¯é€šè¿‡åŠ å…¥ [Wrapper].valueOfï¼ˆå¦‚ Integer.valueOfï¼‰ä»¥åŠ [Wrapper].[primitive]Valueï¼ˆå¦‚ Integer.intValueï¼‰æ–¹æ³•è°ƒç”¨æ¥å®ç°çš„ã€‚</p>
<p>Java ç¨‹åºä¸­çš„æ³›å‹ä¿¡æ¯ä¼šè¢«æ“¦é™¤ã€‚å…·ä½“æ¥è¯´ï¼ŒJava ç¼–è¯‘å™¨å°†é€‰å–è¯¥æ³›å‹æ‰€èƒ½æŒ‡ä»£çš„æ‰€æœ‰ç±»ä¸­å±‚æ¬¡æœ€é«˜çš„é‚£ä¸ªï¼Œä½œä¸ºæ›¿æ¢æ³›å‹çš„å…·ä½“ç±»ã€‚</p>
<p>ç”±äº Java è¯­ä¹‰ä¸ Java å­—èŠ‚ç ä¸­å…³äºé‡å†™çš„å®šä¹‰å¹¶ä¸ä¸€è‡´ï¼Œå› æ­¤ Java ç¼–è¯‘å™¨ä¼šç”Ÿæˆæ¡¥æ¥æ–¹æ³•ä½œä¸ºé€‚é…å™¨ã€‚æ­¤å¤–ï¼Œæˆ‘è¿˜ä»‹ç»äº† foreach å¾ªç¯ä»¥åŠå­—ç¬¦ä¸² switch çš„ç¼–è¯‘ã€‚</p>
<p>ä»Šå¤©çš„å®è·µç¯èŠ‚ï¼Œä½ å¯ä»¥æ¢ç´¢ä¸€ä¸‹ Java 10 çš„ var å…³é”®å­—ï¼Œæ˜¯å¦ä¿å­˜äº†æ³›å‹ä¿¡æ¯ï¼Ÿæ˜¯å¦æ”¯æŒè‡ªåŠ¨è£…æ‹†ç®±ï¼Ÿ</p>
<pre tabindex="0"><code>  public void foo() {
    var value = 1;
    var list = new ArrayList&lt;Integer&gt;();
    list.add(value);
    // list.add(&quot;1&quot;); è¿™ä¸€å¥èƒ½å¤Ÿç¼–è¯‘å—ï¼Ÿ
  }
 
</code></pre>
        </div>
    </article>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/14-java%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0synchronized%E7%9A%84/"><span>14 Javaè™šæ‹Ÿæœºæ˜¯æ€ä¹ˆå®ç°synchronizedçš„ï¼Ÿ</span></a>
    </div>
    <div class="next">
        
        <a href="/documents/columns/java/%E6%B7%B1%E5%85%A5%E6%8B%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/16-%E5%8D%B3%E6%97%B6%E7%BC%96%E8%AF%91%E4%B8%8A/"><span>16 å³æ—¶ç¼–è¯‘ï¼ˆä¸Šï¼‰</span></a>
    </div>
</div>

        </div>
        <div class="toggler" onclick="toggleLight(this);">ğŸ’¡</div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 27270 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    function toggleLight() {
        document.getElementById('page').classList.toggle('night');
    }
</script>
</body>

</html>