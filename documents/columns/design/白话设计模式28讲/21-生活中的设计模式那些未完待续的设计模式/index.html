<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>21 ç”Ÿæ´»ä¸­çš„è®¾è®¡æ¨¡å¼ï¼šé‚£äº›æœªå®Œå¾…ç»­çš„è®¾è®¡æ¨¡å¼ | Yipsen Ye</title>
<meta name="description" content="éšç€æŠ€æœ¯çš„ä¸æ–­é©æ–°ä¸å‘å±•ï¼Œè®¾è®¡æ¨¡å¼ä¹Ÿä¸€ç›´åœ¨å‘å±•ï¼Œæœ‰ä¸€äº›æ¨¡å¼å·²ä¸å†å¸¸ç”¨ï¼ŒåŒæ—¶å´æœ‰ä¸€äº›æ–°çš„æ¨¡å¼åœ¨è¯ç”Ÿã€‚æœ¬è¯¾ç¨‹å¹¶æœªå¯¹è¿™ 23 ç§è®¾è®¡æ¨¡å¼éƒ½è¿›è¡Œä¸€ä¸€è®²è§£ï¼Œå› ä¸ºæœ‰ä¸€äº›è®¾è®¡æ¨¡å¼åœ¨ç°ä»Šè½¯ä»¶çš„å¼€å‘ä¸­ç”¨çš„éå¸¸å°‘ï¼è€Œæœ‰ä¸€äº›å´åœ¨é¢å‘å¯¹è±¡ä¸­åº”ç”¨çš„å¤ªé¢‘ç¹ï¼Œä»¥è‡³äºæˆ‘ä»¬éƒ½ä¸è®¤ä¸ºå®ƒæ˜¯ä¸€ç§æ¨¡å¼ã€‚å‰é¢å·²ç»è®²è§£äº† 19 ç§è®¾è®¡æ¨¡å¼ï¼Œä¸‹é¢å°†å¯¹æœªæåŠçš„ 4 ç§è®¾è®¡æ¨¡å¼ä¸€å¹¶è¿›è¡Œè¯´æ˜ã€‚
æŠ½è±¡å·¥å‚ è¿™ä¸ªæ¨¡å¼ä¸å·¥å‚æ–¹æ³•æ¨¡å¼ç›¸æ¯”ï¼Œåœ¨å®é™…åº”ç”¨é¡¹ç›®ä¸­ä½¿ç”¨çš„ç›¸å¯¹è¾ƒå°‘ã€‚ä¸€è°ˆåˆ°å·¥å‚æ¨¡å¼ï¼Œå¤§å®¶ä¸€å®šä¼šæƒ³åˆ°å·¥å‚ä¸‰å§å¦¹ï¼šç®€å•å·¥å‚æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œè¿™ä¸€éƒ¨åˆ†çš„å†…å®¹åœ¨ã€Š[ç”Ÿæ´»ä¸­çš„å·¥å‚æ¨¡å¼â€”â€”ä½ è¦æ‹¿é“è¿˜æ˜¯æ‘©å¡]ã€‹ä¸€æ–‡çš„ æ‹“å±•ï¼šå·¥å‚ä¸‰å§å¦¹ çš„éƒ¨åˆ†å·²ç»åšäº†è¾ƒè¯¦ç»†çš„è¯´æ˜ï¼Œè¯»è€…å¯è·³è½¬è¿™ä¸€è¯¾ç¨‹ä¸­è¿›è¡Œé˜…è¯»ã€‚
æ¨¡æ¿æ¨¡å¼ è¿™ä¸€æ¨¡å¼éå¸¸ç®€å•ï¼Œä»¥è‡³äºæˆ‘éƒ½ä¸è§‰å¾—å®ƒæ˜¯ä¸€ä¸ªæ¨¡å¼ã€‚å› ä¸ºåªè¦æ˜¯åœ¨ä½¿ç”¨é¢å‘å¯¹è±¡çš„è¯­è¨€è¿›è¡Œå¼€å‘æ—¶ï¼Œåœ¨æœ‰æ„æ— æ„ä¹‹ä¸­å°±å·²ç»åœ¨ä½¿ç”¨å®ƒäº†ï¼Œä¸¾ä¸€ä¸ªä¾‹å­ã€‚
Demo åœ¨é˜…è¯»ç”µå­ä¹¦æ—¶ï¼Œæ ¹æ®æ¯ä¸ªäººçš„ä¸åŒé˜…è¯»ä¹ æƒ¯ï¼Œå¯ä»¥è®¾ç½®ä¸åŒçš„ç¿»é¡µæ–¹å¼ï¼Œå¦‚å·¦å³å¹³æ»‘ã€ä»¿çœŸç¿»é¡µç­‰ï¼Œä¸åŒçš„ç¿»é¡µæ–¹å¼ï¼Œä¼šç»™äººä»¥ä¸åŒçš„å±•ç¤ºæ•ˆæœã€‚
æ ¹æ®è¿™ä¸€éœ€æ±‚ï¼Œæˆ‘ä»¬ç”¨ç¨‹åºæ¥æ¨¡æ‹Ÿå®ç°ä¸€ä¸‹æ•ˆæœã€‚
from abc import ABCMeta, abstractmethod# å¼•å…¥ABCMetaå’Œabstractmethodæ¥å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•class ReaderView(metaclass=ABCMeta):&amp;quot;é˜…è¯»å™¨è§†å›¾&amp;quot;def __init__(self):self.__curPageNum = 1def getPage(self, pageNum):self.__curPageNum = pageNumreturn &amp;quot;ç¬¬&amp;quot; &#43; str(pageNum) &#43; &amp;quot;çš„å†…å®¹&amp;quot;def prePage(self):content = self.getPage(self.__curPageNum - 1)self.displayPage(content)def nextPage(self):content = self.getPage(self.__curPageNum &#43; 1)self.displayPage(content)@abstractmethoddef displayPage(self, content):&amp;quot;ç¿»é¡µæ•ˆæœ&amp;quot;passclass SmoothView(ReaderView):&amp;quot;å·¦å³å¹³æ»‘çš„è§†å›¾&amp;quot;def displayPage(self, content):print(&amp;quot;å·¦å³å¹³æ»‘:&amp;quot; &#43; content)class SimulationView(ReaderView):&amp;quot;ä»¿çœŸç¿»é¡µçš„è§†å›¾&amp;quot;def displayPage(self, content):print(&amp;quot;ä»¿çœŸç¿»é¡µ:&amp;quot; &#43; content)ä½ çœ‹ï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼Œå› ä¸ºæ¨¡æ¿æ–¹æ³•æ¨¡å¼åªæ˜¯ç”¨äº†é¢å‘å¯¹è±¡çš„ç»§æ‰¿æœºåˆ¶ã€‚è€Œè¿™ç§ç»§æ‰¿æ–¹å¼ï¼Œåœ¨å†™ä»£ç çš„æ—¶å€™å¯èƒ½åœ¨å¾ˆå¤šåœ°æ–¹å·²ç»æœ‰æ„æ— æ„çš„å°±è¿™ä¹ˆä½¿ç”¨äº†ã€‚">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="nav-logo">
    <a href="http://yipsen.github.io/">
        
        <span class="nav-title">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æ–‡ç« </a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/%e7%99%bd%e8%af%9d%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f28%e8%ae%b2/">ç™½è¯è®¾è®¡æ¨¡å¼28è®²</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/00-%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%90%AF%E7%A8%8B%E4%B9%8B%E5%89%8D%E8%AF%B7%E4%B8%8D%E8%A6%81%E9%94%99%E8%BF%87%E6%88%91/">00 ç”Ÿæ´»ä¸­çš„è®¾è®¡æ¨¡å¼ï¼šå¯ç¨‹ä¹‹å‰ï¼Œè¯·ä¸è¦é”™è¿‡æˆ‘</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/01-%E7%9B%91%E5%90%AC%E6%A8%A1%E5%BC%8F%E5%9D%91%E7%88%B9%E7%9A%84%E7%83%AD%E6%B0%B4%E5%99%A8/">01 ç›‘å¬æ¨¡å¼ï¼šå‘çˆ¹çš„çƒ­æ°´å™¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/02-%E9%80%82%E9%85%8D%E6%A8%A1%E5%BC%8F%E8%BA%AB%E9%AB%98%E4%B8%8D%E5%A4%9F%E9%9E%8B%E6%9D%A5%E5%87%91/">02 é€‚é…æ¨¡å¼ï¼šèº«é«˜ä¸å¤Ÿé‹æ¥å‡‘</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/03-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E4%BA%BA%E4%B8%8E%E6%B0%B4%E7%9A%84%E4%B8%89%E6%80%81/">03 çŠ¶æ€æ¨¡å¼ï¼šäººä¸æ°´çš„ä¸‰æ€</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/04-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E4%BD%A0%E6%98%AF%E6%88%91%E7%94%9F%E5%91%BD%E7%9A%84%E5%94%AF%E4%B8%80/">04 å•ä¾‹æ¨¡å¼ï¼šä½ æ˜¯æˆ‘ç”Ÿå‘½çš„å”¯ä¸€</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/05-%E8%81%8C%E8%B4%A3%E6%A8%A1%E5%BC%8F%E6%88%91%E7%9A%84%E5%81%87%E6%9D%A1%E5%8E%BB%E5%93%AA%E4%BA%86/">05 èŒè´£æ¨¡å¼ï¼šæˆ‘çš„å‡æ¡å»å“ªäº†</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/06-%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F%E6%89%BE%E6%88%BF%E5%AD%90%E9%97%AE%E4%B8%AD%E4%BB%8B/">06 ä¸­ä»‹æ¨¡å¼ï¼šæ‰¾æˆ¿å­é—®ä¸­ä»‹</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/07-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%B8%AE%E6%88%91%E6%8B%BF%E4%B8%80%E4%B8%8B%E5%BF%AB%E9%80%92/">07 ä»£ç†æ¨¡å¼ï¼šå¸®æˆ‘æ‹¿ä¸€ä¸‹å¿«é€’</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/08-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%E4%BD%A0%E6%83%B3%E6%80%8E%E4%B9%88%E7%A9%BF%E5%B0%B1%E6%80%8E%E4%B9%88%E7%A9%BF/">08 è£…é¥°æ¨¡å¼ï¼šä½ æƒ³æ€ä¹ˆç©¿å°±æ€ä¹ˆç©¿</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/09-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%BD%A0%E8%A6%81%E6%8B%BF%E9%93%81%E8%BF%98%E6%98%AF%E6%91%A9%E5%8D%A1/">09 å·¥å‚æ¨¡å¼ï¼šä½ è¦æ‹¿é“è¿˜æ˜¯æ‘©å¡</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/10-%E8%BF%AD%E4%BB%A3%E6%A8%A1%E5%BC%8F%E4%B8%8B%E4%B8%80%E4%B8%AA%E5%B0%B1%E6%98%AF%E4%BD%A0%E4%BA%86/">10 è¿­ä»£æ¨¡å¼ï¼šä¸‹ä¸€ä¸ªå°±æ˜¯ä½ äº†</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E8%87%AA%E5%B7%B1%E7%BB%84%E8%A3%85%E7%94%B5%E8%84%91/">11 ç»„åˆæ¨¡å¼ï¼šè‡ªå·±ç»„è£…ç”µè„‘</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/12-%E6%9E%84%E5%BB%BA%E6%A8%A1%E5%BC%8F%E6%83%B3%E8%A6%81%E8%BD%A6%E8%BF%98%E6%98%AF%E5%BA%84%E5%9B%AD/">12 æ„å»ºæ¨¡å¼ï¼šæƒ³è¦è½¦è¿˜æ˜¯åº„å›­</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/13-%E5%85%8B%E9%9A%86%E6%A8%A1%E5%BC%8F%E7%BB%99%E4%BD%A0%E4%B8%80%E4%B8%AA%E5%88%86%E8%BA%AB%E6%9C%AF/">13 å…‹éš†æ¨¡å¼ï¼šç»™ä½ ä¸€ä¸ªåˆ†èº«æœ¯</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E6%80%8E%E4%B9%88%E6%9D%A5%E4%B8%8D%E9%87%8D%E8%A6%81%E4%BA%BA%E5%88%B0%E5%B0%B1%E8%A1%8C/">14 ç­–ç•¥æ¨¡å¼ï¼šæ€ä¹ˆæ¥ä¸é‡è¦ï¼Œäººåˆ°å°±è¡Œ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%A4%A7%E9%97%B8%E8%9F%B9%E8%B5%B0%E8%B5%B7/">15 å‘½ä»¤æ¨¡å¼ï¼šå¤§é—¸èŸ¹ï¼Œèµ°èµ·ï¼</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/16-%E5%A4%87%E5%BF%98%E6%A8%A1%E5%BC%8F%E5%A5%BD%E8%AE%B0%E6%80%A7%E4%B8%8D%E5%A6%82%E7%83%82%E7%AC%94%E5%A4%B4/">16 å¤‡å¿˜æ¨¡å¼ï¼šå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/17-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E9%A2%9C%E6%96%99%E5%BE%88%E8%B4%B5%E5%BF%85%E9%A1%BB%E5%85%85%E5%88%86%E5%88%A9%E7%94%A8/">17 äº«å…ƒæ¨¡å¼ï¼šé¢œæ–™å¾ˆè´µå¿…é¡»å……åˆ†åˆ©ç”¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/18-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%AD%A6%E5%A6%B9%E5%88%AB%E6%85%8C%E5%AD%A6%E9%95%BF%E5%B8%AE%E4%BD%A0/">18 å¤–è§‚æ¨¡å¼ï¼šå­¦å¦¹åˆ«æ…Œï¼Œå­¦é•¿å¸®ä½ </a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/19-%E8%AE%BF%E9%97%AE%E6%A8%A1%E5%BC%8F%E4%B8%80%E5%8D%83%E4%B8%AA%E8%AF%BB%E8%80%85%E4%B8%80%E5%8D%83%E4%B8%AA%E5%93%88%E5%A7%86%E9%9B%B7%E7%89%B9/">19 è®¿é—®æ¨¡å¼ï¼šä¸€åƒä¸ªè¯»è€…ä¸€åƒä¸ªå“ˆå§†é›·ç‰¹</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/20-%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E7%BB%8F%E5%85%B8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%8D%E8%A7%A3%E6%B8%8A%E6%BA%90/">20 ç”Ÿæ´»ä¸­çš„è®¾è®¡æ¨¡å¼ï¼šä¸ç»å…¸è®¾è®¡æ¨¡å¼çš„ä¸è§£æ¸Šæº</a></li>
                
                
                
                    <li>21 ç”Ÿæ´»ä¸­çš„è®¾è®¡æ¨¡å¼ï¼šé‚£äº›æœªå®Œå¾…ç»­çš„è®¾è®¡æ¨¡å¼</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/22-%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB%E8%BF%87%E6%BB%A4%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%88%B6%E4%BD%9C%E4%B8%80%E6%9D%AF%E9%B2%9C%E7%BA%AF%E7%BB%86%E8%85%BB%E7%9A%84%E8%B1%86%E6%B5%86/">22 æ·±å…¥è§£è¯»è¿‡æ»¤å™¨æ¨¡å¼ï¼šåˆ¶ä½œä¸€æ¯é²œçº¯ç»†è…»çš„è±†æµ†</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/23-%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB%E5%AF%B9%E8%B1%A1%E6%B1%A0%E6%8A%80%E6%9C%AF%E5%85%B1%E4%BA%AB%E8%AE%A9%E7%94%9F%E6%B4%BB%E6%9B%B4%E4%BE%BF%E6%8D%B7/">23 æ·±å…¥è§£è¯»å¯¹è±¡æ± æŠ€æœ¯ï¼šå…±äº«è®©ç”Ÿæ´»æ›´ä¾¿æ·</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/24-%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB%E5%9B%9E%E8%B0%83%E6%9C%BA%E5%88%B6%E6%8A%8A%E4%BD%A0%E6%8A%80%E8%83%BD%E4%BA%AE%E5%87%BA%E6%9D%A5/">24 æ·±å…¥è§£è¯»å›è°ƒæœºåˆ¶ï¼šæŠŠä½ æŠ€èƒ½äº®å‡ºæ¥</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/25-%E8%B0%88%E8%B0%88%E6%88%91%E5%AF%B9%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%90%86%E8%A7%A3/">25 è°ˆè°ˆæˆ‘å¯¹è®¾è®¡æ¨¡å¼çš„ç†è§£</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/26-%E8%B0%88%E8%B0%88%E6%88%91%E5%AF%B9%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E7%9A%84%E6%80%9D%E8%80%83/">26 è°ˆè°ˆæˆ‘å¯¹è®¾è®¡åŸåˆ™çš„æ€è€ƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/27-%E8%B0%88%E8%B0%88%E6%88%91%E5%AF%B9%E9%A1%B9%E7%9B%AE%E9%87%8D%E6%9E%84%E7%9A%84%E7%9C%8B%E6%B3%95/">27 è°ˆè°ˆæˆ‘å¯¹é¡¹ç›®é‡æ„çš„çœ‹æ³•</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">21 ç”Ÿæ´»ä¸­çš„è®¾è®¡æ¨¡å¼ï¼šé‚£äº›æœªå®Œå¾…ç»­çš„è®¾è®¡æ¨¡å¼</h1>
        <div class="post-info">
            <div class="post-date"> 
                <span>2021-12-22 01:37:11</span>
            </div>
        </div>
        <div class="post-content">
            <p>éšç€æŠ€æœ¯çš„ä¸æ–­é©æ–°ä¸å‘å±•ï¼Œè®¾è®¡æ¨¡å¼ä¹Ÿä¸€ç›´åœ¨å‘å±•ï¼Œæœ‰ä¸€äº›æ¨¡å¼å·²ä¸å†å¸¸ç”¨ï¼ŒåŒæ—¶å´æœ‰ä¸€äº›æ–°çš„æ¨¡å¼åœ¨è¯ç”Ÿã€‚æœ¬è¯¾ç¨‹å¹¶æœªå¯¹è¿™ 23 ç§è®¾è®¡æ¨¡å¼éƒ½è¿›è¡Œä¸€ä¸€è®²è§£ï¼Œå› ä¸ºæœ‰ä¸€äº›è®¾è®¡æ¨¡å¼åœ¨ç°ä»Šè½¯ä»¶çš„å¼€å‘ä¸­ç”¨çš„éå¸¸å°‘ï¼è€Œæœ‰ä¸€äº›å´åœ¨é¢å‘å¯¹è±¡ä¸­åº”ç”¨çš„å¤ªé¢‘ç¹ï¼Œä»¥è‡³äºæˆ‘ä»¬éƒ½ä¸è®¤ä¸ºå®ƒæ˜¯ä¸€ç§æ¨¡å¼ã€‚å‰é¢å·²ç»è®²è§£äº† 19 ç§è®¾è®¡æ¨¡å¼ï¼Œä¸‹é¢å°†å¯¹æœªæåŠçš„ 4 ç§è®¾è®¡æ¨¡å¼ä¸€å¹¶è¿›è¡Œè¯´æ˜ã€‚</p>
<h3 id="æŠ½è±¡å·¥å‚">æŠ½è±¡å·¥å‚</h3>
<p>è¿™ä¸ªæ¨¡å¼ä¸å·¥å‚æ–¹æ³•æ¨¡å¼ç›¸æ¯”ï¼Œåœ¨å®é™…åº”ç”¨é¡¹ç›®ä¸­ä½¿ç”¨çš„ç›¸å¯¹è¾ƒå°‘ã€‚ä¸€è°ˆåˆ°å·¥å‚æ¨¡å¼ï¼Œå¤§å®¶ä¸€å®šä¼šæƒ³åˆ°å·¥å‚ä¸‰å§å¦¹ï¼šç®€å•å·¥å‚æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œè¿™ä¸€éƒ¨åˆ†çš„å†…å®¹åœ¨ã€Š[ç”Ÿæ´»ä¸­çš„å·¥å‚æ¨¡å¼â€”â€”ä½ è¦æ‹¿é“è¿˜æ˜¯æ‘©å¡]ã€‹ä¸€æ–‡çš„ <em>æ‹“å±•ï¼šå·¥å‚ä¸‰å§å¦¹</em> çš„éƒ¨åˆ†å·²ç»åšäº†è¾ƒè¯¦ç»†çš„è¯´æ˜ï¼Œè¯»è€…å¯è·³è½¬è¿™ä¸€è¯¾ç¨‹ä¸­è¿›è¡Œé˜…è¯»ã€‚</p>
<h3 id="æ¨¡æ¿æ¨¡å¼">æ¨¡æ¿æ¨¡å¼</h3>
<p>è¿™ä¸€æ¨¡å¼éå¸¸ç®€å•ï¼Œä»¥è‡³äºæˆ‘éƒ½ä¸è§‰å¾—å®ƒæ˜¯ä¸€ä¸ªæ¨¡å¼ã€‚å› ä¸ºåªè¦æ˜¯åœ¨ä½¿ç”¨é¢å‘å¯¹è±¡çš„è¯­è¨€è¿›è¡Œå¼€å‘æ—¶ï¼Œåœ¨æœ‰æ„æ— æ„ä¹‹ä¸­å°±å·²ç»åœ¨ä½¿ç”¨å®ƒäº†ï¼Œä¸¾ä¸€ä¸ªä¾‹å­ã€‚</p>
<h4 id="demo">Demo</h4>
<p><em>åœ¨é˜…è¯»ç”µå­ä¹¦æ—¶ï¼Œæ ¹æ®æ¯ä¸ªäººçš„ä¸åŒé˜…è¯»ä¹ æƒ¯ï¼Œå¯ä»¥è®¾ç½®ä¸åŒçš„ç¿»é¡µæ–¹å¼ï¼Œå¦‚å·¦å³å¹³æ»‘ã€ä»¿çœŸç¿»é¡µç­‰ï¼Œä¸åŒçš„ç¿»é¡µæ–¹å¼ï¼Œä¼šç»™äººä»¥ä¸åŒçš„å±•ç¤ºæ•ˆæœã€‚</em></p>
<p>æ ¹æ®è¿™ä¸€éœ€æ±‚ï¼Œæˆ‘ä»¬ç”¨ç¨‹åºæ¥æ¨¡æ‹Ÿå®ç°ä¸€ä¸‹æ•ˆæœã€‚</p>
<pre tabindex="0"><code>from abc import ABCMeta, abstractmethod
# å¼•å…¥ABCMetaå’Œabstractmethodæ¥å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•

class ReaderView(metaclass=ABCMeta):
    &quot;é˜…è¯»å™¨è§†å›¾&quot;

    def __init__(self):
        self.__curPageNum = 1

    def getPage(self, pageNum):
        self.__curPageNum = pageNum
        return &quot;ç¬¬&quot; + str(pageNum) + &quot;çš„å†…å®¹&quot;

    def prePage(self):
        content = self.getPage(self.__curPageNum - 1)
        self.displayPage(content)

    def nextPage(self):
        content = self.getPage(self.__curPageNum + 1)
        self.displayPage(content)

    @abstractmethod
    def displayPage(self, content):
        &quot;ç¿»é¡µæ•ˆæœ&quot;
        pass

class SmoothView(ReaderView):
    &quot;å·¦å³å¹³æ»‘çš„è§†å›¾&quot;

    def displayPage(self, content):
        print(&quot;å·¦å³å¹³æ»‘:&quot; + content)

class SimulationView(ReaderView):
    &quot;ä»¿çœŸç¿»é¡µçš„è§†å›¾&quot;

    def displayPage(self, content):
        print(&quot;ä»¿çœŸç¿»é¡µ:&quot; + content)

</code></pre><p>ä½ çœ‹ï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼Œå› ä¸ºæ¨¡æ¿æ–¹æ³•æ¨¡å¼åªæ˜¯ç”¨äº†é¢å‘å¯¹è±¡çš„ç»§æ‰¿æœºåˆ¶ã€‚è€Œè¿™ç§ç»§æ‰¿æ–¹å¼ï¼Œåœ¨å†™ä»£ç çš„æ—¶å€™å¯èƒ½åœ¨å¾ˆå¤šåœ°æ–¹å·²ç»æœ‰æ„æ— æ„çš„å°±è¿™ä¹ˆä½¿ç”¨äº†ã€‚</p>
<blockquote>
<p>Define the skeleton of an algorithm in an operation, deferring some steps to client subclasses. Template Method lets subclasses redefine certain steps of an algorithm without changing the algorithm&rsquo;s structure.</p>
<p>åœ¨çˆ¶ç±»ä¸­æä¾›äº†ä¸€ä¸ªå®šä¹‰ç®—æ³•æ¡†æ¶çš„æ¨¡æ¿æ–¹æ³•ï¼Œè€Œå°†ç®—æ³•ä¸­ç”¨åˆ°çš„å…·ä½“çš„æ­¥éª¤æ”¾åˆ°å­ç±»ä¸­å»å®ç°ï¼Œä½¿å¾—å­ç±»å¯ä»¥åœ¨ä¸æ”¹å˜ç®—æ³•çš„åŒæ—¶é‡æ–°å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</p>
</blockquote>
<h4 id="ä»£ç æ¡†æ¶">ä»£ç æ¡†æ¶</h4>
<p>æˆ‘ä»¬å¯¹ä¸Šé¢çš„ç¤ºä¾‹ä»£ç è¿›è¡Œè¿›ä¸€æ­¥çš„é‡æ„å’Œä¼˜åŒ–ï¼ŒæŠ½è±¡å‡ºæ¨¡æ¿æ¨¡å¼çš„æ¡†æ¶æ¨¡å‹ã€‚</p>
<pre tabindex="0"><code>from abc import ABCMeta, abstractmethod
# å¼•å…¥ABCMetaå’Œabstractmethodæ¥å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•

class Template(metaclass=ABCMeta):
    &quot;æ¨¡æ¿ç±»(æŠ½è±¡ç±»)&quot;

    @abstractmethod
    def stepOne(self):
        pass

    @abstractmethod
    def stepTwo(self):
        pass

    @abstractmethod
    def stepThree(self):
        pass

    def templateMethold(self):
        &quot;æ¨¡æ¿æ–¹æ³•&quot;
        self.stepOne()
        self.stepTwo()
        self.stepThree()

class TemplateImplA(Template):
    &quot;æ¨¡æ¿å®ç°ç±»A&quot;

    def stepOne(self):
        print(&quot;æ­¥éª¤ä¸€&quot;)

    def stepTwo(self):
        print(&quot;æ­¥éª¤äºŒ&quot;)

    def stepThree(self):
        print(&quot;æ­¥éª¤ä¸‰&quot;)

class TemplateImplB(Template):
    &quot;æ¨¡æ¿å®ç°ç±»B&quot;

    def stepOne(self):
        print(&quot;Step one&quot;)

    def stepTwo(self):
        print(&quot;Step two&quot;)

    def stepThree(self):
        print(&quot;Step three&quot;)

</code></pre><h4 id="ç±»å›¾">ç±»å›¾</h4>
<p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„ç±»å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/eed01e10-8e4e-11e8-91f2-2b35ab59bab9.jpg" alt="enter image description here"></p>
<p>Template æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œç”¨äºå®šä¹‰æ¨¡æ¿æ–¹æ³•ï¼ˆæŸç§ç®—æ³•çš„æ¡†æ¶ï¼‰ï¼Œå¦‚ç¤ºä¾‹ä¸­çš„ ReaderViewã€‚TemplateImplA å’Œ TemplateImplB æ˜¯æ¨¡æ¿ç±»çš„å…·ä½“å­ç±»ï¼Œç”¨äºå®ç°ç®—æ³•æ¡†æ¶ä¸­çš„ä¸€äº›ç‰¹å®šæ­¥éª¤ã€‚</p>
<h4 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h4>
<ul>
<li>å¯¹ä¸€äº›å¤æ‚çš„ç®—æ³•è¿›è¡Œåˆ†å‰²ï¼Œå°†å…¶ç®—æ³•ä¸­å›ºå®šä¸å˜çš„éƒ¨åˆ†è®¾è®¡ä¸ºæ¨¡æ¿æ–¹æ³•å’Œçˆ¶ç±»å…·ä½“æ–¹æ³•ï¼Œè€Œä¸€äº›å¯ä»¥æ”¹å˜çš„ç»†èŠ‚ç”±å…¶å­ç±»æ¥å®ç°ã€‚å³ä¸€æ¬¡æ€§å®ç°ä¸€ä¸ªç®—æ³•çš„ä¸å˜éƒ¨åˆ†ï¼Œå¹¶å°†å¯å˜çš„è¡Œä¸ºç•™ç»™å­ç±»æ¥å®ç°ã€‚</li>
<li>å„å­ç±»ä¸­å…¬å…±çš„è¡Œä¸ºåº”è¢«æå–å‡ºæ¥å¹¶é›†ä¸­åˆ°ä¸€ä¸ªå…¬å…±çˆ¶ç±»ä¸­ä»¥é¿å…ä»£ç é‡å¤ã€‚</li>
<li>éœ€è¦é€šè¿‡å­ç±»æ¥å†³å®šçˆ¶ç±»ç®—æ³•ä¸­æŸä¸ªæ­¥éª¤æ˜¯å¦æ‰§è¡Œï¼Œä»¥å®ç°å­ç±»å¯¹çˆ¶ç±»çš„åå‘æ§åˆ¶ã€‚</li>
</ul>
<h3 id="æ¡¥æ¥æ¨¡å¼">æ¡¥æ¥æ¨¡å¼</h3>
<p>è¿™ä¸ªæ¨¡å¼å¯ä»¥å’Œç­–ç•¥æ¨¡å¼åˆä¸ºä¸€ä¸ªæ¨¡å¼ï¼Œå› ä¸ºæ€æƒ³ç›¸åŒï¼Œä»£ç ç»“æ„ä¹Ÿå‡ ä¹ä¸€æ ·ï¼Œå¦‚ä¸‹å›¾å®ƒä»¬çš„ç±»å›¾ç»“æ„å‡ ä¹ç›¸åŒï¼Œåªæ˜¯ä¸€ä¸ªï¼ˆç­–ç•¥æ¨¡å¼ï¼‰ä¾§é‡äºå¯¹è±¡è¡Œä¸ºï¼Œä¸€ä¸ªï¼ˆæ¡¥æ¥æ¨¡å¼ï¼‰ä¾§é‡äºè½¯ä»¶ç»“æ„ã€‚</p>
<h4 id="ç±»å›¾-1">ç±»å›¾</h4>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/61f84020-8e4f-11e8-9cd7-51dfc6c66063.jpg" alt="enter image description here"></p>
<p>ç­–ç•¥æ¨¡å¼çš„ç±»å›¾</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/73af29a0-8e4f-11e8-9d8f-6d52f659a2b6.jpg" alt="enter image description here"></p>
<p>æ¡¥æ¥æ¨¡å¼çš„ç±»å›¾</p>
<p>ä»ç±»å›¾å¯ä»¥çœ‹å‡ºï¼Œæ¡¥æ¢æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å¤šäº†å¯¹æŠ½è±¡ï¼ˆAbstractionï¼‰çš„å…·ä½“å®ç°ç±»ï¼Œç”¨äºå¯¹æŠ½è±¡åŒ–è§’è‰²è¿›è¡Œä¿®æ­£ã€‚</p>
<h4 id="æ¡¥æ¥æ¨¡å¼-1">æ¡¥æ¥æ¨¡å¼</h4>
<blockquote>
<p>Decouple an abstraction from its implementation so that the two can vary independently.</p>
<p>å°†æŠ½è±¡å’Œå®ç°è§£è€¦ï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</p>
</blockquote>
<p>æ¡¥æ¢æ¨¡å¼å…³æ³¨çš„æ˜¯æŠ½è±¡å’Œå®ç°çš„åˆ†ç¦»ï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥ç‹¬ç«‹åœ°å‘å±•ï¼›æ¡¥æ¢æ¨¡å¼æ˜¯ç»“æ„å‹æ¨¡å¼ï¼Œä¾§é‡äºè½¯ä»¶ç»“æ„ã€‚è€Œç­–ç•¥æ¨¡å¼å…³æ³¨çš„æ˜¯å¯¹ç®—æ³•ã€è§„åˆ™çš„å°è£…ï¼Œä½¿å¾—ç®—æ³•å¯ä»¥ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„ç”¨æˆ·è€Œå˜åŒ–ï¼›ç­–ç•¥æ¨¡å¼æ˜¯è¡Œä¸ºå‹æ¨¡å¼ï¼Œä¾§é‡äºå¯¹è±¡è¡Œä¸ºã€‚</p>
<p>è®¾è®¡æ¨¡å¼å…¶å®å°±æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œæ²¡æœ‰å›ºå®šçš„ç»“æ„ã€‚åŒºåˆ†ä¸åŒçš„æ¨¡å¼ï¼Œæ›´å¤šçš„æ˜¯è¦ä»è¯­ä¹‰å’Œç”¨é€”æ˜¯åˆ¤æ–­ã€‚</p>
<h4 id="åº”ç”¨æ¡ˆä¾‹">åº”ç”¨æ¡ˆä¾‹</h4>
<p>åœ¨å‡ ä½•å›¾å½¢çš„åˆ†ç±»ä¸­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰çŸ©å½¢å’Œæ¤­åœ†ä¹‹åˆ†ï¼Œè¿™æ—¶åˆå¸Œæœ›åŠ å…¥é¢œè‰²ï¼ˆçº¢è‰²ã€ç»¿è‰²ï¼‰æ¥æ‹“å±•å®ƒçš„å±‚çº§ã€‚å¦‚æœç”¨ä¸€èˆ¬ç»§æ‰¿çš„æ€æƒ³ï¼Œåˆ™ä¼šæœ‰ä¸‹é¢è¿™æ ·çš„ç±»å›¾ï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/85d99570-8e4f-11e8-a3e9-3b5653895392.jpg" alt="enter image description here"></p>
<p>å¦‚æœå†å¢åŠ å‡ ä¸ªå½¢çŠ¶ï¼ˆå¦‚ä¸‰è§’å½¢ï¼‰ï¼Œå†å¢åŠ å‡ ç§é¢œè‰²ï¼ˆå¦‚è“è‰²ã€ç´«è‰²ï¼‰ï¼Œè¿™ä¸ªç±»å›¾å°†ä¼šè¶Šæ¥è¶Šè†¨èƒ€å’Œè‡ƒè‚¿ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¸Œæœ›å¯¹è¿™ä¸ªè®¾è®¡è¿›è¡Œè§£è€¦ï¼Œå°†å½¢çŠ¶å’Œé¢œè‰²åˆ†æˆä¸¤ä¸ªåˆ†æ”¯ï¼Œç‹¬ç«‹å‘å±•ï¼Œäº’ä¸å½±å“ã€‚æ¡¥æ¥æ¨¡å¼å°±æ´¾ä¸Šç”¨åœºäº†ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ä½¿ç”¨æ¡¥æ¥æ¨¡å¼åçš„ç±»å›¾ï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/947d99a0-8e4f-11e8-91f2-2b35ab59bab9.jpg" alt="enter image description here"></p>
<p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>from abc import ABCMeta, abstractmethod
# å¼•å…¥ABCMetaå’Œabstractmethodæ¥å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•

class Shape(metaclass=ABCMeta):
    &quot;å½¢çŠ¶&quot;

    def __init__(self, color):
        self._color = color

    @abstractmethod
    def getShapeType(self):
        pass

    def getShapeInfo(self):
        return self._color.getColor() + &quot;çš„&quot; + self.getShapeType()

class Rectange(Shape):
    &quot;çŸ©å½¢&quot;

    def __init__(self, color):
        super().__init__(color)

    def getShapeType(self):
        return &quot;çŸ©å½¢&quot;

class Ellipse(Shape):
    &quot;æ¤­åœ†&quot;

    def __init__(self, color):
        super().__init__(color)

    def getShapeType(self):
        return &quot;æ¤­åœ†&quot;

class Color(metaclass=ABCMeta):
    &quot;é¢œè‰²&quot;

    @abstractmethod
    def getColor(self):
        pass

class Red(Color):
    &quot;çº¢è‰²&quot;

    def getColor(self):
        return &quot;çº¢è‰²&quot;

class Green(Color):
    &quot;ç»¿è‰²&quot;

    def getColor(self):
        return &quot;ç»¿è‰²&quot;

</code></pre><p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>def testShap():
    redRect = Rectange(Red())
    print(redRect.getShapeInfo())
    greenRect = Rectange(Green())
    print(greenRect.getShapeInfo())

    redEllipse = Ellipse(Red())
    print(redEllipse.getShapeInfo())
    greenEllipse = Ellipse(Green())
    print(greenEllipse.getShapeInfo())

</code></pre><p>ç»“æœå¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>çº¢è‰²çš„çŸ©å½¢
ç»¿è‰²çš„çŸ©å½¢
çº¢è‰²çš„æ¤­åœ†
ç»¿è‰²çš„æ¤­åœ†

</code></pre><h3 id="è§£é‡Šæ¨¡å¼">è§£é‡Šæ¨¡å¼</h3>
<h4 id="è§£é‡Šæ¨¡å¼-1">è§£é‡Šæ¨¡å¼</h4>
<p>è§£é‡Šæ¨¡å¼åˆå«è§£é‡Šå™¨æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ç§ä½¿ç”¨é¢‘ç‡ç›¸å¯¹è¾ƒä½ä½†å­¦ä¹ éš¾åº¦è¾ƒå¤§çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒç”¨äºæè¿°å¦‚ä½•ä½¿ç”¨é¢å‘å¯¹è±¡è¯­è¨€æ„æˆä¸€ä¸ªç®€å•çš„è¯­è¨€è§£é‡Šå™¨ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸ºäº†æ›´å¥½åœ°æè¿°æŸä¸€äº›ç‰¹å®šç±»å‹çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ç§æ–°çš„è¯­è¨€ï¼Œè¿™ç§è¯­è¨€æ‹¥æœ‰è‡ªå·±çš„è¡¨è¾¾å¼å’Œç»“æ„ï¼Œå³æ–‡æ³•è§„åˆ™ï¼Œè¿™äº›é—®é¢˜çš„å®ä¾‹å°†å¯¹åº”ä¸ºè¯¥è¯­è¨€ä¸­çš„å¥å­ã€‚å¦‚åœ¨é‡‘èä¸šåŠ¡ä¸­ï¼Œç»å¸¸éœ€è¦å®šä¹‰ä¸€äº›æ¨¡å‹è¿ç®—æ¥ç»Ÿè®¡ã€åˆ†æå¤§é‡çš„é‡‘èæ•°æ®ï¼Œä»è€Œçª¥æ¢ä¸€äº›å•†ä¸šå‘å±•è¶‹åŠ¿ã€‚</p>
<blockquote>
<p>Given a language, define a representation for its grammar along with an interpreter that uses the representation to interpret sentences in the language.</p>
<p>å®šä¹‰ä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼›å¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¯¥è§£é‡Šå™¨ä½¿ç”¨è¯¥æ–‡æ³•æ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚</p>
</blockquote>
<h4 id="ç±»å›¾-2">ç±»å›¾</h4>
<p>è§£é‡Šæ¨¡å¼çš„ç±»å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/a7dd9f40-8e4f-11e8-80d1-2d51ff7e1c55.jpg" alt="enter image description here"></p>
<p>AbstractExpression è§£é‡Šå™¨çš„æŠ½è±¡ç±»ï¼Œå®šä¹‰ç»Ÿä¸€çš„è§£ææ–¹æ³•ã€‚TerminalExpression æ˜¯ç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼Œç»ˆç»“ç¬¦è¡¨è¾¾å¼æ˜¯è¯­æ³•ä¸­çš„æœ€å°å•å…ƒé€»è¾‘ï¼Œä¸å¯å†æ‹†åˆ†ï¼Œå¦‚ä¸‹é¢ç¤ºä¾‹ä¸­çš„ VarExpressionã€‚</p>
<p>NonTerminalExpression æ˜¯éç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼Œæ–¹æ³•ä¸­æ¯ä¸€æ¡è§„åˆ™å¯¹åº”ä¸€ä¸ªéç»ˆç»“è¡¨è¾¾å¼ï¼Œå¦‚ä¸‹é¢ç¤ºä¾‹ä¸­çš„ AddExpression å’Œ SubExpressionã€‚Context æ˜¯ä¸Šä¸‹æ–‡ç¯å¢ƒç±»ï¼ŒåŒ…å«è§£æå™¨ä¹‹å¤–çš„ä¸€äº›å…¨å±€ä¿¡æ¯ï¼Œå¦‚ä¸‹é¢ç¤ºä¾‹ä¸­çš„ newExp å’Œ expressionMapã€‚</p>
<h4 id="åº”ç”¨æ¡ˆä¾‹-1">åº”ç”¨æ¡ˆä¾‹</h4>
<p>æˆ‘ä»¬ç”¨æ•°å­¦ä¸­æœ€ç®€å•çš„åŠ å‡æ³•æ¥è®²è§£è§£é‡Šå™¨æ¨¡å¼çš„åº”ç”¨ã€‚å‡è®¾æœ‰å¦‚ä¸‹ä¸¤ä¸ªè¡¨è¾¾å¼è§„åˆ™ï¼š</p>
<pre tabindex="0"><code>a+b+c
a+b-c

</code></pre><p>ç”¨è§£é‡Šå™¨æ¥è§£é‡Šå…·ä½“çš„å†…å®¹ã€‚</p>
<pre tabindex="0"><code>from abc import ABCMeta, abstractmethod
# å¼•å…¥ABCMetaå’Œabstractmethodæ¥å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•

class Expression(metaclass=ABCMeta):
    &quot;æŠ½è±¡è¡¨è¾¾å¼&quot;

    @abstractmethod
    def interpreter(self, var):
        pass

class VarExpression(Expression):
    &quot;å˜é‡è§£æå™¨&quot;

    def __init__(self, key):
        self.__key = key

    def interpreter(self, var):
        return var.get(self.__key)

class SymbolExpression(Expression):
    &quot;è¿ç®—ç¬¦è§£æå™¨ï¼Œè¿ç®—ç¬¦çš„æŠ½è±¡ç±»&quot;

    def __init__(self, left, right):
        self._left = left
        self._right = right

class AddExpression(SymbolExpression):
    &quot;åŠ æ³•è§£æå™¨&quot;

    def __init__(self, left, right):
        super().__init__(left, right)

    def interpreter(self, var):
        return self._left.interpreter(var) + self._right.interpreter(var)

class SubExpression(SymbolExpression):
    &quot;å‡æ³•è§£æå™¨&quot;

    def __init__(self, left, right):
        super().__init__(left, right)

    def interpreter(self, var):
        return self._left.interpreter(var) - self._right.interpreter(var)

# import stack
class Calculator:
    &quot;è®¡ç®—å™¨ç±»&quot;

    def __init__(self, text):
        self.__expression = self.parserText(text)

    def parserText(self, expText):
        # å®šä¹‰ä¸€ä¸ªæ ˆï¼Œå¤„ç†è¿ç®—çš„å…ˆåé¡ºåº
        stack = Stack()
        left = right = None # å·¦å³è¡¨è¾¾å¼
        idx = 0
        while(idx &lt; len(expText)):
            if (expText[idx] == '+'):
                left = stack.pop()
                idx += 1
                right = VarExpression(expText[idx])
                stack.push(AddExpression(left, right))
            elif(expText[idx] == '-'):
                left = stack.pop()
                idx += 1
                right = VarExpression(expText[idx])
                stack.push(SubExpression(left, right))
            else:
                stack.push(VarExpression(expText[idx]))
            idx += 1
        return stack.pop()

    def run(self, var):
        return self.__expression.interpreter(var)

class Stack:
    &quot;å°è£…ä¸€ä¸ªå †æ ˆç±»&quot;

    def __init__(self):
        self.items = []

    def isEmpty(self):
        return len(self.items) == 0

    def push(self, item):
        self.items.append(item)

    def pop(self):
        return self.items.pop()

    def peek(self):
        if not self.isEmpty():
            return self.items[len(self.items) - 1]

    def size(self):
        return len(self.items)

</code></pre><p>æµ‹è¯•ä»£ç ï¼š</p>
<pre tabindex="0"><code>def testCalculator():
    # è·å–è¡¨è¾¾å¼
    expStr = input(&quot;è¯·è¾“å…¥è¡¨è¾¾å¼ï¼š&quot;);
    # è·å–å„å‚æ•°çš„é”®å€¼å¯¹
    newExp, expressionMap = getMapValue(expStr)
    calculator = Calculator(newExp)
    result = calculator.run(expressionMap)
    print(&quot;è¿ç®—ç»“æœä¸º:&quot; + expStr + &quot; = &quot; + str(result))

def getMapValue(expStr):
    preIdx = 0
    expressionMap = {}
    newExp = []
    for i in range(0, len(expStr)):
        if (expStr[i] == '+' or expStr[i] == '-'):
            key = expStr[preIdx:i]
            key = key.strip()  # å»é™¤å‰åç©ºå­—ç¬¦
            newExp.append(key)
            newExp.append(expStr[i])
            var = input(&quot;è¯·è¾“å…¥å‚æ•°&quot; + key + &quot;çš„å€¼ï¼š&quot;);
            var = var.strip()
            expressionMap[key] = float(var)
            preIdx = i + 1

    # å¤„ç†æœ€åä¸€ä¸ªå‚æ•°
    key = expStr[preIdx:len(expStr)]
    key = key.strip()  # å»é™¤å‰åç©ºå­—ç¬¦
    newExp.append(key)
    var = input(&quot;è¯·è¾“å…¥å‚æ•°&quot; + key + &quot;çš„å€¼ï¼š&quot;);
    var = var.strip()
    expressionMap[key] = float(var)

    return newExp, expressionMap

</code></pre><p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/b940ea80-8e4f-11e8-91f2-2b35ab59bab9.jpg" alt="enter image description here"></p>
<p>è§£é‡Šå™¨æ¨¡å¼æ˜¯ä¸€ä¸ªç®€å•çš„è¯­æ³•åˆ†æå·¥å…·ï¼Œæœ€æ˜¾è‘—çš„ä¼˜ç‚¹æ˜¯æ‹“å±•æ€§ï¼Œä¿®æ”¹è¯­æ³•è§„åˆ™åªè¦ä¿®æ”¹ç›¸åº”çš„éç»ˆç»“ç¬¦è¡¨è¾¾å¼å°±å¯ä»¥äº†ã€‚è§£é‡Šå™¨æ¨¡å¼åœ¨å®é™…çš„é¡¹ç›®å¼€å‘ä¸­åº”ç”¨çš„æ¯”è¾ƒå°‘ï¼Œå› ä¸ºç°å®å¤æ‚ï¼Œè¾ƒéš¾ç»´æŠ¤ï¼Œä½†åœ¨ä¸€äº›ç‰¹å®šçš„é¢†åŸŸè¿˜æ˜¯ä¼šè¢«ç”¨åˆ°ï¼Œå¦‚æ•°æ®åˆ†æã€ç§‘å­¦è®¡ç®—ã€æ•°æ®ç»Ÿè®¡ä¸æŠ¥è¡¨åˆ†æã€‚</p>

        </div>
    </article>
</div>
<div class="division-line"></div>
<div class="others">
    <div>æ ‡ç­¾ï¼šğŸ·ï¸<a class="post-tag" href="/tags/design/">design</a>&nbsp;</div>
    <div>åˆ†ç±»ï¼š ğŸ“’<a class="post-category" href="/categories/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/">ç™½è¯è®¾è®¡æ¨¡å¼28è®²</a>&nbsp; </div>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/20-%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E7%BB%8F%E5%85%B8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%8D%E8%A7%A3%E6%B8%8A%E6%BA%90/"><span>20 ç”Ÿæ´»ä¸­çš„è®¾è®¡æ¨¡å¼ï¼šä¸ç»å…¸è®¾è®¡æ¨¡å¼çš„ä¸è§£æ¸Šæº</span></a>
    </div>
    <div class="next">
        
        <a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/22-%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB%E8%BF%87%E6%BB%A4%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%88%B6%E4%BD%9C%E4%B8%80%E6%9D%AF%E9%B2%9C%E7%BA%AF%E7%BB%86%E8%85%BB%E7%9A%84%E8%B1%86%E6%B5%86/"><span>22 æ·±å…¥è§£è¯»è¿‡æ»¤å™¨æ¨¡å¼ï¼šåˆ¶ä½œä¸€æ¯é²œçº¯ç»†è…»çš„è±†æµ†</span></a>
    </div>
</div>

        </div>
        <div id="float">
            <ul class="float-button-bar">
    <li>
        <button class="float-button top" onclick="scrollToTop(this);">UP</button>
    </li>
    <li>
        <button class="float-button toggler" onclick="changeSkin(this);">DARK</button>
    </li>
</ul>
        </div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 2020 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    const changeSkin = () => {
        document.getElementById('page').classList.toggle('night');
    }
    const scrollToTop = () => {
        window.scrollTo(0, 0);
    }
</script>
</body>

</html>