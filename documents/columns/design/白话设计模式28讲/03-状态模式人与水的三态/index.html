<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>03 çŠ¶æ€æ¨¡å¼ï¼šäººä¸æ°´çš„ä¸‰æ€ | Yipsen Ye</title>
<meta name="description" content="ã€æ•…äº‹å‰§æƒ…ã€‘
 ä¸€ä¸ªå¤©æ°”æ™´æœ—çš„å‘¨æœ«ï¼ŒTony æƒ³å»å›¾ä¹¦é¦†ç»™è‡ªå·±å……å……ç”µã€‚äºæ˜¯èƒŒäº†ä¸€ä¸ªåŒè‚©åŒ…ï¼Œåäº†ä¸€ä¸ªå¤šå°æ—¶åœ°é“ï¼Œæ¥åˆ°äº†é¦–éƒ½å›¾ä¹¦é¦†ã€‚èµ°è¿›ä¸€ä¸ªé˜…è§ˆå®¤ï¼ŒTony çœ‹åˆ°ä¸€ä¸ªé’æ¶©çš„å°å¥³å­©æ‹¿ç€ä¸€æœ¬ä¸­å­¦ç‰©ç†æ•™ç§‘ä¹¦ï¼Œè®¤çœŸåœ°çœ‹ç€çƒ­åŠ›å­¦åŸç†â€¦â€¦å¥³å­©å®¹è²Œåƒæäº† Tony ä¸­å­¦çš„ç‰©ç†è€å¸ˆï¼Œä¸çŸ¥ä¸è§‰é—´ Tony æƒ³èµ·äº†ä»–é‚£å¯çˆ±çš„è€å¸ˆï¼Œæƒ³èµ·äº†é‚£æœ€éš¾å¿˜çš„ä¸€èŠ‚è¯¾â€¦â€¦
Viya è€å¸ˆç«™åœ¨ä¸€ä¸ªä¸‰å°ºè®²å ‚ä¸Šï¼Œæ‹¿åˆ°ä¸€æœ¬æ•™ç§‘ä¹¦ï¼Œç»™å¤§å®¶è®²ç€æ°´çš„ç‰¹æ€§ï¼šäººæœ‰å°‘å¹´ã€å£®å¹´ã€è€å¹´ä¸‰ä¸ªä¸åŒçš„é˜¶æ®µï¼›å°‘å¹´æ´»æ³¼å¯çˆ±ï¼Œå£®å¹´æ´»åŠ›å››å°„ï¼Œè€å¹´å……æ»¡æ™ºæ…§ã€‚ æ°´ä¹Ÿä¸€æ ·ï¼Œæ°´æœ‰ä¸‰ç§ä¸åŒçš„çŠ¶æ€ï¼šå›ºæ€â€”â€”å†°åšç¡¬å¯’å†·ï¼Œæ¶²æ€â€”â€”æ°´æ¸…æ¾ˆæ¸©æš–ï¼Œæ°”æ€â€”â€”æ°”è™šæ— ç¼¥ç¼ˆã€‚æ›´æœ‰æ„æ€çš„æ˜¯æ°´ä¸ä»…æœ‰ä¸‰ç§çŠ¶æ€ï¼Œè€Œä¸”ä¸‰ç§çŠ¶æ€è¿˜å¯ä»¥ç›¸äº’è½¬æ¢ã€‚å†°å¸æ”¶çƒ­é‡å¯ä»¥ç†”åŒ–æˆæ°´ï¼Œæ°´å¸æ”¶çƒ­é‡å¯ä»¥æ±½åŒ–ä¸ºæ°”ï¼Œæ°”é‡Šæ”¾çƒ­é‡å¯ä»¥å‡åæˆå†°â€¦â€¦
è™½ç„¶æ—¶éš”åå‡ å¹´ï¼Œä½† Viya è€å¸ˆé‚£ç”œç¾çš„å®¹è²Œå’Œç”ŸåŠ¨çš„è®²è¯¾æ–¹å¼ä¾ç„¶å†å†åœ¨ç›®â€¦â€¦
 ç”¨ç¨‹åºæ¥æ¨¡æ‹Ÿç”Ÿæ´» æ°´æ˜¯ä¸–ç•Œä¸Šæœ€å¥‡ç‰¹çš„ç‰©è´¨ä¹‹ä¸€ï¼Œä¸ä»…æ»‹æ¶¦ä¸‡ç‰©ï¼Œæ›´æ˜¯å˜åŒ–ä¸‡åƒã€‚ä½ å¾ˆéš¾æƒ³è±¡å†°ã€æ°´ã€æ°”å…¶å®æ˜¯åŒä¸€ä¸ªä¸œè¥¿ H2Oï¼Œçœ‹åˆ°å†°ä½ å¯èƒ½æ›´ä¼šè”æƒ³åˆ°ç»ç’ƒã€çŸ³å¤´ï¼Œçœ‹åˆ°æ°´ä½ å¯èƒ½æ›´ä¼šè”æƒ³åˆ°ç‰›å¥¶ã€å¯ä¹ï¼Œçœ‹åˆ°æ°”å¯èƒ½æ›´ä¼šè”æƒ³åˆ°ç©ºæ°”ã€æ°§æ°”ã€‚ä¸‰ä¸ªä¸åŒçŠ¶æ€ä¸‹çš„æ°´å¥½åƒæ˜¯ä¸‰ç§ä¸åŒçš„ä¸œè¥¿ã€‚
æ°´çš„çŠ¶æ€å˜åŒ–ä¸‡åƒï¼Œè€Œç¨‹åºä¹Ÿå¯ä»¥å®ç°ä¸‡åƒçš„åŠŸèƒ½ã€‚é‚£å¦‚ä½•ç”¨ç¨‹åºæ¥æ¨¡æ‹Ÿæ°´çš„ä¸‰ç§ä¸åŒçŠ¶æ€åŠç›¸äº’è½¬åŒ–å‘¢ï¼Ÿ
æˆ‘ä»¬ä»å¯¹è±¡çš„è§’åº¦æ¥è€ƒè™‘ä¼šæœ‰å“ªäº›ç±»ï¼Œé¦–å…ˆä¸ç®¡å®ƒæ˜¯ä»€ä¹ˆçŠ¶æ€å§‹ç»ˆæ˜¯æ°´ï¼ˆH2Oï¼‰ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€ä¸ª Water ç±»ï¼›è€Œå®ƒåˆæœ‰ä¸‰ç§çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸‰ä¸ªçŠ¶æ€ç±»ï¼šSolidStateï¼ŒLiquidStateï¼ŒGaseousStateï¼›ä» SolidStateï¼ŒLiquidStateï¼ŒGaseousState è¿™ä¸‰ä¸ªå•è¯ä¸­æˆ‘ä»¬ä¼šå‘ç°éƒ½æœ‰ä¸€ä¸ª State åç¼€ï¼Œäºæ˜¯æˆ‘ä»¬ä¼šæƒ³å®ƒä»¬ä¹‹é—´æ˜¯å¦æœ‰ä¸€äº›å…±æ€§ï¼Œèƒ½å¦æå–å‡ºä¸€ä¸ªæ›´æŠ½è±¡çš„ç±»ï¼Œè¿™ä¸ªç±»å°±æ˜¯çŠ¶æ€ç±»ï¼ˆStateï¼‰ã€‚è¿™äº›ç±»ä¹‹é—´çš„å…³ç³»å¤§è‡´å¦‚ä¸‹ï¼š
Okï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†å¤§æ¦‚çš„å…³ç³»ï¼Œé‚£å°±å¼€å§‹ Coding å®ç°å§ï¼Œåœ¨å®ç°çš„è¿‡ç¨‹ä¸­ä¸æ–­å®Œå–„ã€‚
æºç ç¤ºä¾‹ï¼š
class Water:&amp;quot;æ°´(H2O)&amp;quot;def __init__(self, state):self.__temperature = 25self.__state = statedef setState(self, state):self.__state = statedef changeState(self, state):if (self.__state):# cout &amp;lt;&amp;lt; &amp;quot;ç”±&amp;quot; &amp;lt;&amp;lt; m_pState-&amp;gt;GetStateName() &amp;lt;&amp;lt; &amp;quot;å˜ä¸º&amp;quot; &amp;lt;&amp;lt; pState-&amp;gt;GetStateName() &amp;lt;&amp;lt; endl;print(&amp;quot;ç”±&amp;quot;, self.__state.getStateName(), &amp;quot;å˜ä¸º&amp;quot;, state.getStateName())else:print(&amp;quot;åˆå§‹åŒ–ä¸º&amp;quot;, state.">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="nav-logo">
    <a href="http://yipsen.github.io/">
        
        <span class="nav-title">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æ–‡ç« </a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/%e7%99%bd%e8%af%9d%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f28%e8%ae%b2/">ç™½è¯è®¾è®¡æ¨¡å¼28è®²</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/00-%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%90%AF%E7%A8%8B%E4%B9%8B%E5%89%8D%E8%AF%B7%E4%B8%8D%E8%A6%81%E9%94%99%E8%BF%87%E6%88%91/">00 ç”Ÿæ´»ä¸­çš„è®¾è®¡æ¨¡å¼ï¼šå¯ç¨‹ä¹‹å‰ï¼Œè¯·ä¸è¦é”™è¿‡æˆ‘</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/01-%E7%9B%91%E5%90%AC%E6%A8%A1%E5%BC%8F%E5%9D%91%E7%88%B9%E7%9A%84%E7%83%AD%E6%B0%B4%E5%99%A8/">01 ç›‘å¬æ¨¡å¼ï¼šå‘çˆ¹çš„çƒ­æ°´å™¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/02-%E9%80%82%E9%85%8D%E6%A8%A1%E5%BC%8F%E8%BA%AB%E9%AB%98%E4%B8%8D%E5%A4%9F%E9%9E%8B%E6%9D%A5%E5%87%91/">02 é€‚é…æ¨¡å¼ï¼šèº«é«˜ä¸å¤Ÿé‹æ¥å‡‘</a></li>
                
                
                
                    <li>03 çŠ¶æ€æ¨¡å¼ï¼šäººä¸æ°´çš„ä¸‰æ€</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/04-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E4%BD%A0%E6%98%AF%E6%88%91%E7%94%9F%E5%91%BD%E7%9A%84%E5%94%AF%E4%B8%80/">04 å•ä¾‹æ¨¡å¼ï¼šä½ æ˜¯æˆ‘ç”Ÿå‘½çš„å”¯ä¸€</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/05-%E8%81%8C%E8%B4%A3%E6%A8%A1%E5%BC%8F%E6%88%91%E7%9A%84%E5%81%87%E6%9D%A1%E5%8E%BB%E5%93%AA%E4%BA%86/">05 èŒè´£æ¨¡å¼ï¼šæˆ‘çš„å‡æ¡å»å“ªäº†</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/06-%E4%B8%AD%E4%BB%8B%E6%A8%A1%E5%BC%8F%E6%89%BE%E6%88%BF%E5%AD%90%E9%97%AE%E4%B8%AD%E4%BB%8B/">06 ä¸­ä»‹æ¨¡å¼ï¼šæ‰¾æˆ¿å­é—®ä¸­ä»‹</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/07-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%B8%AE%E6%88%91%E6%8B%BF%E4%B8%80%E4%B8%8B%E5%BF%AB%E9%80%92/">07 ä»£ç†æ¨¡å¼ï¼šå¸®æˆ‘æ‹¿ä¸€ä¸‹å¿«é€’</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/08-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%E4%BD%A0%E6%83%B3%E6%80%8E%E4%B9%88%E7%A9%BF%E5%B0%B1%E6%80%8E%E4%B9%88%E7%A9%BF/">08 è£…é¥°æ¨¡å¼ï¼šä½ æƒ³æ€ä¹ˆç©¿å°±æ€ä¹ˆç©¿</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/09-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%BD%A0%E8%A6%81%E6%8B%BF%E9%93%81%E8%BF%98%E6%98%AF%E6%91%A9%E5%8D%A1/">09 å·¥å‚æ¨¡å¼ï¼šä½ è¦æ‹¿é“è¿˜æ˜¯æ‘©å¡</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/10-%E8%BF%AD%E4%BB%A3%E6%A8%A1%E5%BC%8F%E4%B8%8B%E4%B8%80%E4%B8%AA%E5%B0%B1%E6%98%AF%E4%BD%A0%E4%BA%86/">10 è¿­ä»£æ¨¡å¼ï¼šä¸‹ä¸€ä¸ªå°±æ˜¯ä½ äº†</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/11-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E8%87%AA%E5%B7%B1%E7%BB%84%E8%A3%85%E7%94%B5%E8%84%91/">11 ç»„åˆæ¨¡å¼ï¼šè‡ªå·±ç»„è£…ç”µè„‘</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/12-%E6%9E%84%E5%BB%BA%E6%A8%A1%E5%BC%8F%E6%83%B3%E8%A6%81%E8%BD%A6%E8%BF%98%E6%98%AF%E5%BA%84%E5%9B%AD/">12 æ„å»ºæ¨¡å¼ï¼šæƒ³è¦è½¦è¿˜æ˜¯åº„å›­</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/13-%E5%85%8B%E9%9A%86%E6%A8%A1%E5%BC%8F%E7%BB%99%E4%BD%A0%E4%B8%80%E4%B8%AA%E5%88%86%E8%BA%AB%E6%9C%AF/">13 å…‹éš†æ¨¡å¼ï¼šç»™ä½ ä¸€ä¸ªåˆ†èº«æœ¯</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/14-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E6%80%8E%E4%B9%88%E6%9D%A5%E4%B8%8D%E9%87%8D%E8%A6%81%E4%BA%BA%E5%88%B0%E5%B0%B1%E8%A1%8C/">14 ç­–ç•¥æ¨¡å¼ï¼šæ€ä¹ˆæ¥ä¸é‡è¦ï¼Œäººåˆ°å°±è¡Œ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/15-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E5%A4%A7%E9%97%B8%E8%9F%B9%E8%B5%B0%E8%B5%B7/">15 å‘½ä»¤æ¨¡å¼ï¼šå¤§é—¸èŸ¹ï¼Œèµ°èµ·ï¼</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/16-%E5%A4%87%E5%BF%98%E6%A8%A1%E5%BC%8F%E5%A5%BD%E8%AE%B0%E6%80%A7%E4%B8%8D%E5%A6%82%E7%83%82%E7%AC%94%E5%A4%B4/">16 å¤‡å¿˜æ¨¡å¼ï¼šå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/17-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E9%A2%9C%E6%96%99%E5%BE%88%E8%B4%B5%E5%BF%85%E9%A1%BB%E5%85%85%E5%88%86%E5%88%A9%E7%94%A8/">17 äº«å…ƒæ¨¡å¼ï¼šé¢œæ–™å¾ˆè´µå¿…é¡»å……åˆ†åˆ©ç”¨</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/18-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%AD%A6%E5%A6%B9%E5%88%AB%E6%85%8C%E5%AD%A6%E9%95%BF%E5%B8%AE%E4%BD%A0/">18 å¤–è§‚æ¨¡å¼ï¼šå­¦å¦¹åˆ«æ…Œï¼Œå­¦é•¿å¸®ä½ </a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/19-%E8%AE%BF%E9%97%AE%E6%A8%A1%E5%BC%8F%E4%B8%80%E5%8D%83%E4%B8%AA%E8%AF%BB%E8%80%85%E4%B8%80%E5%8D%83%E4%B8%AA%E5%93%88%E5%A7%86%E9%9B%B7%E7%89%B9/">19 è®¿é—®æ¨¡å¼ï¼šä¸€åƒä¸ªè¯»è€…ä¸€åƒä¸ªå“ˆå§†é›·ç‰¹</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/20-%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E7%BB%8F%E5%85%B8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%8D%E8%A7%A3%E6%B8%8A%E6%BA%90/">20 ç”Ÿæ´»ä¸­çš„è®¾è®¡æ¨¡å¼ï¼šä¸ç»å…¸è®¾è®¡æ¨¡å¼çš„ä¸è§£æ¸Šæº</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/21-%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E9%82%A3%E4%BA%9B%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">21 ç”Ÿæ´»ä¸­çš„è®¾è®¡æ¨¡å¼ï¼šé‚£äº›æœªå®Œå¾…ç»­çš„è®¾è®¡æ¨¡å¼</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/22-%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB%E8%BF%87%E6%BB%A4%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%88%B6%E4%BD%9C%E4%B8%80%E6%9D%AF%E9%B2%9C%E7%BA%AF%E7%BB%86%E8%85%BB%E7%9A%84%E8%B1%86%E6%B5%86/">22 æ·±å…¥è§£è¯»è¿‡æ»¤å™¨æ¨¡å¼ï¼šåˆ¶ä½œä¸€æ¯é²œçº¯ç»†è…»çš„è±†æµ†</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/23-%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB%E5%AF%B9%E8%B1%A1%E6%B1%A0%E6%8A%80%E6%9C%AF%E5%85%B1%E4%BA%AB%E8%AE%A9%E7%94%9F%E6%B4%BB%E6%9B%B4%E4%BE%BF%E6%8D%B7/">23 æ·±å…¥è§£è¯»å¯¹è±¡æ± æŠ€æœ¯ï¼šå…±äº«è®©ç”Ÿæ´»æ›´ä¾¿æ·</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/24-%E6%B7%B1%E5%85%A5%E8%A7%A3%E8%AF%BB%E5%9B%9E%E8%B0%83%E6%9C%BA%E5%88%B6%E6%8A%8A%E4%BD%A0%E6%8A%80%E8%83%BD%E4%BA%AE%E5%87%BA%E6%9D%A5/">24 æ·±å…¥è§£è¯»å›è°ƒæœºåˆ¶ï¼šæŠŠä½ æŠ€èƒ½äº®å‡ºæ¥</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/25-%E8%B0%88%E8%B0%88%E6%88%91%E5%AF%B9%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%90%86%E8%A7%A3/">25 è°ˆè°ˆæˆ‘å¯¹è®¾è®¡æ¨¡å¼çš„ç†è§£</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/26-%E8%B0%88%E8%B0%88%E6%88%91%E5%AF%B9%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E7%9A%84%E6%80%9D%E8%80%83/">26 è°ˆè°ˆæˆ‘å¯¹è®¾è®¡åŸåˆ™çš„æ€è€ƒ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/27-%E8%B0%88%E8%B0%88%E6%88%91%E5%AF%B9%E9%A1%B9%E7%9B%AE%E9%87%8D%E6%9E%84%E7%9A%84%E7%9C%8B%E6%B3%95/">27 è°ˆè°ˆæˆ‘å¯¹é¡¹ç›®é‡æ„çš„çœ‹æ³•</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">03 çŠ¶æ€æ¨¡å¼ï¼šäººä¸æ°´çš„ä¸‰æ€</h1>
        <div class="post-info">
            <div class="post-date"> 
                <span>2021-12-22 01:36:52</span>
            </div>
        </div>
        <div class="post-content">
            <p>ã€æ•…äº‹å‰§æƒ…ã€‘</p>
<blockquote>
<p>ä¸€ä¸ªå¤©æ°”æ™´æœ—çš„å‘¨æœ«ï¼ŒTony æƒ³å»å›¾ä¹¦é¦†ç»™è‡ªå·±å……å……ç”µã€‚äºæ˜¯èƒŒäº†ä¸€ä¸ªåŒè‚©åŒ…ï¼Œåäº†ä¸€ä¸ªå¤šå°æ—¶åœ°é“ï¼Œæ¥åˆ°äº†é¦–éƒ½å›¾ä¹¦é¦†ã€‚èµ°è¿›ä¸€ä¸ªé˜…è§ˆå®¤ï¼ŒTony çœ‹åˆ°ä¸€ä¸ªé’æ¶©çš„å°å¥³å­©æ‹¿ç€ä¸€æœ¬ä¸­å­¦ç‰©ç†æ•™ç§‘ä¹¦ï¼Œè®¤çœŸåœ°çœ‹ç€çƒ­åŠ›å­¦åŸç†â€¦â€¦å¥³å­©å®¹è²Œåƒæäº† Tony ä¸­å­¦çš„ç‰©ç†è€å¸ˆï¼Œä¸çŸ¥ä¸è§‰é—´ Tony æƒ³èµ·äº†ä»–é‚£å¯çˆ±çš„è€å¸ˆï¼Œæƒ³èµ·äº†é‚£æœ€éš¾å¿˜çš„ä¸€èŠ‚è¯¾â€¦â€¦</p>
<p>Viya è€å¸ˆç«™åœ¨ä¸€ä¸ªä¸‰å°ºè®²å ‚ä¸Šï¼Œæ‹¿åˆ°ä¸€æœ¬æ•™ç§‘ä¹¦ï¼Œç»™å¤§å®¶è®²ç€æ°´çš„ç‰¹æ€§ï¼šäººæœ‰å°‘å¹´ã€å£®å¹´ã€è€å¹´ä¸‰ä¸ªä¸åŒçš„é˜¶æ®µï¼›å°‘å¹´æ´»æ³¼å¯çˆ±ï¼Œå£®å¹´æ´»åŠ›å››å°„ï¼Œè€å¹´å……æ»¡æ™ºæ…§ã€‚ æ°´ä¹Ÿä¸€æ ·ï¼Œæ°´æœ‰ä¸‰ç§ä¸åŒçš„çŠ¶æ€ï¼šå›ºæ€â€”â€”å†°åšç¡¬å¯’å†·ï¼Œæ¶²æ€â€”â€”æ°´æ¸…æ¾ˆæ¸©æš–ï¼Œæ°”æ€â€”â€”æ°”è™šæ— ç¼¥ç¼ˆã€‚æ›´æœ‰æ„æ€çš„æ˜¯æ°´ä¸ä»…æœ‰ä¸‰ç§çŠ¶æ€ï¼Œè€Œä¸”ä¸‰ç§çŠ¶æ€è¿˜å¯ä»¥ç›¸äº’è½¬æ¢ã€‚å†°å¸æ”¶çƒ­é‡å¯ä»¥ç†”åŒ–æˆæ°´ï¼Œæ°´å¸æ”¶çƒ­é‡å¯ä»¥æ±½åŒ–ä¸ºæ°”ï¼Œæ°”é‡Šæ”¾çƒ­é‡å¯ä»¥å‡åæˆå†°â€¦â€¦</p>
<p>è™½ç„¶æ—¶éš”åå‡ å¹´ï¼Œä½† Viya è€å¸ˆé‚£ç”œç¾çš„å®¹è²Œå’Œç”ŸåŠ¨çš„è®²è¯¾æ–¹å¼ä¾ç„¶å†å†åœ¨ç›®â€¦â€¦</p>
</blockquote>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/01c7a430-d58f-11e7-8179-bbfbeabb6f9b.jpg" alt="enter image description here"></p>
<h3 id="ç”¨ç¨‹åºæ¥æ¨¡æ‹Ÿç”Ÿæ´»">ç”¨ç¨‹åºæ¥æ¨¡æ‹Ÿç”Ÿæ´»</h3>
<p>æ°´æ˜¯ä¸–ç•Œä¸Šæœ€å¥‡ç‰¹çš„ç‰©è´¨ä¹‹ä¸€ï¼Œä¸ä»…æ»‹æ¶¦ä¸‡ç‰©ï¼Œæ›´æ˜¯å˜åŒ–ä¸‡åƒã€‚ä½ å¾ˆéš¾æƒ³è±¡å†°ã€æ°´ã€æ°”å…¶å®æ˜¯åŒä¸€ä¸ªä¸œè¥¿ H2Oï¼Œçœ‹åˆ°å†°ä½ å¯èƒ½æ›´ä¼šè”æƒ³åˆ°ç»ç’ƒã€çŸ³å¤´ï¼Œçœ‹åˆ°æ°´ä½ å¯èƒ½æ›´ä¼šè”æƒ³åˆ°ç‰›å¥¶ã€å¯ä¹ï¼Œçœ‹åˆ°æ°”å¯èƒ½æ›´ä¼šè”æƒ³åˆ°ç©ºæ°”ã€æ°§æ°”ã€‚ä¸‰ä¸ªä¸åŒçŠ¶æ€ä¸‹çš„æ°´å¥½åƒæ˜¯ä¸‰ç§ä¸åŒçš„ä¸œè¥¿ã€‚</p>
<p>æ°´çš„çŠ¶æ€å˜åŒ–ä¸‡åƒï¼Œè€Œç¨‹åºä¹Ÿå¯ä»¥å®ç°ä¸‡åƒçš„åŠŸèƒ½ã€‚é‚£å¦‚ä½•ç”¨ç¨‹åºæ¥æ¨¡æ‹Ÿæ°´çš„ä¸‰ç§ä¸åŒçŠ¶æ€åŠç›¸äº’è½¬åŒ–å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬ä»å¯¹è±¡çš„è§’åº¦æ¥è€ƒè™‘ä¼šæœ‰å“ªäº›ç±»ï¼Œé¦–å…ˆä¸ç®¡å®ƒæ˜¯ä»€ä¹ˆçŠ¶æ€å§‹ç»ˆæ˜¯æ°´ï¼ˆH2Oï¼‰ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€ä¸ª Water ç±»ï¼›è€Œå®ƒåˆæœ‰ä¸‰ç§çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸‰ä¸ªçŠ¶æ€ç±»ï¼šSolidStateï¼ŒLiquidStateï¼ŒGaseousStateï¼›ä» SolidStateï¼ŒLiquidStateï¼ŒGaseousState è¿™ä¸‰ä¸ªå•è¯ä¸­æˆ‘ä»¬ä¼šå‘ç°éƒ½æœ‰ä¸€ä¸ª State åç¼€ï¼Œäºæ˜¯æˆ‘ä»¬ä¼šæƒ³å®ƒä»¬ä¹‹é—´æ˜¯å¦æœ‰ä¸€äº›å…±æ€§ï¼Œèƒ½å¦æå–å‡ºä¸€ä¸ªæ›´æŠ½è±¡çš„ç±»ï¼Œè¿™ä¸ªç±»å°±æ˜¯çŠ¶æ€ç±»ï¼ˆStateï¼‰ã€‚è¿™äº›ç±»ä¹‹é—´çš„å…³ç³»å¤§è‡´å¦‚ä¸‹ï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/b3878420-d5b1-11e7-8179-bbfbeabb6f9b.jpg" alt="enter image description here"></p>
<p>Okï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†å¤§æ¦‚çš„å…³ç³»ï¼Œé‚£å°±å¼€å§‹ Coding å®ç°å§ï¼Œåœ¨å®ç°çš„è¿‡ç¨‹ä¸­ä¸æ–­å®Œå–„ã€‚</p>
<p>æºç ç¤ºä¾‹ï¼š</p>
<pre tabindex="0"><code>class Water:
    &quot;æ°´(H2O)&quot;

    def __init__(self, state):
        self.__temperature = 25
        self.__state = state

    def setState(self, state):
        self.__state = state

    def changeState(self, state):
        if (self.__state):
            # cout &lt;&lt; &quot;ç”±&quot; &lt;&lt; m_pState-&gt;GetStateName() &lt;&lt; &quot;å˜ä¸º&quot; &lt;&lt; pState-&gt;GetStateName() &lt;&lt; endl;
            print(&quot;ç”±&quot;, self.__state.getStateName(), &quot;å˜ä¸º&quot;, state.getStateName())
        else:
            print(&quot;åˆå§‹åŒ–ä¸º&quot;, state.getStateName())
        self.__state = state

    def getTemperature(self):
        return self.__temperature

    def setTemperature(self, temperature):
        self.__temperature = temperature
        if (self.__temperature &lt;= 0):
            self.changeState(SolidState(&quot;å›ºæ€&quot;))
        elif (self.__temperature &lt;= 100):
            self.changeState(LiquidState(&quot;æ¶²æ€&quot;))
        else:
            self.changeState(GaseousState(&quot;æ°”æ€&quot;))

    def riseTemperature(self, step):
        self.setTemperature(self.__temperature + step)

    def reduceTemperature(self, step):
        self.setTemperature(self.__temperature - step)

    def behavior(self):
        self.__state.behavior(self)

class State:
    &quot;çŠ¶æ€&quot;

    def __init__(self, name):
        self.__name = name

    def getStateName(self):
        return self.__name

    def behavior(self, water):
        pass

class SolidState(State):
    &quot;å›ºæ€&quot;

    def __init__(self, name):
        super().__init__(name)

    def behavior(self, water):
        print(&quot;æˆ‘æ€§æ ¼é«˜å†·ï¼Œå½“å‰ä½“æ¸©&quot;, water.getTemperature(),
              &quot;æ‘„æ°åº¦ï¼Œæˆ‘åšå¦‚é’¢é“ï¼Œä»¿å¦‚ä¸€å†·è¡€åŠ¨ç‰©ï¼Œè¯·ç”¨æˆ‘ç ¸äººï¼Œå˜¿å˜¿â€¦â€¦&quot;)

class LiquidState(State):
    &quot;æ¶²æ€&quot;

    def __init__(self, name):
        super().__init__(name)

    def behavior(self, water):
        print(&quot;æˆ‘æ€§æ ¼æ¸©å’Œï¼Œå½“å‰ä½“æ¸©&quot;, water.getTemperature(),
              &quot;æ‘„æ°åº¦ï¼Œæˆ‘å¯æ»‹æ¶¦ä¸‡ç‰©ï¼Œé¥®ç”¨æˆ‘å¯è®©ä½ æ´»åŠ›å€å¢â€¦â€¦&quot;)

class GaseousState(State):
    &quot;æ°”æ€&quot;

    def __init__(self, name):
        super().__init__(name)

    def behavior(self, water):
        print(&quot;æˆ‘æ€§æ ¼çƒ­çƒˆï¼Œå½“å‰ä½“æ¸©&quot;, water.getTemperature(),
              &quot;æ‘„æ°åº¦ï¼Œé£å‘å¤©ç©ºæ˜¯æˆ‘æ¯•ç”Ÿçš„æ¢¦æƒ³ï¼Œåœ¨è¿™ä½ å°†çœ‹ä¸åˆ°æˆ‘çš„å­˜åœ¨ï¼Œæˆ‘å°†è¾¾åˆ°æ— æˆ‘çš„å¢ƒç•Œâ€¦â€¦&quot;)

</code></pre><p>æµ‹è¯•ä»£ç ï¼š</p>
<pre tabindex="0"><code>def testState():
    &quot;çŠ¶æ€æ¨¡å¼çš„æµ‹è¯•ä»£ç &quot;
    water = Water(LiquidState(&quot;æ¶²æ€&quot;))
    water.behavior()
    water.setTemperature(-4)
    water.behavior()
    water.riseTemperature(18)
    water.behavior()
    water.riseTemperature(110)
    water.behavior()
    water.setTemperature(60)
    water.behavior()
    water.reduceTemperature(80)
    water.behavior()

</code></pre><p>è¾“å‡ºç»“æœï¼š</p>
<pre tabindex="0"><code>æˆ‘æ€§æ ¼æ¸©å’Œï¼Œå½“å‰ä½“æ¸© 25 æ‘„æ°åº¦ï¼Œæˆ‘å¯æ»‹æ¶¦ä¸‡ç‰©ï¼Œé¥®ç”¨æˆ‘å¯è®©ä½ æ´»åŠ›å€å¢â€¦â€¦
ç”± æ¶²æ€ å˜ä¸º å›ºæ€
æˆ‘æ€§æ ¼é«˜å†·ï¼Œå½“å‰ä½“æ¸© -4 æ‘„æ°åº¦ï¼Œæˆ‘åšå¦‚é’¢é“ï¼Œä»¿å¦‚ä¸€å†·è¡€åŠ¨ç‰©ï¼Œè¯·ç”¨æˆ‘ç ¸äººï¼Œå˜¿å˜¿â€¦â€¦
ç”± å›ºæ€ å˜ä¸º æ¶²æ€
æˆ‘æ€§æ ¼æ¸©å’Œï¼Œå½“å‰ä½“æ¸© 14 æ‘„æ°åº¦ï¼Œæˆ‘å¯æ»‹æ¶¦ä¸‡ç‰©ï¼Œé¥®ç”¨æˆ‘å¯è®©ä½ æ´»åŠ›å€å¢â€¦â€¦
ç”± æ¶²æ€ å˜ä¸º æ°”æ€
æˆ‘æ€§æ ¼çƒ­çƒˆï¼Œå½“å‰ä½“æ¸© 124 æ‘„æ°åº¦ï¼Œé£å‘å¤©ç©ºæ˜¯æˆ‘æ¯•ç”Ÿçš„æ¢¦æƒ³ï¼Œåœ¨è¿™ä½ å°†çœ‹ä¸åˆ°æˆ‘çš„å­˜åœ¨ï¼Œæˆ‘å°†è¾¾åˆ°æ— æˆ‘çš„å¢ƒç•Œâ€¦â€¦
ç”± æ°”æ€ å˜ä¸º æ¶²æ€
æˆ‘æ€§æ ¼æ¸©å’Œï¼Œå½“å‰ä½“æ¸© 60 æ‘„æ°åº¦ï¼Œæˆ‘å¯æ»‹æ¶¦ä¸‡ç‰©ï¼Œé¥®ç”¨æˆ‘å¯è®©ä½ æ´»åŠ›å€å¢â€¦â€¦
ç”± æ¶²æ€ å˜ä¸º å›ºæ€
æˆ‘æ€§æ ¼é«˜å†·ï¼Œå½“å‰ä½“æ¸© -20 æ‘„æ°åº¦ï¼Œæˆ‘åšå¦‚é’¢é“ï¼Œä»¿å¦‚ä¸€å†·è¡€åŠ¨ç‰©ï¼Œè¯·ç”¨æˆ‘ç ¸äººï¼Œå˜¿å˜¿â€¦â€¦

</code></pre><h3 id="ä»å‰§æƒ…ä¸­æ€è€ƒçŠ¶æ€æ¨¡å¼">ä»å‰§æƒ…ä¸­æ€è€ƒçŠ¶æ€æ¨¡å¼</h3>
<p>ä»ä¸Šé¢çš„ Demo ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæ°´å°±æœ‰ä¸‰ç§ä¸åŒçŠ¶æ€å†°ã€æ°´ã€æ°´è’¸æ±½ï¼Œä¸‰ç§ä¸åŒçš„çŠ¶æ€æœ‰ç€å®Œå…¨ä¸ä¸€æ ·çš„å¤–åœ¨ç‰¹æ€§ï¼š</p>
<ol>
<li>å†°ï¼Œè´¨åšç¡¬ï¼Œæ— æµåŠ¨æ€§ï¼Œè¡¨é¢å…‰æ»‘ï¼›</li>
<li>æ°´ï¼Œå…·æœ‰æµåŠ¨æ€§ï¼›</li>
<li>æ°´è’¸æ±½ï¼Œè´¨è½»ï¼Œè‚‰çœ¼çœ‹ä¸è§ï¼Œå´å­˜åœ¨äºç©ºæ°”ä¸­ã€‚è¿™ä¸‰ç§çŠ¶æ€çš„ç‰¹æ€§æ˜¯ä¸æ˜¯ç›¸å·®å·¨å¤§ï¼Ÿç®€ç›´å°±ä¸åƒæ˜¯åŒä¸€ç§ä¸œè¥¿ï¼Œä½†äº‹å®å´æ˜¯ä¸ç®¡å®ƒåœ¨ä»€ä¹ˆçŠ¶æ€ï¼Œå…¶å†…éƒ¨ç»„æˆéƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æ°´åˆ†å­ï¼ˆH2Oï¼‰ã€‚</li>
</ol>
<p>å¦‚æ°´ä¸€èˆ¬ï¼Œ<strong>çŠ¶æ€</strong>å³äº‹ç‰©æ‰€å¤„çš„æŸä¸€ç§å½¢æ€ã€‚<strong>çŠ¶æ€æ¨¡å¼</strong>æ˜¯è¯´ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶è¡¨ç°çš„è¡Œä¸ºå’Œå¤–åœ¨å±æ€§ä¸ä¸€æ ·ï¼Œè¿™ä¸ªå¯¹è±¡çœ‹ä¸Šå»å°±åƒæ˜¯æ”¹å˜äº†å®ƒçš„ç±»å‹ä¸€æ ·ã€‚å› æ­¤ï¼ŒçŠ¶æ€æ¨¡å¼åˆç§°ä¸ºå¯¹è±¡çš„è¡Œä¸ºæ¨¡å¼ã€‚</p>
<h3 id="çŠ¶æ€æ¨¡å¼çš„æ¨¡å‹æŠ½è±¡">çŠ¶æ€æ¨¡å¼çš„æ¨¡å‹æŠ½è±¡</h3>
<h4 id="ä»£ç æ¡†æ¶">ä»£ç æ¡†æ¶</h4>
<p>ä¸Šé¢çš„ç¤ºä¾‹ä»£ç è¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒç²—ç³™ï¼Œä¹Ÿæœ‰ä¸€äº›ä¸å¤ªåˆç†çš„å®ç°ï¼Œå¦‚ï¼š</p>
<ol>
<li>Water çš„ setTemperatureï¼ˆselfï¼Œtemperatureï¼‰æ–¹æ³•ä¸ç¬¦åˆç¨‹åºè®¾è®¡ä¸­çš„å¼€æ”¾å°é—­åŸåˆ™ã€‚è™½ç„¶æ°´åªæœ‰ä¸‰ç§çŠ¶æ€ï¼Œä½†å…¶ä»–åœºæ™¯ä¸‹çš„çŠ¶æ€æ¨¡å¼çš„åº”ç”¨å¯èƒ½ä¼šæœ‰æ›´å¤šçš„çŠ¶æ€ï¼Œå¦‚æœè¦å†åŠ ä¸€ä¸ªçŠ¶æ€ï¼ˆStateï¼‰ï¼Œåˆ™è¦åœ¨ SetTemperature ä¸­å†ä¸€ä¸ª if else åˆ¤æ–­ã€‚</li>
<li>è¡¨ç¤ºçŠ¶æ€çš„ç±»åº”è¯¥åªä¼šæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå› ä¸ºä¸å¯èƒ½å‡ºç°â€œå›ºæ€1â€ã€â€œå›ºæ€2â€çš„æƒ…å½¢ï¼Œæ‰€ä»¥çŠ¶æ€ç±»çš„å®ç°è¦ä½¿ç”¨å•ä¾‹ï¼Œå…³äºå•ä¾‹æ¨¡å¼ï¼Œä¼šåœ¨ä¸‹ä¸€ç« ä¸­è¿›ä¸€æ­¥è®²è¿°ã€‚</li>
</ol>
<p>é’ˆå¯¹è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å®ƒè¿›è¡Œè¿›ä¸€æ­¥çš„é‡æ„å’Œä¼˜åŒ–ï¼ŒæŠ½è±¡å‡ºçŠ¶æ€æ¨¡å¼çš„æ¡†æ¶æ¨¡å‹ã€‚</p>
<pre tabindex="0"><code>class Context:
    &quot;çŠ¶æ€æ¨¡å¼çš„ä¸Šä¸‹æ–‡ç¯å¢ƒç±»&quot;
    def __init__(self):
        self.__states = []
        self.__curState = None
        # çŠ¶æ€å‘ç”Ÿå˜åŒ–ä¾èµ–çš„ä¿¡æ¯æ•°æ®,åœ¨æœ‰å¤šä¸ªå˜é‡å†³å®šçŠ¶æ€çš„
        # å®é™…å¤æ‚åº”ç”¨åœºæ™¯ä¸­ï¼Œå¯ä»¥å°†å…¶å•ç‹¬å®šä¹‰æˆä¸€ä¸ªç±»
        self.__stateInfo = 0

    def addState(self, state):
        if (state not in self.__states):
            self.__states.append(state)

    def changeState(self, state):
        if (state is None):
            return False
        if (self.__curState is None):
            print(&quot;åˆå§‹åŒ–ä¸º&quot;, state.getStateName())
        else:
            print(&quot;ç”±&quot;, self.__curState.getStateName(), &quot;å˜ä¸º&quot;, state.getStateName())
        self.__curState = state
        self.addState(state)
        return True

    def getState(self):
        return self.__curState

    def _setStateInfo(self, stateInfo):
        self.__stateInfo = stateInfo
        for state in self.__states:
            if( state.isMatch(stateInfo) ):
                self.changeState(state)

    def _getStateInfo(self):
        return self.__stateInfo

class State:
    &quot;çŠ¶æ€çš„åŸºç±»&quot;
    def __init__(self, name):
        self.__name = name

    def getStateName(self):
        return self.__name

    def isMatch(self, stateInfo):
        &quot;çŠ¶æ€ä¿¡æ¯stateInfoæ˜¯å¦åœ¨å½“å‰çš„çŠ¶æ€èŒƒå›´å†…&quot;
        return False

    def behavior(self, context):
        pass

</code></pre><h4 id="ç±»å›¾">ç±»å›¾</h4>
<p>ä¸Šé¢çš„ä»£ç æ¡†æ¶å¯ç”¨ç±»å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2028%20%E8%AE%B2%EF%BC%88%E5%AE%8C%EF%BC%89/assets/574c9b30-d5b3-11e7-ba8d-675556ef95d9.jpg" alt="enter image description here"></p>
<h3 id="åŸºäºæ¡†æ¶çš„å®ç°">åŸºäºæ¡†æ¶çš„å®ç°</h3>
<p>æœ‰äº†ä¸Šé¢çš„ä»£ç æ¡†æ¶ä¹‹åï¼Œæˆ‘ä»¬è¦å®ç°ç¤ºä¾‹ä»£ç çš„åŠŸèƒ½å°±ä¼šæ›´ç®€å•äº†ã€‚æœ€å¼€å§‹çš„ç¤ºä¾‹ä»£ç æˆ‘ä»¬å‡è®¾å®ƒä¸º version 1.0ï¼Œé‚£ä¹ˆå†çœ‹çœ‹åŸºäºæ¡†æ¶çš„ version 2.0 å§ã€‚</p>
<pre tabindex="0"><code>class Water(Context):
    &quot;æ°´(H2O)&quot;

    def __init__(self):
        super().__init__()
        self.addState(SolidState(&quot;å›ºæ€&quot;))
        self.addState(LiquidState(&quot;æ¶²æ€&quot;))
        self.addState(GaseousState(&quot;æ°”æ€&quot;))
        self.setTemperature(25)

    def getTemperature(self):
        return self._getStateInfo()

    def setTemperature(self, temperature):
        self._setStateInfo(temperature)

    def riseTemperature(self, step):
        self.setTemperature(self.getTemperature() + step)

    def reduceTemperature(self, step):
        self.setTemperature(self.getTemperature() - step)

    def behavior(self):
        state = self.getState()
        if(isinstance(state, State)):
            state.behavior(self)

# å•ä¾‹çš„è£…é¥°å™¨
def singleton(cls, *args, **kwargs):
    &quot;æ„é€ ä¸€ä¸ªå•ä¾‹çš„è£…é¥°å™¨&quot;
    instance = {}

    def __singleton(*args, **kwargs):
        if cls not in instance:
            instance[cls] = cls(*args, **kwargs)
        return instance[cls]

    return __singleton

@singleton
class SolidState(State):
    &quot;å›ºæ€&quot;

    def __init__(self, name):
        super().__init__(name)

    def isMatch(self, stateInfo):
        return stateInfo &lt; 0

    def behavior(self, context):
        if (isinstance(context, Water)):
            print(&quot;æˆ‘æ€§æ ¼é«˜å†·ï¼Œå½“å‰ä½“æ¸©&quot;, context.getTemperature(),
                  &quot;æ‘„æ°åº¦ï¼Œæˆ‘åšå¦‚é’¢é“ï¼Œä»¿å¦‚ä¸€å†·è¡€åŠ¨ç‰©ï¼Œè¯·ç”¨æˆ‘ç ¸äººï¼Œå˜¿å˜¿â€¦â€¦&quot;)

@singleton
class LiquidState(State):
    &quot;æ¶²æ€&quot;

    def __init__(self, name):
        super().__init__(name)

    def isMatch(self, stateInfo):
        return (stateInfo &gt;= 0 and stateInfo &lt; 100)

    def behavior(self, context):
        if (isinstance(context, Water)):
            print(&quot;æˆ‘æ€§æ ¼æ¸©å’Œï¼Œå½“å‰ä½“æ¸©&quot;, context.getTemperature(),
              &quot;æ‘„æ°åº¦ï¼Œæˆ‘å¯æ»‹æ¶¦ä¸‡ç‰©ï¼Œé¥®ç”¨æˆ‘å¯è®©ä½ æ´»åŠ›å€å¢â€¦â€¦&quot;)

@singleton
class GaseousState(State):
    &quot;æ°”æ€&quot;

    def __init__(self, name):
        super().__init__(name)

    def isMatch(self, stateInfo):
        return stateInfo &gt;= 100

    def behavior(self, context):
        if (isinstance(context, Water)):
            print(&quot;æˆ‘æ€§æ ¼çƒ­çƒˆï¼Œå½“å‰ä½“æ¸©&quot;, context.getTemperature(),
                  &quot;æ‘„æ°åº¦ï¼Œé£å‘å¤©ç©ºæ˜¯æˆ‘æ¯•ç”Ÿçš„æ¢¦æƒ³ï¼Œåœ¨è¿™ä½ å°†çœ‹ä¸åˆ°æˆ‘çš„å­˜åœ¨ï¼Œæˆ‘å°†è¾¾åˆ°æ— æˆ‘çš„å¢ƒç•Œâ€¦â€¦&quot;)

</code></pre><p>è¿™é‡Œåªè¦æ”¹ä¸€ä¸‹ä¸Šé¢æµ‹è¯•ä»£ç çš„ç¬¬ä¸€è¡Œå°±å¯ä»¥äº†ï¼š</p>
<pre tabindex="0"><code>water = Water()

</code></pre><p>è‡ªå·±è·‘ä¸€ä¸‹ï¼Œä¼šå‘ç°è¾“å‡ºç»“æœå’Œä¹‹å‰çš„æ˜¯ä¸€æ ·çš„ã€‚</p>
<h4 id="æ¨¡å‹è¯´æ˜">æ¨¡å‹è¯´æ˜</h4>
<ol>
<li>åœ¨çŠ¶æ€æ¨¡å¼å®ç°çš„æ—¶å€™ï¼Œå®ç°çš„åœºæ™¯çŠ¶æ€æœ‰æ—¶å€™ä¼šéå¸¸å¤æ‚ã€‚å†³å®šçŠ¶æ€å˜åŒ–çš„å› ç´ ä¹Ÿä¼šéå¸¸å¤šï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥æŠŠå†³å®šçŠ¶æ€å˜åŒ–çš„å±æ€§å•ç‹¬æŠ½è±¡æˆä¸€ä¸ªç±» StateInfoï¼Œè¿™æ ·åˆ¤æ–­çŠ¶æ€å±æ€§æ˜¯å¦ç¬¦åˆå½“å‰çš„çŠ¶æ€ isMatch æ—¶å°±å¯ä»¥ä¼ å…¥æ›´å¤šçš„ä¿¡æ¯ã€‚</li>
<li>æ¯ä¸€ç§çŠ¶æ€åº”å½“åªæœ‰å”¯ä¸€çš„ä¸€ä¸ªå®ä¾‹ã€‚</li>
</ol>
<h3 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h3>
<ol>
<li>ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å®ƒåœ¨è¿è¡Œæ—¶å¯èƒ½ç»å¸¸æ”¹å˜å®ƒçš„çŠ¶æ€ä»è€Œæ”¹å˜å®ƒçš„è¡Œä¸ºã€‚</li>
<li>ä¸€ä¸ªæ“ä½œä¸­å«æœ‰åºå¤§çš„å¤šåˆ†æ”¯çš„æ¡ä»¶è¯­å¥ï¼Œä¸”è¿™äº›åˆ†æ”¯ä¾èµ–äºè¯¥å¯¹è±¡çš„çŠ¶æ€ï¼Œä¸”æ¯ä¸€ä¸ªåˆ†æ”¯çš„ä¸šåŠ¡é€»è¾‘éå¸¸å¤æ‚æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨çŠ¶æ€æ¨¡å¼æ¥æ‹†åˆ†ä»–ä¸åŒåˆ†æ”¯é€»è¾‘ï¼Œä½¿ç¨‹åºæœ‰æ›´å¥½çš„å¯è¯»æ€§å¯ç»´æŠ¤æ€§ã€‚</li>
</ol>

        </div>
    </article>
</div>
<div class="division-line"></div>
<div class="others">
    <div>æ ‡ç­¾ï¼šğŸ·ï¸<a class="post-tag" href="/tags/design/">design</a>&nbsp;</div>
    <div>åˆ†ç±»ï¼š ğŸ“’<a class="post-category" href="/categories/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/">ç™½è¯è®¾è®¡æ¨¡å¼28è®²</a>&nbsp; </div>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/02-%E9%80%82%E9%85%8D%E6%A8%A1%E5%BC%8F%E8%BA%AB%E9%AB%98%E4%B8%8D%E5%A4%9F%E9%9E%8B%E6%9D%A5%E5%87%91/"><span>02 é€‚é…æ¨¡å¼ï¼šèº«é«˜ä¸å¤Ÿé‹æ¥å‡‘</span></a>
    </div>
    <div class="next">
        
        <a href="http://yipsen.github.io/documents/columns/design/%E7%99%BD%E8%AF%9D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F28%E8%AE%B2/04-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E4%BD%A0%E6%98%AF%E6%88%91%E7%94%9F%E5%91%BD%E7%9A%84%E5%94%AF%E4%B8%80/"><span>04 å•ä¾‹æ¨¡å¼ï¼šä½ æ˜¯æˆ‘ç”Ÿå‘½çš„å”¯ä¸€</span></a>
    </div>
</div>

        </div>
        <div id="float">
            <ul class="float-button-bar">
    <li>
        <button class="float-button top" onclick="scrollToTop(this);">UP</button>
    </li>
    <li>
        <button class="float-button toggler" onclick="changeSkin(this);">DARK</button>
    </li>
</ul>
        </div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 2020 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    const changeSkin = () => {
        document.getElementById('page').classList.toggle('night');
    }
    const scrollToTop = () => {
        window.scrollTo(0, 0);
    }
</script>
</body>

</html>