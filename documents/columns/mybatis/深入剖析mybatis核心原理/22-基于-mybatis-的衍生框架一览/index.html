<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>22 åŸºäº MyBatis çš„è¡ç”Ÿæ¡†æ¶ä¸€è§ˆ | Yipsen Ye</title>
<meta name="description" content="åœ¨å‰é¢çš„è¯¾æ—¶ä¸­ï¼Œæˆ‘ä»¬æ·±å…¥åˆ†æäº† MyBatis çš„å†…æ ¸ï¼Œäº†è§£äº† MyBatis å¤„ç†ä¸€æ¡ SQL çš„å®Œæ•´æµç¨‹ï¼Œå‰–æäº† MyBatis ä¸­åŠ¨æ€ SQLã€ç»“æœé›†æ˜ å°„ã€ç¼“å­˜ç­‰æ ¸å¿ƒåŠŸèƒ½çš„å®ç°åŸç†ã€‚åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œé™¤äº†å•çº¯ä½¿ç”¨ MyBatis ä¹‹å¤–ï¼Œè¿˜å¯èƒ½ä¼šæ¶‰åŠ MyBatis çš„è¡ç”Ÿæ¡†æ¶ï¼Œè¿™ä¸€è®²æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹å·¥ä½œä¸­å¸¸ç”¨çš„ MyBatis è¡ç”Ÿæ¡†æ¶ã€‚
MyBatis-Generator è™½ç„¶ä½¿ç”¨ MyBatis ç¼–å†™ DAO å±‚å·²ç»éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦ç¼–å†™ Mapper æ¥å£å’Œç›¸åº”çš„ Mapper.xml é…ç½®æ–‡ä»¶ã€‚ä¸ºäº†è¿›ä¸€æ­¥èŠ‚çœç¼–ç æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹© MyBatis-Generator å·¥å…·è‡ªåŠ¨ç”Ÿæˆ Mapper æ¥å£å’Œ Mapper.xml é…ç½®æ–‡ä»¶ã€‚
è¿™é‡Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•ç¤ºä¾‹ä»‹ç»ä¸€ä¸‹ MyBatis-Generator å·¥å…·çš„åŸºæœ¬åŠŸèƒ½ã€‚
MyBatis-Generator ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ 1.4.0 ç‰ˆæœ¬ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸‹è½½è¿™ä¸ªæœ€æ–°çš„ zip åŒ…ï¼Œå¹¶è¿›è¡Œè§£å‹ï¼Œå¾—åˆ° mybatis-generator-core-1.4.0.jar è¿™ä¸ª jar åŒ…ã€‚
ç”±äºæˆ‘ä»¬æœ¬åœ°ä½¿ç”¨çš„æ˜¯ MySQL æ•°æ®åº“ï¼Œæ‰€ä»¥éœ€è¦å‡†å¤‡ä¸€ä¸ª mysql-connector-java çš„ jar åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥ä»æœ¬åœ°çš„ Maven ä»“åº“ä¸­è·å¾—ï¼Œå…·ä½“çš„ç›®å½•æ˜¯ï¼š.m2/repository/mysql/mysql-connector-java/ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸­é€‰æ‹©ä¸€ä¸ªæœ€æ–°ç‰ˆæœ¬çš„ jar åŒ…æ‹·è´åˆ° mybatis-generator-core-1.4.0.jar åŒç›®å½•ä¸‹ã€‚
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ª generatorConfig.xml é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­ä¼šå‘Šè¯‰ MyBatis-Generator å»è¿æ¥å“ªä¸ªæ•°æ®åº“ã€è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç åˆ†åˆ«æ˜¯ä»€ä¹ˆã€éœ€è¦æ ¹æ®å“ªäº›è¡¨ç”Ÿæˆå“ªäº›é…ç½®æ–‡ä»¶å’Œç±»ï¼Œä»¥åŠè¿™äº›ç”Ÿæˆæ–‡ä»¶çš„å­˜æ”¾ä½ç½®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª generatorConfig.xml é…ç½®æ–‡ä»¶çš„å®Œæ•´ç¤ºä¾‹ï¼š
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&amp;lt;!DOCTYPE generatorConfigurationPUBLIC &amp;quot;-//mybatis.">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="logo-link" style="width: 60px; color: #CA6924;">
    <a href="http://yipsen.github.io/">
        <img style="margin-bottom: -1rem;" src="/images/deer.svg" alt="logo">
        <span style="font-size: 0.5rem; color: #CA6924;">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æœ­è®°</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/%e6%b7%b1%e5%85%a5%e5%89%96%e6%9e%90mybatis%e6%a0%b8%e5%bf%83%e5%8e%9f%e7%90%86/">æ·±å…¥å‰–æMyBatisæ ¸å¿ƒåŸç†</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/00-%E5%BC%80%E7%AF%87%E8%AF%8D-%E9%A2%86%E7%95%A5-mybatis-%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4%E7%AA%81%E7%A0%B4%E6%8C%81%E4%B9%85%E5%8C%96%E6%8A%80%E6%9C%AF%E7%93%B6%E9%A2%88/">00 å¼€ç¯‡è¯ é¢†ç•¥ MyBatis è®¾è®¡æ€ç»´ï¼Œçªç ´æŒä¹…åŒ–æŠ€æœ¯ç“¶é¢ˆ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/01-%E5%B8%B8%E8%A7%81%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6%E8%B5%8F%E6%9E%90%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88%E8%AE%A9%E4%BD%A0%E9%80%89%E6%8B%A9-mybatis/">01 å¸¸è§æŒä¹…å±‚æ¡†æ¶èµæï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆè®©ä½ é€‰æ‹© MyBatisï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/02-%E8%AE%A2%E5%8D%95%E7%B3%BB%E7%BB%9F%E6%8C%81%E4%B9%85%E5%B1%82%E7%A4%BA%E4%BE%8B%E5%88%86%E6%9E%9020-%E5%88%86%E9%92%9F%E5%B8%A6%E4%BD%A0%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-mybatis/">02 è®¢å•ç³»ç»ŸæŒä¹…å±‚ç¤ºä¾‹åˆ†æï¼Œ20 åˆ†é’Ÿå¸¦ä½ å¿«é€Ÿä¸Šæ‰‹ MyBatis</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/03-mybatis-%E6%BA%90%E7%A0%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8A%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90/">03 MyBatis æºç ç¯å¢ƒæ­å»ºåŠæ•´ä½“æ¶æ„è§£æ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/04-mybatis-%E5%8F%8D%E5%B0%84%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%B8%A6%E4%BD%A0%E9%A2%86%E7%95%A5%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E5%8F%8D%E5%B0%84%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF/">04 MyBatis åå°„å·¥å…·ç®±ï¼šå¸¦ä½ é¢†ç•¥ä¸ä¸€æ ·çš„åå°„è®¾è®¡æ€è·¯</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/05-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B1%BB%E5%9E%8B%E4%BD%93%E7%B3%BB%E4%B8%8E-java-%E7%B1%BB%E5%9E%8B%E4%BD%93%E7%B3%BB%E4%B9%8B%E9%97%B4%E7%9A%84%E7%88%B1%E6%81%A8%E6%83%85%E4%BB%87/">05 æ•°æ®åº“ç±»å‹ä½“ç³»ä¸ Java ç±»å‹ä½“ç³»ä¹‹é—´çš„â€œçˆ±æ¨æƒ…ä»‡â€</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/06-%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E5%8D%83%E5%8D%83%E4%B8%87mybatis-%E9%83%BD%E8%83%BD%E5%85%BC%E5%AE%B9%E7%9A%84%E7%A7%98%E5%AF%86%E6%98%AF%E4%BB%80%E4%B9%88/">06 æ—¥å¿—æ¡†æ¶åƒåƒä¸‡ï¼ŒMyBatis éƒ½èƒ½å…¼å®¹çš„ç§˜å¯†æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/07-%E6%B7%B1%E5%85%A5%E6%95%B0%E6%8D%AE%E6%BA%90%E5%92%8C%E4%BA%8B%E5%8A%A1%E6%8A%8A%E6%8F%A1%E6%8C%81%E4%B9%85%E5%8C%96%E6%A1%86%E6%9E%B6%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%85%B3%E9%94%AE%E5%91%BD%E8%84%89/">07 æ·±å…¥æ•°æ®æºå’Œäº‹åŠ¡ï¼ŒæŠŠæ¡æŒä¹…åŒ–æ¡†æ¶çš„ä¸¤ä¸ªå…³é”®å‘½è„‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/08-mapper-%E6%96%87%E4%BB%B6%E4%B8%8E-java-%E6%8E%A5%E5%8F%A3%E7%9A%84%E4%BC%98%E9%9B%85%E6%98%A0%E5%B0%84%E4%B9%8B%E9%81%93/">08 Mapper æ–‡ä»¶ä¸ Java æ¥å£çš„ä¼˜é›…æ˜ å°„ä¹‹é“</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/09-%E5%9F%BA%E4%BA%8E-mybatis-%E7%BC%93%E5%AD%98%E5%88%86%E6%9E%90%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">09 åŸºäº MyBatis ç¼“å­˜åˆ†æè£…é¥°å™¨æ¨¡å¼çš„æœ€ä½³å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/10-%E9%B8%9F%E7%9E%B0-mybatis-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%8A%8A%E6%8F%A1-mybatis-%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E8%84%89%E7%BB%9C%E4%B8%8A/">10 é¸Ÿç° MyBatis åˆå§‹åŒ–ï¼ŒæŠŠæ¡ MyBatis å¯åŠ¨æµç¨‹è„‰ç»œï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/11-%E9%B8%9F%E7%9E%B0-mybatis-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%8A%8A%E6%8F%A1-mybatis-%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E8%84%89%E7%BB%9C%E4%B8%8B/">11 é¸Ÿç° MyBatis åˆå§‹åŒ–ï¼ŒæŠŠæ¡ MyBatis å¯åŠ¨æµç¨‹è„‰ç»œï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/12-%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90%E5%8A%A8%E6%80%81-sql-%E8%AF%AD%E5%8F%A5%E8%A7%A3%E6%9E%90%E5%85%A8%E6%B5%81%E7%A8%8B%E4%B8%8A/">12 æ·±å…¥åˆ†æåŠ¨æ€ SQL è¯­å¥è§£æå…¨æµç¨‹ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/13-%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90%E5%8A%A8%E6%80%81-sql-%E8%AF%AD%E5%8F%A5%E8%A7%A3%E6%9E%90%E5%85%A8%E6%B5%81%E7%A8%8B%E4%B8%8B/">13 æ·±å…¥åˆ†æåŠ¨æ€ SQL è¯­å¥è§£æå…¨æµç¨‹ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/14-%E6%8E%A2%E7%A9%B6-mybatis-%E7%BB%93%E6%9E%9C%E9%9B%86%E6%98%A0%E5%B0%84%E6%9C%BA%E5%88%B6%E8%83%8C%E5%90%8E%E7%9A%84%E7%A7%98%E5%AF%86%E4%B8%8A/">14 æ¢ç©¶ MyBatis ç»“æœé›†æ˜ å°„æœºåˆ¶èƒŒåçš„ç§˜å¯†ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/15-%E6%8E%A2%E7%A9%B6-mybatis-%E7%BB%93%E6%9E%9C%E9%9B%86%E6%98%A0%E5%B0%84%E6%9C%BA%E5%88%B6%E8%83%8C%E5%90%8E%E7%9A%84%E7%A7%98%E5%AF%86%E4%B8%8B/">15 æ¢ç©¶ MyBatis ç»“æœé›†æ˜ å°„æœºåˆ¶èƒŒåçš„ç§˜å¯†ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/16-statementhandler%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9Asql-%E6%89%A7%E8%A1%8C%E5%92%8C%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84%E7%9A%84%E5%A5%A0%E5%9F%BA%E8%80%85/">16 StatementHandlerï¼šå‚æ•°ç»‘å®šã€SQL æ‰§è¡Œå’Œç»“æœæ˜ å°„çš„å¥ åŸºè€…</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/17-executor-%E6%89%8D%E6%98%AF%E6%89%A7%E8%A1%8C-sql-%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%B9%95%E5%90%8E%E6%8E%A8%E6%89%8B%E4%B8%8A/">17 Executor æ‰æ˜¯æ‰§è¡Œ SQL è¯­å¥çš„å¹•åæ¨æ‰‹ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/18-executor-%E6%89%8D%E6%98%AF%E6%89%A7%E8%A1%8C-sql-%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%B9%95%E5%90%8E%E6%8E%A8%E6%89%8B%E4%B8%8B/">18 Executor æ‰æ˜¯æ‰§è¡Œ SQL è¯­å¥çš„å¹•åæ¨æ‰‹ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/19-%E6%B7%B1%E5%85%A5-mybatis-%E5%86%85%E6%A0%B8%E4%B8%8E%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E7%9A%84%E6%A1%A5%E6%A2%81%E6%8E%A5%E5%8F%A3%E5%B1%82/">19 æ·±å…¥ MyBatis å†…æ ¸ä¸ä¸šåŠ¡é€»è¾‘çš„æ¡¥æ¢â€”â€”æ¥å£å±‚</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/20-%E6%8F%92%E4%BB%B6%E4%BD%93%E7%B3%BB%E8%AE%A9-mybatis-%E4%B8%96%E7%95%8C%E6%9B%B4%E5%8A%A0%E7%B2%BE%E5%BD%A9/">20 æ’ä»¶ä½“ç³»è®© MyBatis ä¸–ç•Œæ›´åŠ ç²¾å½©</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/21-%E6%B7%B1%E6%8C%96-mybatis-%E4%B8%8E-spring-%E9%9B%86%E6%88%90%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/">21 æ·±æŒ– MyBatis ä¸ Spring é›†æˆåº•å±‚åŸç†</a></li>
                
                
                
                    <li>22 åŸºäº MyBatis çš„è¡ç”Ÿæ¡†æ¶ä¸€è§ˆ</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/23-%E7%BB%93%E6%9D%9F%E8%AF%AD-%E4%BC%9A%E4%BD%BF%E7%94%A8%E5%8F%AA%E8%83%BD%E9%BB%98%E9%BB%98%E6%90%AC%E7%A0%96%E6%87%82%E5%8E%9F%E7%90%86%E6%89%8D%E8%83%BD%E5%BF%AB%E9%80%9F%E6%99%8B%E5%8D%87/">23 ç»“æŸè¯­ ä¼šä½¿ç”¨åªèƒ½é»˜é»˜â€œæ¬ç –â€ï¼Œæ‡‚åŸç†æ‰èƒ½å¿«é€Ÿæ™‹å‡</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">22 åŸºäº MyBatis çš„è¡ç”Ÿæ¡†æ¶ä¸€è§ˆ</h1>
        <div class="post-info">
            <div> 
                <span class="post-date">ğŸ“…&nbsp;2021-12-22 01:51:24</span>ğŸ·ï¸&nbsp;<a class="post-tag" href="/tags/mybatis/">mybatis</a></div><div class="post-category">
                
                ğŸ“š&nbsp;<a href="/categories/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/">æ·±å…¥å‰–æMyBatisæ ¸å¿ƒåŸç†</a>
                
            </div></div>
        <div class="post-content">
            <p>åœ¨å‰é¢çš„è¯¾æ—¶ä¸­ï¼Œæˆ‘ä»¬æ·±å…¥åˆ†æäº† MyBatis çš„å†…æ ¸ï¼Œäº†è§£äº† MyBatis å¤„ç†ä¸€æ¡ SQL çš„å®Œæ•´æµç¨‹ï¼Œå‰–æäº† MyBatis ä¸­åŠ¨æ€ SQLã€ç»“æœé›†æ˜ å°„ã€ç¼“å­˜ç­‰æ ¸å¿ƒåŠŸèƒ½çš„å®ç°åŸç†ã€‚åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œé™¤äº†å•çº¯ä½¿ç”¨ MyBatis ä¹‹å¤–ï¼Œè¿˜å¯èƒ½ä¼šæ¶‰åŠ MyBatis çš„è¡ç”Ÿæ¡†æ¶ï¼Œè¿™ä¸€è®²æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹å·¥ä½œä¸­å¸¸ç”¨çš„ MyBatis è¡ç”Ÿæ¡†æ¶ã€‚</p>
<h3 id="mybatis-generator">MyBatis-Generator</h3>
<p>è™½ç„¶ä½¿ç”¨ MyBatis ç¼–å†™ DAO å±‚å·²ç»éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦ç¼–å†™ Mapper æ¥å£å’Œç›¸åº”çš„ Mapper.xml é…ç½®æ–‡ä»¶ã€‚ä¸ºäº†è¿›ä¸€æ­¥èŠ‚çœç¼–ç æ—¶é—´ï¼Œæˆ‘ä»¬<strong>å¯ä»¥é€‰æ‹© MyBatis-Generator å·¥å…·è‡ªåŠ¨ç”Ÿæˆ Mapper æ¥å£å’Œ Mapper.xml é…ç½®æ–‡ä»¶</strong>ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•ç¤ºä¾‹ä»‹ç»ä¸€ä¸‹ MyBatis-Generator å·¥å…·çš„åŸºæœ¬åŠŸèƒ½ã€‚</p>
<p>MyBatis-Generator ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ 1.4.0 ç‰ˆæœ¬ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸‹è½½<a href="https://github.com/mybatis/generator/releases/download/mybatis-generator-1.4.0/mybatis-generator-core-1.4.0-bundle.zip?fileGuid=xxQTRXtVcqtHK6j8">è¿™ä¸ª</a>æœ€æ–°çš„ zip åŒ…ï¼Œå¹¶è¿›è¡Œè§£å‹ï¼Œå¾—åˆ° mybatis-generator-core-1.4.0.jar è¿™ä¸ª jar åŒ…ã€‚</p>
<p>ç”±äºæˆ‘ä»¬æœ¬åœ°ä½¿ç”¨çš„æ˜¯ MySQL æ•°æ®åº“ï¼Œæ‰€ä»¥éœ€è¦å‡†å¤‡ä¸€ä¸ª mysql-connector-java çš„ jar åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥ä»æœ¬åœ°çš„ Maven ä»“åº“ä¸­è·å¾—ï¼Œå…·ä½“çš„ç›®å½•æ˜¯ï¼š.m2/repository/mysql/mysql-connector-java/ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸­é€‰æ‹©ä¸€ä¸ªæœ€æ–°ç‰ˆæœ¬çš„ jar åŒ…æ‹·è´åˆ° mybatis-generator-core-1.4.0.jar åŒç›®å½•ä¸‹ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ª generatorConfig.xml é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­ä¼šå‘Šè¯‰ MyBatis-Generator å»è¿æ¥å“ªä¸ªæ•°æ®åº“ã€è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç åˆ†åˆ«æ˜¯ä»€ä¹ˆã€éœ€è¦æ ¹æ®å“ªäº›è¡¨ç”Ÿæˆå“ªäº›é…ç½®æ–‡ä»¶å’Œç±»ï¼Œä»¥åŠè¿™äº›ç”Ÿæˆæ–‡ä»¶çš„å­˜æ”¾ä½ç½®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª generatorConfig.xml é…ç½®æ–‡ä»¶çš„å®Œæ•´ç¤ºä¾‹ï¼š</p>
<pre tabindex="0"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;

&lt;!DOCTYPE generatorConfiguration

        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;

        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;

&lt;generatorConfiguration&gt;

    &lt;!-- ä½¿ç”¨çš„æ•°æ®åº“é©±åŠ¨jaråŒ… --&gt;

    &lt;classPathEntry location=&quot;mysql-connector-java-8.0.22.jar&quot;/&gt;

    &lt;!-- æŒ‡å®šæ•°æ®åº“åœ°å€ã€æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç  --&gt;

    &lt;context id=&quot;DB2Tables&quot; targetRuntime=&quot;MyBatis3&quot;&gt;

        &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot;

                connectionURL=&quot;jdbc:mysql://localhost:3306/test&quot;

                userId=&quot;root&quot;  password=&quot;xxx&quot;&gt;

        &lt;/jdbcConnection&gt;

        &lt;javaTypeResolver&gt;

            &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot;/&gt;

        &lt;/javaTypeResolver&gt;

        &lt;!-- ç”Ÿæˆçš„Modelç±»å­˜æ”¾ä½ç½® --&gt;

        &lt;javaModelGenerator targetPackage=&quot;org.example&quot; targetProject=&quot;src&quot;&gt;

            &lt;!-- æ˜¯å¦æ”¯æŒç”Ÿæˆå­package --&gt;

            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;

            &lt;!-- å¯¹Stringè¿›è¡Œæ“ä½œæ—¶ï¼Œä¼šæ·»åŠ trim()æ–¹æ³•è¿›è¡Œå¤„ç† --&gt;

            &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt;

        &lt;/javaModelGenerator&gt;

        &lt;!-- ç”Ÿæˆçš„Mapper.xmlæ˜ å°„é…ç½®æ–‡ä»¶çš„å­˜æ”¾ä½ç½®--&gt;

        &lt;sqlMapGenerator targetPackage=&quot;org.example.mapper&quot; targetProject=&quot;src&quot;&gt;

            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;

        &lt;/sqlMapGenerator&gt;

        &lt;!-- ç”Ÿæˆçš„Mapperæ¥å£çš„å­˜æ”¾ä½ç½®--&gt;

        &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;org.example.mapper&quot; 

                     targetProject=&quot;src&quot;&gt;

            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;

        &lt;/javaClientGenerator&gt;

        &lt;!-- æ•°æ®åº“è¡¨ä¸Modelç±»ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ ¹æ®t_customerè¡¨è¿›è¡Œæ˜ å°„--&gt;

        &lt;table schema=&quot;test&quot; tableName=&quot;t_customer&quot; domainObjectName=&quot;Customer&quot;

               enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; 

               enableDeleteByExample=&quot;false&quot;

               enableSelectByExample=&quot;false&quot; selectByExampleQueryId=&quot;false&quot;&gt;

        &lt;/table&gt;

    &lt;/context&gt;

&lt;/generatorConfiguration&gt;
</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬å‡†å¤‡ä¸€ä¸‹æ•°æ®åº“ä¸­çš„è¡¨ï¼Œåœ¨ MySQL ä¸­å»ºç«‹ä¸€ä¸ª test æ•°æ®åº“ï¼Œå¹¶åˆ›å»º t_customer è¡¨ï¼Œä½¿ç”¨åˆ°çš„å»ºåº“å»ºè¡¨è¯­å¥å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>create databases test; # åˆ›å»ºæ•°æ®åº“

use test;

DROP TABLE IF EXISTS `t_customer`; # åˆ é™¤å·²æœ‰çš„t_customerè¡¨

CREATE TABLE `t_customer` ( # åˆ›å»ºt_customerè¡¨

  `id` int(255) NOT NULL,

  `name` varchar(255) DEFAULT NULL,

  `password` varchar(255) DEFAULT NULL,

  `account` bigint(255) DEFAULT NULL,

  PRIMARY KEY (`id`)

) ENGINE=InnoDB DEFAULT CHARSET=utf8;
</code></pre><p>æœ€åï¼Œæˆ‘ä»¬åœ¨ mybatis-generator-core-1.4.0.jar åŒ…åŒç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª src ç›®å½•ï¼Œå­˜æ”¾ç”Ÿæˆçš„ä»£ç ï¼Œç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œé€†å‘ç”Ÿæˆéœ€è¦çš„ä»£ç ï¼š</p>
<pre tabindex="0"><code>java -jar mybatis-generator-core-1.4.0.jar -configfile generatorConfig.xml
</code></pre><p>å‘½ä»¤æ­£å¸¸æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥çœ‹åˆ° src ç›®å½•ä¸‹ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%20MyBatis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E5%AE%8C/assets/CioPOWBtTDqAYagkAABmeFv2Z84519.png" alt="Drawing 0.png"></p>
<p>MyBatis-Generator å·¥å…·ç±»ç”Ÿæˆç»“æœå›¾</p>
<p>ç”Ÿæˆçš„ Customer.java ç±»æ˜¯ä¸€ä¸ª Model ç±»ï¼ˆæˆ–è€…è¯´ Domain ç±»ï¼‰ï¼ŒåŒ…å«äº† idã€nameã€passwordã€account å±æ€§ï¼›CustomerMapper.xml æ˜¯ Customer å¯¹åº”çš„ Mapper.xml é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­å®šä¹‰äº†æŒ‰ç…§ id è¿›è¡ŒæŸ¥è¯¢å’Œåˆ é™¤çš„ selectã€delete è¯­å¥ï¼Œä»¥åŠå…¨å­—æ®µå†™å…¥å’Œæ›´æ–°çš„ insertã€update è¯­å¥ï¼›CustomerMapper æ¥å£ä¸­åŒ…å«äº†ä¸ CustomerMapper.xml å¯¹åº”çš„æ–¹æ³•ã€‚è¯¥ç¤ºä¾‹ä¸­ç”Ÿæˆçš„ä»£ç å¹¶ä¸å¤æ‚ï¼Œåœ¨ä½ ç”Ÿæˆä»£ç ä¹‹åï¼Œä¹Ÿå¸Œæœ›ä½ èƒ½å¤Ÿè‡ªå·±åˆ†æä¸€ä¸‹ã€‚</p>
<h3 id="mybatis-åˆ†é¡µæ’ä»¶">MyBatis åˆ†é¡µæ’ä»¶</h3>
<p>MyBatis æœ¬èº«æä¾›äº† RowBounds å‚æ•°ï¼Œå¯ä»¥å®ç°åˆ†é¡µçš„æ•ˆæœï¼Œä½†æ˜¯åœ¨å‰é¢[ç¬¬ 14 è®²]ä¸­æˆ‘ä»¬æåˆ°è¿‡ï¼Œé€šè¿‡ RowBounds æ–¹å¼å®ç°åˆ†é¡µçš„æ—¶å€™ï¼Œæœ¬è´¨æ˜¯å°†æ•´ä¸ªç»“æœé›†æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶ååœ¨å†…å­˜ä¸­è¿‡æ»¤å‡ºéœ€è¦çš„æ•°æ®ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯æˆ‘ä»¬å¸¸è¯´çš„â€œå†…å­˜åˆ†é¡µâ€ã€‚è€ŒçœŸæ­£çš„åˆ†é¡µæ˜¯ä¸ºäº†è§£å†³æ•°æ®é‡å¤ªå¤§ï¼Œæ— æ³•ç›´æ¥åŠ è½½åˆ°å†…å­˜æˆ–æ— æ³•ç›´æ¥ä¼ è¾“çš„é—®é¢˜ï¼Œæ˜¾ç„¶â€œå†…å­˜åˆ†é¡µâ€å¹¶æ²¡æœ‰è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ä½ å¦‚æœç”¨è¿‡ MySQL çš„è¯ï¼Œåº”è¯¥çŸ¥é“æˆ‘ä»¬å¸¸ç”¨ limit æ–¹å¼è¿›è¡Œåˆ†é¡µï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ¡ select è¯­å¥ï¼š</p>
<pre tabindex="0"><code>select * from t_customer limit 5,10;
</code></pre><p>ä½¿ç”¨ Oracle å®ç°åˆ†é¡µæ—¶ï¼Œåˆ™éœ€è¦ç”¨ rownum å®ç°ï¼Œå¯è§åœ¨ä¸åŒæ•°æ®åº“ä¸­å®ç°ç‰©ç†åˆ†é¡µçš„å†™æ³•å„ä¸ç›¸åŒã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³å±è”½åº•å±‚æ•°æ®åº“çš„åˆ†é¡µ SQL è¯­å¥çš„å·®å¼‚ï¼ŒåŒæ—¶ä½¿ç”¨ MyBatis çš„ RowBounds å‚æ•°å®ç°â€œç‰©ç†åˆ†é¡µâ€ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ MyBatis çš„åˆ†é¡µæ’ä»¶<a href="https://github.com/pagehelper/Mybatis-PageHelper?fileGuid=xxQTRXtVcqtHK6j8">PageHelper</a>ã€‚PageHelper çš„ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦åœ¨ pom.xml ä¸­å¼•å…¥ PageHelper ä¾èµ–åŒ…ï¼Œå¹¶åœ¨ mybatis-config.xml é…ç½®æ–‡ä»¶ä¸­é…ç½® PageInterceptor æ’ä»¶å³å¯ï¼Œæ ¸å¿ƒé…ç½®å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>&lt;plugins&gt;

    &lt;plugin interceptor=&quot;com.github.pagehelper.PageInterceptor&quot;&gt;

        &lt;property name=&quot;helperDialect&quot; value=&quot;mysql&quot;/&gt;

&lt;/plugin&gt;

&lt;/plugins&gt;
</code></pre><p><strong>PageHelper æ ¸å¿ƒåŸç†æ˜¯ä½¿ç”¨ MyBatis çš„æ’ä»¶æœºåˆ¶ï¼Œæ•´ä¸ªæ’ä»¶çš„å…¥å£æ˜¯åœ¨ PageInterceptor</strong>ã€‚</p>
<p>åœ¨ PageInterceptor åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šæ ¹æ®é…ç½®çš„ helperDialect å±æ€§ä»¥åŠ MyBatis ä½¿ç”¨çš„ JDBC URL ä¿¡æ¯ç¡®å®šåº•å±‚è¿æ¥çš„æ•°æ®åº“ç±»å‹ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª Dialect å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥å†æ¥çœ‹ PageInterceptor çš„æ³¨è§£ä¿¡æ¯ï¼Œä¼šå‘ç° PageInterceptor ä¼šæ‹¦æˆª Executor ä¸­å¸¦æœ‰ RowBounds å‚æ•°çš„ä¸¤ä¸ªæŸ¥è¯¢æ–¹æ³•ã€‚æ‹¦æˆªåˆ°ç›®æ ‡æ–¹æ³•ä¹‹åï¼ŒPageInterceptor.intercept() æ–¹æ³•ä¼šé€šè¿‡ Dialect å¯¹è±¡å®Œæˆåˆ†é¡µæ“ä½œï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>List resultList;

// åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œåˆ†é¡µ

if (!dialect.skip(ms, parameter, rowBounds)) {

    // æ˜¯å¦éœ€è¦æŸ¥è¯¢æ€»è®°å½•æ•°ï¼Œè¿™å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ˜¾ç¤ºæ€»é¡µæ•°

    if (dialect.beforeCount(ms, parameter, rowBounds)) {

        // æŸ¥è¯¢æ€»è®°å½•æ•°

        Long count = count(executor, ms, parameter, rowBounds, null, boundSql);

        // å¤„ç†æŸ¥è¯¢æ€»è®°å½•æ•°ï¼Œè¿”å›trueæ—¶ç»§ç»­åˆ†é¡µæŸ¥è¯¢ï¼Œfalseæ—¶ç›´æ¥è¿”å›ï¼Œä¼šè¿”å›falseçš„åŸå› å¾ˆå¤šï¼Œå¯èƒ½æ˜¯countä¸º0ï¼Œæˆ–æ˜¯å½“å‰å·²ç»åˆ°æœ€åä¸€é¡µç­‰åŸå› 

        if (!dialect.afterCount(count, parameter, rowBounds)) {

            return dialect.afterPage(new ArrayList(), parameter, rowBounds);

        }

    }

    // æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢

    resultList = ExecutorUtil.pageQuery(dialect, executor,

            ms, parameter, rowBounds, resultHandler, boundSql, cacheKey);

} else {

    // å¦‚æœä¸éœ€è¦ï¼Œç›´æ¥äº¤ç»™Executoræ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿”å›ç»“æœ

    resultList = executor.query(ms, parameter, rowBounds, resultHandler, cacheKey, boundSql);

}

// åœ¨afterPage()æ–¹æ³•ä¸­ä¼šå®Œæˆæ€»é¡µæ•°çš„è®¡ç®—ç­‰åç½®æ“ä½œ

return dialect.afterPage(resultList, parameter, rowBounds);
</code></pre><p>é€šè¿‡å¯¹ PageInterceptor çš„åˆ†ææˆ‘ä»¬çœ‹åˆ°ï¼Œ<strong>æ ¸å¿ƒçš„åˆ†é¡µé€»è¾‘éƒ½æ˜¯åœ¨ Dialect ä¸­å®Œæˆçš„</strong>ï¼ŒPageHelper é’ˆå¯¹æ¯ä¸ªæ•°æ®åº“éƒ½æä¾›äº†ä¸€ä¸ª Dialect æ¥å£å®ç°ã€‚ä¸‹å›¾å±•ç¤ºäº† MySQL æ•°æ®åº“å¯¹åº”çš„ Dialect æ¥å£å®ç°ï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%20MyBatis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E5%AE%8C/assets/Cgp9HWBtTFKAVlWCAACyAbYHCQg938.png" alt="Drawing 1.png"></p>
<p>MySqlDialect çš„ç»§æ‰¿å…³ç³»å›¾</p>
<p>åœ¨ä¸Šå›¾ä¸­ï¼ŒPageHelper æ˜¯ä¸€ä¸ªé€šç”¨çš„ Dialect å®ç°ï¼Œä¼šå°†ä¸Šè¿°åˆ†é¡µæ“ä½œå§”æ‰˜ç»™å½“å‰çº¿ç¨‹ç»‘å®šçš„ Dialect å®ç°è¿›è¡Œå¤„ç†ï¼Œè¿™ä¸»è¦æ˜¯é å…¶ä¸­çš„ autoDialect å­—æ®µï¼ˆPageAutoDialect ç±»å‹ï¼‰å®ç°çš„ã€‚AbstractDialect ä¸­åªæä¾›äº†ä¸€ä¸ªç”Ÿæˆâ€œæŸ¥è¯¢æ€»è®°å½•æ•°â€SQL è¯­å¥ï¼ˆå³ select count(*) è¯­å¥ï¼‰çš„åŠŸèƒ½ã€‚</p>
<p>AbstractRowBoundsDialect è¿™æ¡ç»§æ‰¿çº¿æ˜¯é’ˆå¯¹ RowBounds è¿›è¡Œåˆ†é¡µçš„ Dialect å®ç°ï¼Œå…¶ä¸­ä¼šæ ¹æ® RowBounds å®ç° Dialect æ¥å£ï¼Œä¾‹å¦‚ï¼Œåœ¨ MySqlRowBoundsDialect ä¸­çš„ getPageSql() æ–¹æ³•å®ç°ä¸­ä¼šæ”¹å†™ SQL è¯­å¥ï¼Œæ·»åŠ  limit å­å¥ï¼Œå…¶ä¸­çš„ offsetã€limit å‚æ•°å‡æ¥è‡ªä¼ å…¥çš„ RowBounds å‚æ•°ã€‚</p>
<p>å¦‚æœæ²¡æœ‰ç”¨ RowBounds å‚æ•°è¿›è¡Œåˆ†é¡µï¼Œè€Œæ˜¯åœ¨ä¼ å…¥çš„ SQL è¯­å¥ç»‘å®šå®å‚ï¼ˆå³ Executor.query() æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•° parameterï¼‰ä¸­æŒ‡å®š pageNumã€pageSize ç­‰åˆ†é¡µä¿¡æ¯ï¼Œåˆ™ä¼šèµ° AbstractHelperDialect è¿™æ¡ç»§æ‰¿çº¿ã€‚åœ¨ PageObjectUtil è¿™ä¸ªå·¥å…·ç±»ä¸­ï¼Œä¼šä»ç»‘å®šå®å‚ä¸­è§£æå‡ºåˆ†é¡µä¿¡æ¯å¹¶å°è£…æˆ Page å¯¹è±¡ï¼Œç„¶åä¼ é€’ç»™ AbstractHelperDialect å®Œæˆåˆ†é¡µæ“ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨ MySqlDialect å®ç°ä¸­çš„ getPageSql() æ–¹æ³•å’Œ processPageParameter() æ–¹æ³•ï¼Œéƒ½ä¼šä» Page å‚æ•°ä¸­è·å–åˆ†é¡µä¿¡æ¯ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„å…·ä½“å®ç°å°±ç•™ç»™ä½ è‡ªå·±åˆ†æäº†ã€‚</p>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼ŒPageHelper åˆ†é¡µæ’ä»¶ä¸­çš„åˆ†é¡µåŠŸèƒ½å°±ä»‹ç»å®Œäº†ï¼Œé™¤äº†åŸºæœ¬çš„åˆ†é¡µåŠŸèƒ½ï¼ŒPageHelper è¿˜æä¾›äº†åˆ†é¡µä½¿ç”¨çš„ç¼“å­˜ç­‰ç›¸å…³èƒ½åŠ›ï¼Œè¿™é‡Œå°±ä¸å†å±•å¼€è¯¦ç»†åˆ†æäº†ï¼Œä½ è‹¥æ„Ÿå…´è¶£çš„è¯å¯ä»¥ä¸‹è½½å…¶æºç è¿›è¡Œæ·±å…¥åˆ†æã€‚</p>
<h3 id="mybatis-plus">MyBatis-Plus</h3>
<p>MyBatis-Plus æ˜¯å›½äººå¼€å‘çš„ä¸€æ¬¾ MyBatis å¢å¼ºå·¥å…·ï¼Œé€šè¿‡å…¶åå­—å°±èƒ½çœ‹å‡ºï¼Œ<strong>å®ƒå¹¶æ²¡æœ‰æ”¹å˜ MyBatis æœ¬èº«çš„åŠŸèƒ½ï¼Œè€Œæ˜¯åœ¨ MyBatis çš„åŸºç¡€ä¸Šæä¾›äº†å¾ˆå¤šå¢å¼ºåŠŸèƒ½ï¼Œä½¿æˆ‘ä»¬çš„å¼€å‘æ›´åŠ ç®€æ´é«˜æ•ˆ</strong>ã€‚ä¹Ÿæ­£æ˜¯ç”±äºå…¶â€œåªåšå¢å¼ºä¸åšæ”¹å˜â€çš„ç‰¹æ€§ï¼Œè®©æˆ‘ä»¬å¯ä»¥åœ¨ä½¿ç”¨ MyBatis çš„é¡¹ç›®ä¸­æ— æ„ŸçŸ¥åœ°å¼•å…¥ MyBatis-Plusã€‚</p>
<p>MyBatis-Plus å¯¹ MyBatis çš„å¾ˆå¤šæ–¹é¢è¿›è¡Œäº†å¢å¼ºï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å†…ç½®äº†é€šç”¨çš„ Mapper å’Œé€šç”¨çš„ Serviceï¼Œåªéœ€è¦æ·»åŠ å°‘é‡é…ç½®å³å¯å®ç° DAO å±‚å’Œ Service å±‚ï¼›</li>
<li>å†…ç½®äº†ä¸€ä¸ªåˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ï¼Œå¯ä»¥æä¾›åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„ ID ç”Ÿæˆç­–ç•¥ï¼›</li>
<li>é€šè¿‡ Maven æ’ä»¶å¯ä»¥é›†æˆç”Ÿæˆä»£ç èƒ½åŠ›ï¼Œå¯ä»¥å¿«é€Ÿç”Ÿæˆ Mapperã€Service ä»¥åŠ Controller å±‚çš„ä»£ç ï¼ŒåŒæ—¶æ”¯æŒæ¨¡å—å¼•æ“çš„ç”Ÿæˆï¼›</li>
<li>å†…ç½®äº†åˆ†é¡µæ’ä»¶ï¼Œå¯ä»¥å®ç°å’Œ PageHelper ç±»ä¼¼çš„â€œç‰©ç†åˆ†é¡µâ€ï¼Œè€Œä¸”åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“ï¼›</li>
<li>å†…ç½®äº†ä¸€æ¬¾æ€§èƒ½åˆ†ææ’ä»¶ï¼Œé€šè¿‡è¯¥æ’ä»¶æˆ‘ä»¬å¯ä»¥è·å–ä¸€æ¡ SQL è¯­å¥çš„æ‰§è¡Œæ—¶é—´ï¼Œå¯ä»¥æ›´å¿«åœ°å¸®åŠ©æˆ‘ä»¬å‘ç°æ…¢æŸ¥è¯¢ã€‚</li>
</ul>
<p>æ—¢ç„¶ MyBatis-Plus åœ¨ MyBatis ä¹‹ä¸Šæä¾›äº†è¿™ä¹ˆå¤šçš„æ‰©å±•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ¥å¿«é€Ÿä¸Šæ‰‹ä½“éªŒä¸€ä¸‹ MyBatis-Plusã€‚è¿™é‡Œæˆ‘ä»¬ä¾æ—§é€‰ç”¨ MySQL æ•°æ®åº“ï¼Œå¤ç”¨ä¸Šé¢ä»‹ç» MyBatis-Generator ç¤ºä¾‹æ—¶ç”¨åˆ°çš„ test åº“å’Œ t_customer è¡¨ã€‚</p>
<p>é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ª Spring Boot é¡¹ç›®ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Spring å®˜ç½‘æä¾›çš„<a href="https://start.spring.io/?fileGuid=xxQTRXtVcqtHK6j8">é¡¹ç›®ç”Ÿæˆå™¨</a>å¿«é€Ÿç”Ÿæˆï¼Œå¯¼å…¥ IDEA ä¹‹åä¼šå‘ç° Spring Boot çš„é…ç½®å’Œå¯åŠ¨ç±»éƒ½å·²ç»ç”Ÿæˆå¥½äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%20MyBatis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E5%AE%8C/assets/Cgp9HWBtTGCAB50qAADaNi9sMew051.png" alt="Drawing 2.png"></p>
<p>Spring Boot ç¤ºä¾‹é¡¹ç›®çš„ç»“æ„å›¾</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ‰“å¼€ pom.xml æ–‡ä»¶ï¼Œçœ‹åˆ°å…¶ä¸­å·²ç»è‡ªåŠ¨æ·»åŠ äº† Spring Boot çš„å…¨éƒ¨ä¾èµ–ï¼Œæ­¤æ—¶åªéœ€è¦æ·»åŠ  mysql-connector-java ä¾èµ–ä»¥åŠ MyBatis-Plus ä¾èµ–å³å¯ï¼ˆç›®å‰ MyBatis-Plus æœ€æ–°ç‰ˆæœ¬æ˜¯ 3.4.2ï¼‰ï¼š</p>
<pre tabindex="0"><code>&lt;dependency&gt;

    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;

    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;

    &lt;version&gt;3.4.2&lt;/version&gt;

&lt;/dependency&gt;

&lt;dependency&gt;

    &lt;groupId&gt;mysql&lt;/groupId&gt;

    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;

&lt;/dependency&gt;
</code></pre><p>å†æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¿®æ”¹ application.properties æ–‡ä»¶ï¼Œæ·»åŠ æ•°æ®åº“çš„ç›¸å…³é…ç½®ï¼š</p>
<pre tabindex="0"><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.datasource.url=jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8

spring.datasource.username=root

spring.datasource.password=xxx
</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬å¼€å§‹ç¼–å†™ Customer ç±»å’Œ CustomerMapper æ¥å£ï¼Œè¿™ä¸¤ä¸ªç±»éå¸¸ç®€å•ï¼ŒCustomer ç±»ä¸­éœ€è¦å®šä¹‰ t_customer è¡¨ä¸­å„åˆ—å¯¹åº”çš„å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>@TableName(value = &quot;t_customer&quot;) // é€šè¿‡@TableNameæ³¨è§£ï¼ŒæŒ‡å®šCustomerä¸ t_customerè¡¨çš„å…³è”å…³ç³»

public class Customer {

    private Integer id;

    private String name;

    private String password;

    private Long account;

    // çœç•¥ä¸Šè¿°å­—æ®µçš„getter/setteræ–¹æ³•ï¼Œä»¥åŠtoString()æ–¹æ³•

}
</code></pre><p>CustomerMapper æ¥å£çš„å®šä¹‰æ›´åŠ ç®€å•ï¼Œåªéœ€è¦ç»§æ‰¿ BaseMapper å³å¯ï¼Œå…·ä½“å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>public interface CustomerMapper extends BaseMapper&lt;Customer&gt; {

  // æ— é¡»æä¾›ä»»ä½•æ–¹æ³•å®šä¹‰ï¼Œè€Œæ˜¯ä»BaseMapperç»§æ‰¿

}
</code></pre><p>æœ€åï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹è¿™ä¸ª Spring Boot é¡¹ç›®çš„å¯åŠ¨ç±» DemoApplicationï¼Œåœ¨å…¶ä¸­æ·»åŠ  @MapperScan æ³¨è§£æŒ‡å®š Mapper æ¥å£æ‰€åœ¨çš„åŒ…ï¼Œè¯¥æ³¨è§£ä¼šè‡ªåŠ¨è¿›è¡Œæ‰«æï¼ŒDemoApplication çš„å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>@SpringBootApplication

@MapperScan(&quot;com.example.demo.mapper&quot;)

public class DemoApplication {

    public static void main(String[] args) {

        SpringApplication.run(DemoApplication.class, args);

    }

}
</code></pre><p>å®Œæˆä¸Šè¿°ç¤ºä¾‹çš„ç¼–å†™ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ¥æŸ¥è¯¢ t_customer è¡¨ä¸­çš„æ•°æ®ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>@RunWith(SpringRunner.class)

@SpringBootTest

class DemoApplicationTests {

    @Autowired

    private CustomerMapper customerMapper;

    @Test

    public void testSelect() {

        Customer customer = new Customer();

        customer.setId(1);

        customer.setName(&quot;Bob&quot;);

        customer.setPassword(&quot;pwd&quot;);

        customer.setAccount(10097L);

        int insert = customerMapper.insert(customer);

        System.out.println(&quot;affect row num:&quot; + insert);

        List&lt;Customer&gt; userList = customerMapper.selectList(null);

        userList.forEach(System.out::println);

    }

}
</code></pre><p>æ‰§è¡Œè¯¥å•å…ƒæµ‹è¯•ä¹‹åï¼Œå¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š</p>
<pre tabindex="0"><code>affect row num:1

Customer{id=1, name='Bob', password='pwd', account=10097}
</code></pre><p>MyBatis-Plus çš„åŸºç¡€ä½¿ç”¨ç¤ºä¾‹å°±ä»‹ç»åˆ°è¿™é‡Œäº†ã€‚å¦å¤–ï¼ŒMyBatis-Plus<a href="https://baomidou.com/guide/#%E7%89%B9%E6%80%A7?fileGuid=xxQTRXtVcqtHK6j8">å®˜æ–¹æ–‡æ¡£</a>ä¸­è¿˜æä¾›äº†å¾ˆå¤šæ ¸å¿ƒåŠŸèƒ½çš„è¯´æ˜å’Œä»‹ç»ï¼ŒåŒæ—¶ MyBatis-Plus è¿˜æä¾›äº†<a href="https://github.com/baomidou/mybatis-plus-samples?fileGuid=xxQTRXtVcqtHK6j8">ç¤ºä¾‹ GitHub ä»“åº“</a>ï¼Œå…¶ä¸­åŒ…å«äº†éå¸¸å¤šçš„ MyBatis-Plus ç¤ºä¾‹ä»£ç å’Œä½¿ç”¨æŠ€å·§ï¼Œéå¸¸å€¼å¾—ä½ å‚è€ƒã€‚</p>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>åœ¨è¿™ä¸€è®²æˆ‘ä»¬é‡ç‚¹ä»‹ç»äº† MyBatis ç›¸å…³çš„è¾…åŠ©å·¥å…·ä»¥åŠåœ¨ MyBatis ä¹‹ä¸Šè¡ç”Ÿå‡ºæ¥çš„æ‰©å±•æ¡†æ¶ã€‚</p>
<ul>
<li>é¦–å…ˆï¼Œåˆ†æäº† MyBatis-Generator å·¥å…·ï¼Œå®ƒå¯ä»¥æ ¹æ®æˆ‘ä»¬å·²æœ‰çš„æ•°æ®è¡¨å¿«é€Ÿç”Ÿæˆ MyBatis ä¸­çš„ Domain ç±»ã€Mapper æ¥å£ä»¥åŠ Mapper.xml æ–‡ä»¶ã€‚</li>
<li>ç„¶åï¼Œä»‹ç»äº† MyBatis åˆ†é¡µæ’ä»¶â€”â€” PageHelperï¼ŒPageHelper å¯ä»¥è®©æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ RowBounds API å®ç°â€œå†…å­˜åˆ†é¡µâ€ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°å¯¹ä¸åŒæ•°æ®åº“äº§å“çš„åˆ†é¡µåŠŸèƒ½ã€‚</li>
<li>æœ€åï¼Œè¿˜è®²è§£äº† MyBatis-Plus æ¡†æ¶ï¼ŒMyBatis-Plus å†…ç½®äº†é»˜è®¤çš„ DAO å’Œ Service å®ç°ä»¥åŠåˆ†é¡µåŠŸèƒ½ï¼Œå¯ä»¥å¤§å¹…åº¦æé«˜å¼€å‘æ•ˆç‡ï¼Œä½ ä¹Ÿå¯ä»¥ç»“åˆæˆ‘å±•ç¤ºçš„ç¤ºä¾‹æ¥å¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹ MyBatis-Plus æ¡†æ¶ã€‚</li>
</ul>

        </div>
    </article>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/21-%E6%B7%B1%E6%8C%96-mybatis-%E4%B8%8E-spring-%E9%9B%86%E6%88%90%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/"><span>21 æ·±æŒ– MyBatis ä¸ Spring é›†æˆåº•å±‚åŸç†</span></a>
    </div>
    <div class="next">
        
        <a href="/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/23-%E7%BB%93%E6%9D%9F%E8%AF%AD-%E4%BC%9A%E4%BD%BF%E7%94%A8%E5%8F%AA%E8%83%BD%E9%BB%98%E9%BB%98%E6%90%AC%E7%A0%96%E6%87%82%E5%8E%9F%E7%90%86%E6%89%8D%E8%83%BD%E5%BF%AB%E9%80%9F%E6%99%8B%E5%8D%87/"><span>23 ç»“æŸè¯­ ä¼šä½¿ç”¨åªèƒ½é»˜é»˜â€œæ¬ç –â€ï¼Œæ‡‚åŸç†æ‰èƒ½å¿«é€Ÿæ™‹å‡</span></a>
    </div>
</div>

        </div>
        <div class="toggler" onclick="toggleLight(this);">ğŸ’¡</div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 27270 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    function toggleLight() {
        document.getElementById('page').classList.toggle('night');
    }
</script>
</body>

</html>