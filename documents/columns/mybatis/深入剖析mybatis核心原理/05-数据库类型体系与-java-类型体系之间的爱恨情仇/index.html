<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title>05 æ•°æ®åº“ç±»å‹ä½“ç³»ä¸ Java ç±»å‹ä½“ç³»ä¹‹é—´çš„â€œçˆ±æ¨æƒ…ä»‡â€ | Yipsen Ye</title>
<meta name="description" content="ä½œä¸ºä¸€ä¸ª Java ç¨‹åºå‘˜ï¼Œä½ åº”è¯¥å·²ç»å…·å¤‡äº†ä½¿ç”¨ JDBC æ“ä½œæ•°æ®åº“çš„åŸºç¡€æŠ€èƒ½ã€‚åœ¨ä½¿ç”¨ JDBC çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç° JDBC çš„æ•°æ®ç±»å‹ä¸ Java è¯­è¨€ä¸­çš„æ•°æ®ç±»å‹è™½ç„¶æœ‰ç‚¹å¯¹åº”å…³ç³»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä½†è¿˜æ˜¯æ— æ³•åšåˆ°ä¸€ä¸€å¯¹åº”ï¼Œä¹Ÿè‡ªç„¶æ— æ³•åšåˆ°è‡ªåŠ¨æ˜ å°„ã€‚
æ•°æ®åº“ç±»å‹ä¸ Java ç±»å‹å¯¹åº”å›¾è¡¨
åœ¨ä½¿ç”¨ PreparedStatement æ‰§è¡Œ SQL è¯­å¥ä¹‹å‰ï¼Œéƒ½æ˜¯éœ€è¦æ‰‹åŠ¨è°ƒç”¨ setInt()ã€setString() ç­‰ set æ–¹æ³•ç»‘å®šå‚æ•°ï¼Œè¿™ä¸ä»…ä»…æ˜¯å‘Šè¯‰ JDBC ä¸€ä¸ª SQL æ¨¡æ¿ä¸­å“ªä¸ªå ä½ç¬¦éœ€è¦ä½¿ç”¨å“ªä¸ªå®å‚ï¼Œè¿˜ä¼šå°†æ•°æ®ä» Java ç±»å‹è½¬æ¢æˆ JDBC ç±»å‹ã€‚å½“ä» ResultSet ä¸­è·å–æ•°æ®çš„æ—¶å€™ï¼Œåˆ™æ˜¯ä¸€ä¸ªé€†è¿‡ç¨‹ï¼Œæ•°æ®ä¼šä» JDBC ç±»å‹è½¬æ¢ä¸º Java ç±»å‹ã€‚
å¯ä»¥ä½¿ç”¨ MyBatis ä¸­çš„ç±»å‹è½¬æ¢å™¨ï¼Œå®Œæˆä¸Šè¿°ä¸¤æ¬¡ç±»å‹è½¬æ¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
JDBC ç±»å‹æ•°æ®ä¸ Java ç±»å‹æ•°æ®è½¬æ¢ç¤ºæ„å›¾
æ·±å…¥ TypeHandler è¯´äº†è¿™ä¹ˆå¤šï¼Œç±»å‹è½¬æ¢å™¨åˆ°åº•æ˜¯æ€ä¹ˆå®šä¹‰çš„å‘¢ï¼Ÿå…¶å®ï¼ŒMyBatis ä¸­çš„ç±»å‹è½¬æ¢å™¨å°±æ˜¯ TypeHandler è¿™ä¸ªæ¥å£ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š
public interface TypeHandler&amp;lt;T&amp;gt; {// åœ¨é€šè¿‡PreparedStatementä¸ºSQLè¯­å¥ç»‘å®šå‚æ•°æ—¶ï¼Œä¼šå°†ä¼ å…¥çš„å®å‚æ•°æ®ç”±JdbcTypeç±»å‹è½¬æ¢æˆJavaç±»å‹void setParameter(PreparedStatement ps, int i, T parameter, JdbcType jdbcType) throws SQLException;// ä»ResultSetä¸­è·å–æ•°æ®æ—¶ä¼šä½¿ç”¨getResult()æ–¹æ³•ï¼Œå…¶ä¸­ä¼šå°†è¯»å–åˆ°çš„æ•°æ®ç”±Javaç±»å‹è½¬æ¢æˆJdbcTypeç±»å‹T getResult(ResultSet rs, String columnName) throws SQLException;T getResult(ResultSet rs, int columnIndex) throws SQLException;T getResult(CallableStatement cs, int columnIndex) throws SQLException;}MyBatis ä¸­å®šä¹‰äº† BaseTypeHandler æŠ½è±¡ç±»æ¥å®ç°ä¸€äº› TypeHandler çš„å…¬å…±é€»è¾‘ï¼ŒBaseTypeHandler åœ¨å®ç° TypeHandler çš„åŒæ—¶ï¼Œè¿˜å®ç°äº† TypeReference æŠ½è±¡ç±»ã€‚å…¶ç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="logo-link" style="width: 60px; color: #CA6924;">
    <a href="http://yipsen.github.io/">
        <img style="margin-bottom: -1rem;" src="/images/deer.svg" alt="logo">
        <span style="font-size: 0.5rem; color: #CA6924;">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æœ­è®°</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><aside>
    <div>
        
        
            
            
            <div class="post-category-icon"></div>
            <a href="/categories/%e6%b7%b1%e5%85%a5%e5%89%96%e6%9e%90mybatis%e6%a0%b8%e5%bf%83%e5%8e%9f%e7%90%86/">æ·±å…¥å‰–æMyBatisæ ¸å¿ƒåŸç†</a>
            <ul>
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/00-%E5%BC%80%E7%AF%87%E8%AF%8D-%E9%A2%86%E7%95%A5-mybatis-%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4%E7%AA%81%E7%A0%B4%E6%8C%81%E4%B9%85%E5%8C%96%E6%8A%80%E6%9C%AF%E7%93%B6%E9%A2%88/">00 å¼€ç¯‡è¯ é¢†ç•¥ MyBatis è®¾è®¡æ€ç»´ï¼Œçªç ´æŒä¹…åŒ–æŠ€æœ¯ç“¶é¢ˆ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/01-%E5%B8%B8%E8%A7%81%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6%E8%B5%8F%E6%9E%90%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88%E8%AE%A9%E4%BD%A0%E9%80%89%E6%8B%A9-mybatis/">01 å¸¸è§æŒä¹…å±‚æ¡†æ¶èµæï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆè®©ä½ é€‰æ‹© MyBatisï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/02-%E8%AE%A2%E5%8D%95%E7%B3%BB%E7%BB%9F%E6%8C%81%E4%B9%85%E5%B1%82%E7%A4%BA%E4%BE%8B%E5%88%86%E6%9E%9020-%E5%88%86%E9%92%9F%E5%B8%A6%E4%BD%A0%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-mybatis/">02 è®¢å•ç³»ç»ŸæŒä¹…å±‚ç¤ºä¾‹åˆ†æï¼Œ20 åˆ†é’Ÿå¸¦ä½ å¿«é€Ÿä¸Šæ‰‹ MyBatis</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/03-mybatis-%E6%BA%90%E7%A0%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8A%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90/">03 MyBatis æºç ç¯å¢ƒæ­å»ºåŠæ•´ä½“æ¶æ„è§£æ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/04-mybatis-%E5%8F%8D%E5%B0%84%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%B8%A6%E4%BD%A0%E9%A2%86%E7%95%A5%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E5%8F%8D%E5%B0%84%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF/">04 MyBatis åå°„å·¥å…·ç®±ï¼šå¸¦ä½ é¢†ç•¥ä¸ä¸€æ ·çš„åå°„è®¾è®¡æ€è·¯</a></li>
                
                
                
                    <li>05 æ•°æ®åº“ç±»å‹ä½“ç³»ä¸ Java ç±»å‹ä½“ç³»ä¹‹é—´çš„â€œçˆ±æ¨æƒ…ä»‡â€</li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/06-%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E5%8D%83%E5%8D%83%E4%B8%87mybatis-%E9%83%BD%E8%83%BD%E5%85%BC%E5%AE%B9%E7%9A%84%E7%A7%98%E5%AF%86%E6%98%AF%E4%BB%80%E4%B9%88/">06 æ—¥å¿—æ¡†æ¶åƒåƒä¸‡ï¼ŒMyBatis éƒ½èƒ½å…¼å®¹çš„ç§˜å¯†æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/07-%E6%B7%B1%E5%85%A5%E6%95%B0%E6%8D%AE%E6%BA%90%E5%92%8C%E4%BA%8B%E5%8A%A1%E6%8A%8A%E6%8F%A1%E6%8C%81%E4%B9%85%E5%8C%96%E6%A1%86%E6%9E%B6%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%85%B3%E9%94%AE%E5%91%BD%E8%84%89/">07 æ·±å…¥æ•°æ®æºå’Œäº‹åŠ¡ï¼ŒæŠŠæ¡æŒä¹…åŒ–æ¡†æ¶çš„ä¸¤ä¸ªå…³é”®å‘½è„‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/08-mapper-%E6%96%87%E4%BB%B6%E4%B8%8E-java-%E6%8E%A5%E5%8F%A3%E7%9A%84%E4%BC%98%E9%9B%85%E6%98%A0%E5%B0%84%E4%B9%8B%E9%81%93/">08 Mapper æ–‡ä»¶ä¸ Java æ¥å£çš„ä¼˜é›…æ˜ å°„ä¹‹é“</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/09-%E5%9F%BA%E4%BA%8E-mybatis-%E7%BC%93%E5%AD%98%E5%88%86%E6%9E%90%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">09 åŸºäº MyBatis ç¼“å­˜åˆ†æè£…é¥°å™¨æ¨¡å¼çš„æœ€ä½³å®è·µ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/10-%E9%B8%9F%E7%9E%B0-mybatis-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%8A%8A%E6%8F%A1-mybatis-%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E8%84%89%E7%BB%9C%E4%B8%8A/">10 é¸Ÿç° MyBatis åˆå§‹åŒ–ï¼ŒæŠŠæ¡ MyBatis å¯åŠ¨æµç¨‹è„‰ç»œï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/11-%E9%B8%9F%E7%9E%B0-mybatis-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%8A%8A%E6%8F%A1-mybatis-%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E8%84%89%E7%BB%9C%E4%B8%8B/">11 é¸Ÿç° MyBatis åˆå§‹åŒ–ï¼ŒæŠŠæ¡ MyBatis å¯åŠ¨æµç¨‹è„‰ç»œï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/12-%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90%E5%8A%A8%E6%80%81-sql-%E8%AF%AD%E5%8F%A5%E8%A7%A3%E6%9E%90%E5%85%A8%E6%B5%81%E7%A8%8B%E4%B8%8A/">12 æ·±å…¥åˆ†æåŠ¨æ€ SQL è¯­å¥è§£æå…¨æµç¨‹ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/13-%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90%E5%8A%A8%E6%80%81-sql-%E8%AF%AD%E5%8F%A5%E8%A7%A3%E6%9E%90%E5%85%A8%E6%B5%81%E7%A8%8B%E4%B8%8B/">13 æ·±å…¥åˆ†æåŠ¨æ€ SQL è¯­å¥è§£æå…¨æµç¨‹ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/14-%E6%8E%A2%E7%A9%B6-mybatis-%E7%BB%93%E6%9E%9C%E9%9B%86%E6%98%A0%E5%B0%84%E6%9C%BA%E5%88%B6%E8%83%8C%E5%90%8E%E7%9A%84%E7%A7%98%E5%AF%86%E4%B8%8A/">14 æ¢ç©¶ MyBatis ç»“æœé›†æ˜ å°„æœºåˆ¶èƒŒåçš„ç§˜å¯†ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/15-%E6%8E%A2%E7%A9%B6-mybatis-%E7%BB%93%E6%9E%9C%E9%9B%86%E6%98%A0%E5%B0%84%E6%9C%BA%E5%88%B6%E8%83%8C%E5%90%8E%E7%9A%84%E7%A7%98%E5%AF%86%E4%B8%8B/">15 æ¢ç©¶ MyBatis ç»“æœé›†æ˜ å°„æœºåˆ¶èƒŒåçš„ç§˜å¯†ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/16-statementhandler%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9Asql-%E6%89%A7%E8%A1%8C%E5%92%8C%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84%E7%9A%84%E5%A5%A0%E5%9F%BA%E8%80%85/">16 StatementHandlerï¼šå‚æ•°ç»‘å®šã€SQL æ‰§è¡Œå’Œç»“æœæ˜ å°„çš„å¥ åŸºè€…</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/17-executor-%E6%89%8D%E6%98%AF%E6%89%A7%E8%A1%8C-sql-%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%B9%95%E5%90%8E%E6%8E%A8%E6%89%8B%E4%B8%8A/">17 Executor æ‰æ˜¯æ‰§è¡Œ SQL è¯­å¥çš„å¹•åæ¨æ‰‹ï¼ˆä¸Šï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/18-executor-%E6%89%8D%E6%98%AF%E6%89%A7%E8%A1%8C-sql-%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%B9%95%E5%90%8E%E6%8E%A8%E6%89%8B%E4%B8%8B/">18 Executor æ‰æ˜¯æ‰§è¡Œ SQL è¯­å¥çš„å¹•åæ¨æ‰‹ï¼ˆä¸‹ï¼‰</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/19-%E6%B7%B1%E5%85%A5-mybatis-%E5%86%85%E6%A0%B8%E4%B8%8E%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E7%9A%84%E6%A1%A5%E6%A2%81%E6%8E%A5%E5%8F%A3%E5%B1%82/">19 æ·±å…¥ MyBatis å†…æ ¸ä¸ä¸šåŠ¡é€»è¾‘çš„æ¡¥æ¢â€”â€”æ¥å£å±‚</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/20-%E6%8F%92%E4%BB%B6%E4%BD%93%E7%B3%BB%E8%AE%A9-mybatis-%E4%B8%96%E7%95%8C%E6%9B%B4%E5%8A%A0%E7%B2%BE%E5%BD%A9/">20 æ’ä»¶ä½“ç³»è®© MyBatis ä¸–ç•Œæ›´åŠ ç²¾å½©</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/21-%E6%B7%B1%E6%8C%96-mybatis-%E4%B8%8E-spring-%E9%9B%86%E6%88%90%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/">21 æ·±æŒ– MyBatis ä¸ Spring é›†æˆåº•å±‚åŸç†</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/22-%E5%9F%BA%E4%BA%8E-mybatis-%E7%9A%84%E8%A1%8D%E7%94%9F%E6%A1%86%E6%9E%B6%E4%B8%80%E8%A7%88/">22 åŸºäº MyBatis çš„è¡ç”Ÿæ¡†æ¶ä¸€è§ˆ</a></li>
                
                
                
                    <li><a href="http://yipsen.github.io/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/23-%E7%BB%93%E6%9D%9F%E8%AF%AD-%E4%BC%9A%E4%BD%BF%E7%94%A8%E5%8F%AA%E8%83%BD%E9%BB%98%E9%BB%98%E6%90%AC%E7%A0%96%E6%87%82%E5%8E%9F%E7%90%86%E6%89%8D%E8%83%BD%E5%BF%AB%E9%80%9F%E6%99%8B%E5%8D%87/">23 ç»“æŸè¯­ ä¼šä½¿ç”¨åªèƒ½é»˜é»˜â€œæ¬ç –â€ï¼Œæ‡‚åŸç†æ‰èƒ½å¿«é€Ÿæ™‹å‡</a></li>
                
                
            </ul>
        
    </div>
</aside>

<style>
    aside {
        position: fixed;
        left: 20px;
        background: #ffdee3;
        border-radius: 6px;
        padding: 20px;
        padding-top: 60px;
        box-shadow: 5px 10px #888;
        list-style-type: none;
        display: none;
    }

    .post-category-icon {
        position: absolute;
        width: 80px;
        height: 80px;
        top: -40px;
        left: 50%;
        margin-left: -40px;
        text-align: center;
        font-size: 36px;
        content: 'J';
        background: #ffdee3;
        border-radius: 100%;
        border: 10px solid #fff;
        box-shadow: 5px 10px #888;
    }
</style><article class="post-block">
        <h1 class="post-title">05 æ•°æ®åº“ç±»å‹ä½“ç³»ä¸ Java ç±»å‹ä½“ç³»ä¹‹é—´çš„â€œçˆ±æ¨æƒ…ä»‡â€</h1>
        <div class="post-info">
            <div> 
                <span class="post-date">ğŸ“…&nbsp;2021-12-22 01:51:07</span>ğŸ·ï¸&nbsp;<a class="post-tag" href="/tags/mybatis/">mybatis</a></div><div class="post-category">
                
                ğŸ“š&nbsp;<a href="/categories/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/">æ·±å…¥å‰–æMyBatisæ ¸å¿ƒåŸç†</a>
                
            </div></div>
        <div class="post-content">
            <p>ä½œä¸ºä¸€ä¸ª Java ç¨‹åºå‘˜ï¼Œä½ åº”è¯¥å·²ç»å…·å¤‡äº†ä½¿ç”¨ JDBC æ“ä½œæ•°æ®åº“çš„åŸºç¡€æŠ€èƒ½ã€‚åœ¨ä½¿ç”¨ JDBC çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç° JDBC çš„æ•°æ®ç±»å‹ä¸ Java è¯­è¨€ä¸­çš„æ•°æ®ç±»å‹è™½ç„¶æœ‰ç‚¹å¯¹åº”å…³ç³»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä½†è¿˜æ˜¯æ— æ³•åšåˆ°ä¸€ä¸€å¯¹åº”ï¼Œä¹Ÿè‡ªç„¶æ— æ³•åšåˆ°è‡ªåŠ¨æ˜ å°„ã€‚</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%20MyBatis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E5%AE%8C/assets/Cgp9HWAeMiSAcga0AAEpsa9onlg651.png" alt="Drawing 0.png"></p>
<p>æ•°æ®åº“ç±»å‹ä¸ Java ç±»å‹å¯¹åº”å›¾è¡¨</p>
<p>åœ¨ä½¿ç”¨ PreparedStatement æ‰§è¡Œ SQL è¯­å¥ä¹‹å‰ï¼Œéƒ½æ˜¯éœ€è¦æ‰‹åŠ¨è°ƒç”¨ setInt()ã€setString() ç­‰ set æ–¹æ³•ç»‘å®šå‚æ•°ï¼Œè¿™ä¸ä»…ä»…æ˜¯å‘Šè¯‰ JDBC ä¸€ä¸ª SQL æ¨¡æ¿ä¸­å“ªä¸ªå ä½ç¬¦éœ€è¦ä½¿ç”¨å“ªä¸ªå®å‚ï¼Œè¿˜ä¼šå°†æ•°æ®ä» Java ç±»å‹è½¬æ¢æˆ JDBC ç±»å‹ã€‚å½“ä» ResultSet ä¸­è·å–æ•°æ®çš„æ—¶å€™ï¼Œåˆ™æ˜¯ä¸€ä¸ªé€†è¿‡ç¨‹ï¼Œæ•°æ®ä¼šä» JDBC ç±»å‹è½¬æ¢ä¸º Java ç±»å‹ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ MyBatis ä¸­çš„<strong>ç±»å‹è½¬æ¢å™¨</strong>ï¼Œå®Œæˆä¸Šè¿°ä¸¤æ¬¡ç±»å‹è½¬æ¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%20MyBatis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E5%AE%8C/assets/CioPOWAeMi6AdTRAAAENMX_HsyU054.png" alt="Drawing 1.png"></p>
<p>JDBC ç±»å‹æ•°æ®ä¸ Java ç±»å‹æ•°æ®è½¬æ¢ç¤ºæ„å›¾</p>
<h3 id="æ·±å…¥-typehandler">æ·±å…¥ TypeHandler</h3>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œç±»å‹è½¬æ¢å™¨åˆ°åº•æ˜¯æ€ä¹ˆå®šä¹‰çš„å‘¢ï¼Ÿå…¶å®ï¼Œ<strong>MyBatis ä¸­çš„ç±»å‹è½¬æ¢å™¨å°±æ˜¯ TypeHandler è¿™ä¸ªæ¥å£</strong>ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>public interface TypeHandler&lt;T&gt; {

  // åœ¨é€šè¿‡PreparedStatementä¸ºSQLè¯­å¥ç»‘å®šå‚æ•°æ—¶ï¼Œä¼šå°†ä¼ å…¥çš„å®å‚æ•°æ®ç”±JdbcTypeç±»å‹è½¬æ¢æˆJavaç±»å‹

  void setParameter(PreparedStatement ps, int i, T parameter, JdbcType jdbcType) throws SQLException;

  // ä»ResultSetä¸­è·å–æ•°æ®æ—¶ä¼šä½¿ç”¨getResult()æ–¹æ³•ï¼Œå…¶ä¸­ä¼šå°†è¯»å–åˆ°çš„æ•°æ®ç”±Javaç±»å‹è½¬æ¢æˆJdbcTypeç±»å‹

  T getResult(ResultSet rs, String columnName) throws SQLException;

  T getResult(ResultSet rs, int columnIndex) throws SQLException;

  T getResult(CallableStatement cs, int columnIndex) throws SQLException;

}
</code></pre><p><strong>MyBatis ä¸­å®šä¹‰äº† BaseTypeHandler æŠ½è±¡ç±»æ¥å®ç°ä¸€äº› TypeHandler çš„å…¬å…±é€»è¾‘</strong>ï¼ŒBaseTypeHandler åœ¨å®ç° TypeHandler çš„åŒæ—¶ï¼Œè¿˜å®ç°äº† TypeReference æŠ½è±¡ç±»ã€‚å…¶ç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%20MyBatis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E5%AE%8C/assets/CioPOWAeMkCANy6LAABJPBfXPJY527.png" alt="Drawing 2.png"></p>
<p>TypeHandler ç»§æ‰¿å…³ç³»å›¾</p>
<p>åœ¨ BaseTypeHandler ä¸­ï¼Œç®€å•å®ç°äº† TypeHandler æ¥å£çš„ setParameter() æ–¹æ³•å’Œ getResult() æ–¹æ³•ã€‚</p>
<ul>
<li>åœ¨ setParameter() å®ç°ä¸­ï¼Œä¼šåˆ¤æ–­ä¼ å…¥çš„ parameter å®å‚æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™è°ƒç”¨ PreparedStatement.setNull() æ–¹æ³•è¿›è¡Œè®¾ç½®ï¼›å¦‚æœä¸ä¸ºç©ºï¼Œåˆ™å§”æ‰˜ setNonNullParameter() è¿™ä¸ªæŠ½è±¡æ–¹æ³•è¿›è¡Œå¤„ç†ï¼ŒsetNonNullParameter() æ–¹æ³•ç”± BaseTypeHandler çš„å­ç±»æä¾›å…·ä½“å®ç°ã€‚</li>
<li>åœ¨ getResult() çš„ä¸‰ä¸ªé‡è½½å®ç°ä¸­ï¼Œä¼šç›´æ¥è°ƒç”¨ç›¸åº”çš„ getNullableResult() æŠ½è±¡æ–¹æ³•ï¼Œè¿™é‡Œæœ‰ä¸‰ä¸ªé‡è½½çš„ getNullableResult() æŠ½è±¡æ–¹æ³•ï¼Œå®ƒä»¬éƒ½ç”± BaseTypeHandler çš„å­ç±»æä¾›å…·ä½“å®ç°ã€‚</li>
</ul>
<p>BaseTypeHandler çš„å…·ä½“å®ç°æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸å†å±•ç¤ºï¼Œä½ è‹¥æ„Ÿå…´è¶£çš„è¯å¯ä»¥å‚è€ƒ<a href="https://github.com/xxxlxy2008/mybatis">æºç </a>è¿›è¡Œå­¦ä¹ ã€‚</p>
<p>ä¸‹å›¾å±•ç¤ºäº† BaseTypeHandler çš„å…¨éƒ¨å®ç°ç±»ï¼Œè™½ç„¶å®ç°ç±»æ¯”è¾ƒå¤šï¼Œä½†æ˜¯å®ƒä»¬çš„å®ç°æ–¹å¼å¤§åŒå°å¼‚ã€‚</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%20MyBatis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E5%AE%8C/assets/Cgp9HWAeMkuAI22uAApwhcDLfQ4596.png" alt="Drawing 3.png"></p>
<p>BaseTypeHandler å®ç°ç±»ç¤ºæ„å›¾</p>
<p>è¿™é‡Œæˆ‘ä»¬ä»¥ LongTypeHandler ä¸ºä¾‹è¿›è¡Œåˆ†æï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>public class LongTypeHandler extends BaseTypeHandler&lt;Long&gt; {

    public void setNonNullParameter(PreparedStatement ps, int i, Long parameter, JdbcType jdbcType)

            throws SQLException {

        // è°ƒç”¨PreparedStatement.setLong()å®ç°å‚æ•°ç»‘å®š

        ps.setLong(i, parameter);

    }

    public Long getNullableResult(ResultSet rs, String columnName)

            throws SQLException {

        // è°ƒç”¨ResultSet.getLong()è·å–æŒ‡å®šåˆ—å€¼

        long result = rs.getLong(columnName);

        return result == 0 &amp;&amp; rs.wasNull() ? null : result;

    }

    public Long getNullableResult(ResultSet rs, int columnIndex)

            throws SQLException {

        // è°ƒç”¨ResultSet.getLong()è·å–æŒ‡å®šåˆ—å€¼

        long result = rs.getLong(columnIndex);

        return result == 0 &amp;&amp; rs.wasNull() ? null : result;

    }

    public Long getNullableResult(CallableStatement cs, int columnIndex)

            throws SQLException {

        // è°ƒç”¨ResultSet.getLong()è·å–æŒ‡å®šåˆ—å€¼

        long result = cs.getLong(columnIndex);

        return result == 0 &amp;&amp; cs.wasNull() ? null : result;

    }

}
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼šLongTypeHandler çš„æ ¸å¿ƒè¿˜æ˜¯é€šè¿‡ PreparedStatement.setLong() æ–¹æ³•ä»¥åŠ ResultSet.getLong() æ–¹æ³•å®ç°çš„ã€‚è‡³äºå…¶ä»– BaseTypeHandler çš„æ ¸å¿ƒå®ç°ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä¾èµ–äº† JDBC çš„ APIï¼Œè¿™é‡Œå°±ä¸å†å±•å¼€ä»‹ç»äº†ã€‚</p>
<h3 id="typehandler-æ³¨å†Œ">TypeHandler æ³¨å†Œ</h3>
<p>äº†è§£äº† TypeHandler æ¥å£å®ç°ç±»çš„æ ¸å¿ƒåŸç†ä¹‹åï¼Œæˆ‘ä»¬å°±æ¥è§£å†³ä¸‹é¢ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>MyBatis å¦‚ä½•ç®¡ç†è¿™ä¹ˆå¤šçš„ TypeHandler æ¥å£å®ç°å‘¢ï¼Ÿ</li>
<li>å¦‚ä½•åœ¨åˆé€‚çš„åœºæ™¯ä¸­ä½¿ç”¨åˆé€‚çš„ TypeHandler å®ç°è¿›è¡Œç±»å‹è½¬æ¢å‘¢ï¼Ÿ</li>
</ul>
<p>ä½ è‹¥ä½¿ç”¨è¿‡ MyBatis çš„è¯ï¼Œåº”è¯¥çŸ¥é“æˆ‘ä»¬å¯ä»¥åœ¨ mybatis-config.xml ä¸­é€šè¿‡ æ ‡ç­¾é…ç½®è‡ªå®šä¹‰çš„ TypeHandler å®ç°ï¼Œä¹Ÿå¯ä»¥åœ¨ Mapper.xml é…ç½®æ–‡ä»¶å®šä¹‰ çš„æ—¶å€™æŒ‡å®š typeHandler å±æ€§ã€‚æ— è®ºæ˜¯å“ªç§é…ç½®æ–¹å¼ï¼ŒMyBatis éƒ½ä¼šåœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œè·å–æ‰€æœ‰å·²çŸ¥çš„ TypeHandlerï¼ˆåŒ…æ‹¬å†…ç½®å®ç°å’Œè‡ªå®šä¹‰å®ç°ï¼‰ï¼Œç„¶ååˆ›å»ºæ‰€æœ‰ TypeHandler å®ä¾‹å¹¶æ³¨å†Œåˆ° TypeHandlerRegistry ä¸­ï¼Œ<strong>ç”± TypeHandlerRegistry ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ TypeHandler å®ä¾‹</strong>ã€‚ TypeHandlerRegistry ç®¡ç† TypeHandler çš„æ—¶å€™ï¼Œç”¨åˆ°äº†ä»¥ä¸‹å››ä¸ªæœ€æ ¸å¿ƒçš„é›†åˆã€‚</p>
<ul>
<li>jdbcTypeHandlerMapï¼ˆMap&lt;JdbcType, TypeHandler&lt;?&raquo;ç±»å‹ï¼‰ï¼šè¯¥é›†åˆè®°å½•äº† JdbcType ä¸ TypeHandler ä¹‹é—´çš„å…³è”å…³ç³»ã€‚JdbcType æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œæ¯ä¸ª JdbcType æšä¸¾å€¼å¯¹åº”ä¸€ç§ JDBC ç±»å‹ï¼Œä¾‹å¦‚ï¼ŒJdbcType.VARCHAR å¯¹åº”çš„å°±æ˜¯ JDBC ä¸­çš„ varchar ç±»å‹ã€‚åœ¨ä» ResultSet ä¸­è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šä» JDBC_TYPE_HANDLER_MAP é›†åˆä¸­æ ¹æ® JDBC ç±»å‹æŸ¥æ‰¾å¯¹åº”çš„ TypeHandlerï¼Œå°†æ•°æ®è½¬æ¢æˆ Java ç±»å‹ã€‚</li>
<li>typeHandlerMapï¼ˆMap&lt;Type, Map&lt;JdbcType, TypeHandler&lt;?&raquo;&gt;ç±»å‹ï¼‰ï¼šè¯¥é›†åˆç¬¬ä¸€å±‚ Key æ˜¯éœ€è¦è½¬æ¢çš„ Java ç±»å‹ï¼Œç¬¬äºŒå±‚ Key æ˜¯è½¬æ¢çš„ç›®æ ‡ JdbcTypeï¼Œæœ€ç»ˆçš„ Value æ˜¯å®Œæˆæ­¤æ¬¡è½¬æ¢æ—¶æ‰€éœ€è¦ä½¿ç”¨çš„ TypeHandler å¯¹è±¡ã€‚é‚£ä¸ºä»€ä¹ˆè¦æœ‰ä¸¤å±‚ Map çš„è®¾è®¡å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼šJava ç±»å‹ä¸­çš„ String å¯èƒ½è½¬æ¢æˆæ•°æ®åº“ä¸­çš„ varcharã€charã€text ç­‰å¤šç§ç±»å‹ï¼Œå­˜åœ¨ä¸€å¯¹å¤šå…³ç³»ï¼Œæ‰€ä»¥å°±å¯èƒ½æœ‰ä¸åŒçš„ TypeHandler å®ç°ã€‚</li>
<li>allTypeHandlersMapï¼ˆMap&lt;Class, TypeHandler&gt;ç±»å‹ï¼‰ï¼šè¯¥é›†åˆè®°å½•äº†å…¨éƒ¨ TypeHandler çš„ç±»å‹ä»¥åŠå¯¹åº”çš„ TypeHandler å®ä¾‹å¯¹è±¡ã€‚</li>
<li>NULL_TYPE_HANDLER_MAPï¼ˆMap&lt;JdbcType, TypeHandler&lt;?&raquo;ç±»å‹ï¼‰ï¼šç©º TypeHandler é›†åˆçš„æ ‡è¯†ï¼Œé»˜è®¤å€¼ä¸º Collections.emptyMap()ã€‚</li>
</ul>
<p>åœ¨ MyBatis åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå®ä¾‹åŒ–å…¨éƒ¨ TypeHandler å¯¹è±¡ä¹‹åï¼Œä¼šç«‹å³è°ƒç”¨ TypeHandlerRegistry çš„ register() æ–¹æ³•å®Œæˆè¿™äº› TypeHandler å¯¹è±¡çš„æ³¨å†Œï¼Œè¿™ä¸ªæ³¨å†Œè¿‡ç¨‹çš„æ ¸å¿ƒé€»è¾‘å°±æ˜¯å‘ä¸Šè¿°å››ä¸ªæ ¸å¿ƒé›†åˆä¸­æ·»åŠ  TypeHandler å®ä¾‹ä»¥åŠä¸ Java ç±»å‹ã€JDBC ç±»å‹ä¹‹é—´çš„æ˜ å°„ã€‚</p>
<p>TypeHandlerRegistry.register() æ–¹æ³•æœ‰å¤šä¸ªé‡è½½å®ç°ï¼Œè¿™äº›é‡è½½ä¸­æœ€åŸºç¡€çš„å®ç°æ˜¯ä¸‰ä¸ªå‚æ•°çš„é‡è½½å®ç°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>private void register(Type javaType, JdbcType jdbcType, TypeHandler&lt;?&gt; handler) {

    if (javaType != null) { // æ£€æµ‹æ˜¯å¦æ˜ç¡®æŒ‡å®šäº†TypeHandlerèƒ½å¤Ÿå¤„ç†çš„Javaç±»å‹

        // æ ¹æ®æŒ‡å®šçš„Javaç±»å‹ï¼Œä»typeHandlerMapé›†åˆä¸­è·å–ç›¸åº”çš„TypeHandleré›†åˆ

        Map&lt;JdbcType, TypeHandler&lt;?&gt;&gt; map = typeHandlerMap.get(javaType);

        if (map == null || map == NULL_TYPE_HANDLER_MAP) {

            map = new HashMap&lt;&gt;();

        }

        // å°†TypeHandlerå®ä¾‹è®°å½•åˆ°typeHandlerMapé›†åˆ

        map.put(jdbcType, handler);

        typeHandlerMap.put(javaType, map);

    }

    // å‘allTypeHandlersMapé›†åˆæ³¨å†ŒTypeHandlerç±»å‹å’Œå¯¹åº”çš„TypeHandlerå¯¹è±¡

    allTypeHandlersMap.put(handler.getClass(), handler);

}
</code></pre><p>é™¤äº†ä¸Šé¢çš„ register() é‡è½½ï¼Œåœ¨æœ‰çš„ register() é‡è½½ä¸­ä¼šå°è¯•ä» TypeHandler ç±»ä¸­çš„@MappedTypes æ³¨è§£å’Œ @MappedJdbcTypes æ³¨è§£ä¸­è¯»å–ä¿¡æ¯ã€‚å…¶ä¸­ï¼Œ<strong>@MappedTypes æ³¨è§£ä¸­å¯ä»¥é…ç½® TypeHandler å®ç°ç±»èƒ½å¤Ÿå¤„ç†çš„ Java ç±»å‹çš„é›†åˆï¼Œ@MappedJdbcTypes æ³¨è§£ä¸­å¯ä»¥é…ç½®è¯¥ TypeHandler å®ç°ç±»èƒ½å¤Ÿå¤„ç†çš„ JDBC ç±»å‹é›†åˆ</strong>ã€‚</p>
<p>å¦‚ä¸‹å°±æ˜¯è¯»å– @MappedJdbcTypes æ³¨è§£çš„ register() é‡è½½æ–¹æ³•ï¼š</p>
<pre tabindex="0"><code>private &lt;T&gt; void register(Type javaType, TypeHandler&lt;? extends T&gt; typeHandler) {

    // å°è¯•ä»TypeHandlerç±»ä¸­è·å–@MappedJdbcTypesæ³¨è§£

    MappedJdbcTypes mappedJdbcTypes = typeHandler.getClass().getAnnotation(MappedJdbcTypes.class);

    if (mappedJdbcTypes != null) {

        // æ ¹æ®@MappedJdbcTypesæ³¨è§£æŒ‡å®šçš„JDBCç±»å‹è¿›è¡Œæ³¨å†Œ

        for (JdbcType handledJdbcType : mappedJdbcTypes.value()) {

            // äº¤ç»™å‰é¢çš„ä¸‰å‚æ•°é‡è½½å¤„ç†

            register(javaType, handledJdbcType, typeHandler);

        }

        // å¦‚æœæ”¯æŒjdbcTypeä¸ºnullï¼Œä¹Ÿæ˜¯äº¤ç»™å‰é¢çš„ä¸‰å‚æ•°é‡è½½å¤„ç†

        if (mappedJdbcTypes.includeNullJdbcType()) {

            register(javaType, null, typeHandler);

        }

    } else {

        // å¦‚æœæ²¡æœ‰é…ç½®MappedJdbcTypesæ³¨è§£ï¼Œä¹Ÿæ˜¯äº¤ç»™å‰é¢çš„ä¸‰å‚æ•°é‡è½½å¤„ç†

        register(javaType, null, typeHandler);

    }

}
</code></pre><p>ä¸‹é¢æ˜¯è¯»å– @MappedTypes æ³¨è§£çš„ register() æ–¹æ³•é‡è½½ï¼š</p>
<pre tabindex="0"><code>public &lt;T&gt; void register(TypeHandler&lt;T&gt; typeHandler) {

    boolean mappedTypeFound = false;

    // è¯»å–TypeHandlerç±»ä¸­å®šä¹‰çš„@MappedTypesæ³¨è§£

    MappedTypes mappedTypes = typeHandler.getClass().getAnnotation(MappedTypes.class);

    if (mappedTypes != null) {

        // æ ¹æ®@MappedTypesæ³¨è§£ä¸­æŒ‡å®šçš„Javaç±»å‹è¿›è¡Œæ³¨å†Œ

        for (Class&lt;?&gt; handledType : mappedTypes.value()) {

            // äº¤ç»™å‰é¢ä»‹ç»çš„register()é‡è½½è¯»å–@MappedJdbcTypesæ³¨è§£å¹¶å®Œæˆæ³¨å†Œ

            register(handledType, typeHandler);

            mappedTypeFound = true;

        }

    }

    // ä»3.1.0ç‰ˆæœ¬å¼€å§‹ï¼Œå¦‚æœTypeHandlerå®ç°ç±»åŒæ—¶ç»§æ‰¿äº†TypeReferenceè¿™ä¸ªæŠ½è±¡ç±»ï¼Œ

    // è¿™é‡Œä¼šå°è¯•è‡ªåŠ¨æŸ¥æ‰¾å¯¹åº”çš„Javaç±»å‹

    if (!mappedTypeFound &amp;&amp; typeHandler instanceof TypeReference) {

        try {

            TypeReference&lt;T&gt; typeReference = (TypeReference&lt;T&gt;) typeHandler;

            // äº¤ç»™å‰é¢ä»‹ç»çš„register()é‡è½½è¯»å–@MappedJdbcTypesæ³¨è§£å¹¶å®Œæˆæ³¨å†Œ

            register(typeReference.getRawType(), typeHandler);

            mappedTypeFound = true;

        } catch (Throwable t) {

        }

    }

    if (!mappedTypeFound) {

        register((Class&lt;T&gt;) null, typeHandler);

    }

}
</code></pre><p>æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹æœ€åä¸€ä¸ª register() é‡è½½ã€‚<strong>TypeHandlerRegistry æä¾›äº†æ‰«æä¸€ä¸ªåŒ…ä¸‹çš„å…¨éƒ¨ TypeHandler æ¥å£å®ç°ç±»çš„ register() é‡è½½</strong>ã€‚åœ¨è¯¥é‡è½½ä¸­ï¼Œä¼šé¦–å…ˆè¯»å–æŒ‡å®šåŒ…ä¸‹é¢çš„å…¨éƒ¨çš„ TypeHandler å®ç°ç±»ï¼Œç„¶åå†äº¤ç»™ register() é‡è½½è¯»å– @MappedTypes æ³¨è§£å’Œ @MappedJdbcTypes æ³¨è§£ï¼Œå¹¶æœ€ç»ˆå®Œæˆæ³¨å†Œã€‚è¿™ä¸ª register() é‡è½½çš„å…·ä½“å®ç°æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸å†å±•ç¤ºï¼Œä½ è‹¥æ„Ÿå…´è¶£çš„è¯å¯ä»¥å‚è€ƒ<a href="https://github.com/xxxlxy2008/mybatis">æºç </a>è¿›è¡Œå­¦ä¹ ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ TypeHandlerRegistry çš„æ„é€ æ–¹æ³•ï¼Œå…¶ä¸­ä¼šé€šè¿‡ register() æ–¹æ³•æ³¨å†Œå¤šä¸ª TypeHandler å¯¹è±¡ï¼Œä¸‹é¢å°±å±•ç¤ºäº†ä¸º String ç±»å‹æ³¨å†Œ TypeHandler çš„æ ¸å¿ƒå®ç°ï¼š</p>
<pre tabindex="0"><code>public TypeHandlerRegistry() {

    // StringTypeHandlerå¯ä»¥å®ç°Stringç±»å‹ä¸charã€varcharã€longvarcharç±»å‹ä¹‹é—´çš„è½¬æ¢

    register(String.class, JdbcType.CHAR, new StringTypeHandler());

    register(String.class, JdbcType.VARCHAR, new StringTypeHandler());

    register(String.class, JdbcType.LONGVARCHAR, new StringTypeHandler());

    // ClobTypeHandlerå¯ä»¥å®ŒæˆStringç±»å‹ä¸clobç±»å‹ä¹‹é—´çš„è½¬æ¢

    register(String.class, JdbcType.CLOB, new ClobTypeHandler());

    // NStringTypeHandlerå¯ä»¥å®ŒæˆStringç±»å‹ä¸NVARCHARã€NCHARç±»å‹ä¹‹é—´çš„è½¬æ¢

    register(String.class, JdbcType.NVARCHAR, new NStringTypeHandler());

    register(String.class, JdbcType.NCHAR, new NStringTypeHandler());

    // NClobTypeHandlerå¯ä»¥å®ŒæˆStringç±»å‹ä¸NCLOBç±»å‹ä¹‹é—´çš„è½¬æ¢

    register(String.class, JdbcType.NCLOB, new NClobTypeHandler());

    // çœç•¥å…¶ä»–TypeHandlerå®ç°çš„æ³¨å†Œé€»è¾‘

}
</code></pre><h3 id="typehandler-æŸ¥è¯¢">TypeHandler æŸ¥è¯¢</h3>
<p>åˆ†æå®Œæ³¨å†Œ TypeHandler å®ä¾‹çš„å…·ä½“å®ç°ä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°±æ¥çœ‹çœ‹ MyBatis æ˜¯å¦‚ä½•ä» TypeHandlerRegistry åº•å±‚çš„è¿™å‡ ä¸ªé›†åˆä¸­æŸ¥æ‰¾æ­£ç¡®çš„ TypeHandler å®ä¾‹ï¼Œ<strong>è¯¥åŠŸèƒ½çš„å…·ä½“å®ç°æ˜¯åœ¨ TypeHandlerRegistry çš„ getTypeHandler() æ–¹æ³•ä¸­</strong>ã€‚</p>
<p>è¿™é‡Œçš„ getTypeHandler() æ–¹æ³•ä¹Ÿæœ‰å¤šä¸ªé‡è½½ï¼Œæœ€æ ¸å¿ƒçš„é‡è½½æ˜¯ getTypeHandler(Type,JdbcType) è¿™ä¸ªé‡è½½æ–¹æ³•ï¼Œå…¶ä¸­ä¼šæ ¹æ®ä¼ å…¥çš„ Java ç±»å‹å’Œ JDBC ç±»å‹ï¼Œä»åº•å±‚çš„å‡ ä¸ªé›†åˆä¸­æŸ¥è¯¢ç›¸åº”çš„ TypeHandler å®ä¾‹ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>private &lt;T&gt; TypeHandler&lt;T&gt; getTypeHandler(Type type, JdbcType jdbcType) {

    if (ParamMap.class.equals(type)) {

        return null; // è¿‡æ»¤æ‰ParamMapç±»å‹

    }

    // æ ¹æ®Javaç±»å‹æŸ¥æ‰¾å¯¹åº”çš„TypeHandleré›†åˆ

    Map&lt;JdbcType, TypeHandler&lt;?&gt;&gt; jdbcHandlerMap = getJdbcHandlerMap(type);

    TypeHandler&lt;?&gt; handler = null;

    if (jdbcHandlerMap != null) {

        // æ ¹æ®JdbcTypeç±»å‹æŸ¥æ‰¾å¯¹åº”çš„TypeHandlerå®ä¾‹

        handler = jdbcHandlerMap.get(jdbcType);

        if (handler == null) {

            // æ²¡æœ‰å¯¹åº”çš„TypeHandlerå®ä¾‹ï¼Œåˆ™ä½¿ç”¨nullå¯¹åº”çš„TypeHandler

            handler = jdbcHandlerMap.get(null);

        }

        if (handler == null) {

            // å¦‚æœjdbcHandlerMapåªæ³¨å†Œäº†ä¸€ä¸ªTypeHandlerï¼Œåˆ™ä½¿ç”¨æ­¤TypeHandlerå¯¹è±¡

            handler = pickSoleHandler(jdbcHandlerMap);

        }

    }

    return (TypeHandler&lt;T&gt;) handler;

}
</code></pre><p>åœ¨ getTypeHandler() æ–¹æ³•ä¸­ä¼šè°ƒç”¨ getJdbcHandlerMap() æ–¹æ³•æ£€æµ‹ typeHandlerMap é›†åˆä¸­ç›¸åº”çš„ TypeHandler é›†åˆæ˜¯å¦å·²ç»åˆå§‹åŒ–ã€‚</p>
<ul>
<li>å¦‚æœå·²åˆå§‹åŒ–ï¼Œåˆ™ç›´æ¥ä½¿ç”¨è¯¥é›†åˆè¿›è¡ŒæŸ¥è¯¢ï¼›</li>
<li>å¦‚æœæœªåˆå§‹åŒ–ï¼Œåˆ™å°è¯•ä»¥ä¼ å…¥çš„ Java ç±»å‹çš„ã€å·²åˆå§‹åŒ–çš„çˆ¶ç±»å¯¹åº”çš„ TypeHandler é›†åˆä½œä¸ºåˆå§‹é›†åˆï¼›</li>
<li>å¦‚æœè¯¥ Java ç±»å‹çš„çˆ¶ç±»æ²¡æœ‰å…³è”ä»»ä½•å·²åˆå§‹åŒ–çš„ TypeHandler é›†åˆï¼Œåˆ™å°†è¯¥ Java ç±»å‹å¯¹åº”çš„ TypeHandler é›†åˆåˆå§‹åŒ–ä¸º NULL_TYPE_HANDLER_MAP æ ‡è¯†ã€‚</li>
</ul>
<p>getJdbcHandlerMap() æ–¹æ³•å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>private Map&lt;JdbcType, TypeHandler&lt;?&gt;&gt; getJdbcHandlerMap(Type type) {

    // é¦–å…ˆæŸ¥æ‰¾æŒ‡å®šJavaç±»å‹å¯¹åº”çš„TypeHandleré›†åˆ

    Map&lt;JdbcType, TypeHandler&lt;?&gt;&gt; jdbcHandlerMap = typeHandlerMap.get(type);

    if (NULL_TYPE_HANDLER_MAP.equals(jdbcHandlerMap)) { // æ£€æµ‹æ˜¯å¦ä¸ºç©ºé›†åˆæ ‡è¯†

        return null;

    }

    // åˆå§‹åŒ–æŒ‡å®šJavaç±»å‹çš„TypeHandleré›†åˆ

    if (jdbcHandlerMap == null &amp;&amp; type instanceof Class) {

        Class&lt;?&gt; clazz = (Class&lt;?&gt;) type;

        if (Enum.class.isAssignableFrom(clazz)) { // é’ˆå¯¹æšä¸¾ç±»å‹çš„å¤„ç†

            Class&lt;?&gt; enumClass = clazz.isAnonymousClass() ? clazz.getSuperclass() : clazz;

            jdbcHandlerMap = getJdbcHandlerMapForEnumInterfaces(enumClass, enumClass);

            if (jdbcHandlerMap == null) {

                register(enumClass, getInstance(enumClass, defaultEnumTypeHandler));

                return typeHandlerMap.get(enumClass);

            }

        } else {

            // æŸ¥æ‰¾çˆ¶ç±»å…³è”çš„TypeHandleré›†åˆï¼Œå¹¶å°†å…¶ä½œä¸ºclazzå¯¹åº”çš„TypeHandleré›†åˆ

            jdbcHandlerMap = getJdbcHandlerMapForSuperclass(clazz);

        }

    }

    // å¦‚æœä¸Šè¿°æŸ¥æ‰¾çš†å¤±è´¥ï¼Œåˆ™ä»¥NULL_TYPE_HANDLER_MAPä½œä¸ºclazzå¯¹åº”çš„TypeHandleré›†åˆ

    typeHandlerMap.put(type, jdbcHandlerMap == null ? 

            NULL_TYPE_HANDLER_MAP : jdbcHandlerMap);

    return jdbcHandlerMap;

}
</code></pre><p>è¿™é‡Œè°ƒç”¨çš„ getJdbcHandlerMapForSuperclass() æ–¹æ³•ä¼šåˆ¤æ–­ä¼ å…¥çš„ clazz çš„çˆ¶ç±»æ˜¯å¦ä¸ºç©ºæˆ– Objectã€‚å¦‚æœæ˜¯ï¼Œåˆ™æ–¹æ³•ç›´æ¥è¿”å› nullï¼›å¦‚æœä¸æ˜¯ï¼Œåˆ™å°è¯•ä» typeHandlerMap é›†åˆä¸­è·å–çˆ¶ç±»å¯¹åº”çš„ TypeHandler é›†åˆï¼Œä½†å¦‚æœçˆ¶ç±»æ²¡æœ‰å…³è” TypeHandler é›†åˆï¼Œåˆ™é€’å½’è°ƒç”¨ getJdbcHandlerMapForSuperclass() æ–¹æ³•é¡ºç€ç»§æ‰¿æ ‘ç»§ç»­å‘ä¸ŠæŸ¥æ‰¾çˆ¶ç±»ï¼Œç›´åˆ°æŸ¥æ‰¾åˆ°çˆ¶ç±»çš„ TypeHandler é›†åˆï¼Œç„¶åç›´æ¥è¿”å›ã€‚</p>
<p>ä¸‹é¢æ˜¯ getJdbcHandlerMapForSuperclass() æ–¹æ³•çš„å…·ä½“å®ç°ï¼š</p>
<pre tabindex="0"><code>private Map&lt;JdbcType, TypeHandler&lt;?&gt;&gt; getJdbcHandlerMapForSuperclass(Class&lt;?&gt; clazz) {

    Class&lt;?&gt; superclass = clazz.getSuperclass();

    if (superclass == null || Object.class.equals(superclass)) {

        return null; // çˆ¶ç±»ä¸ºObjectæˆ–nullåˆ™æŸ¥æ‰¾ç»“æŸ

    }

    Map&lt;JdbcType, TypeHandler&lt;?&gt;&gt; jdbcHandlerMap = typeHandlerMap.get(superclass);

    if (jdbcHandlerMap != null) {

        return jdbcHandlerMap;

    } else {

        // é¡ºç€ç»§æ‰¿æ ‘ï¼Œé€’å½’æŸ¥æ‰¾çˆ¶ç±»å¯¹åº”çš„TypeHandleré›†åˆ

        return getJdbcHandlerMapForSuperclass(superclass);

    }

}
</code></pre><h3 id="åˆ«åç®¡ç†">åˆ«åç®¡ç†</h3>
<p>åœ¨ã€Š02 | è®¢å•ç³»ç»ŸæŒä¹…å±‚ç¤ºä¾‹åˆ†æï¼Œ20 åˆ†é’Ÿå¸¦ä½ å¿«é€Ÿä¸Šæ‰‹ MyBatisã€‹åˆ†æçš„ MyBatis ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨ mybatis-config.xml é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ <code>&lt;typeAlias&gt;</code> æ ‡ç­¾ä¸º Customer ç­‰ Java ç±»çš„å®Œæ•´åç§°å®šä¹‰äº†ç›¸åº”çš„åˆ«åï¼Œåç»­ç¼–å†™ SQL è¯­å¥ã€å®šä¹‰ <code>&lt;resultMap&gt;</code> çš„æ—¶å€™ï¼Œ<strong>ç›´æ¥ä½¿ç”¨è¿™äº›åˆ«åå³å¯å®Œå…¨æ›¿ä»£ç›¸åº”çš„å®Œæ•´ Java ç±»åï¼Œè¿™æ ·å°±éå¸¸æ˜“äºä»£ç çš„ç¼–å†™å’Œç»´æŠ¤</strong>ã€‚</p>
<p><strong>TypeAliasRegistry æ˜¯ç»´æŠ¤åˆ«åé…ç½®çš„æ ¸å¿ƒå®ç°æ‰€åœ¨</strong>ï¼Œå…¶ä¸­æä¾›äº†åˆ«åæ³¨å†Œã€åˆ«åæŸ¥è¯¢çš„åŸºæœ¬åŠŸèƒ½ã€‚åœ¨ TypeAliasRegistry çš„ typeAliases å­—æ®µï¼ˆMap&lt;String, Class&lt;?&raquo;ç±»å‹ï¼‰ä¸­è®°å½•äº†åˆ«åä¸ Java ç±»å‹ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ registerAlias() æ–¹æ³•å®Œæˆåˆ«åçš„æ³¨å†Œï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>public void registerAlias(String alias, Class&lt;?&gt; value) {

    if (alias == null) { // ä¼ å…¥çš„åˆ«åä¸ºnullï¼Œç›´æ¥æŠ›å‡ºå¼‚å¸¸

        throw new TypeException(&quot;The parameter alias cannot be null&quot;);

    }

    // å°†åˆ«åå…¨éƒ¨è½¬æ¢ä¸ºå°å†™

    String key = alias.toLowerCase(Locale.ENGLISH);

    // æ£€æµ‹åˆ«åæ˜¯å¦å­˜åœ¨å†²çªï¼Œå¦‚æœå­˜åœ¨å†²çªï¼Œåˆ™ç›´æ¥æŠ›å‡ºå¼‚å¸¸

    if (typeAliases.containsKey(key) &amp;&amp; typeAliases.get(key) != null &amp;&amp; !typeAliases.get(key).equals(value)) {

        throw new TypeException(&quot;...&quot;);

    }

    // åœ¨typeAliasesé›†åˆä¸­è®°å½•åˆ«åä¸ç±»ä¹‹é—´çš„æ˜ å°„å…³ç³»

    typeAliases.put(key, value);

}
</code></pre><p>åœ¨ TypeAliasRegistry çš„æ„é€ æ–¹æ³•ä¸­ï¼Œä¼šé€šè¿‡ä¸Šè¿° registerAlias() æ–¹æ³•å°† Java çš„åŸºæœ¬ç±»å‹ã€åŸºæœ¬ç±»å‹çš„æ•°ç»„ç±»å‹ã€åŸºæœ¬ç±»å‹çš„å°è£…ç±»ã€å°è£…ç±»å‹çš„æ•°ç»„ç±»å‹ã€Dateã€BigDecimalã€BigIntegerã€Mapã€HashMapã€Listã€ArrayListã€Collectionã€Iteratorã€ResultSet ç­‰å¸¸ç”¨ç±»å‹æ·»åŠ äº†åˆ«åï¼Œå…·ä½“å®ç°æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸å†å±•ç¤ºï¼Œä½ è‹¥æ„Ÿå…´è¶£çš„è¯å¯ä»¥å‚è€ƒ<a href="https://github.com/xxxlxy2008/mybatis">æºç </a>è¿›è¡Œå­¦ä¹ ã€‚</p>
<p>é™¤äº†æ˜ç¡®ä¼ å…¥åˆ«åä¸ç›¸åº”çš„ Java ç±»å‹ä¹‹å¤–ï¼ŒTypeAliasRegistry è¿˜æä¾›äº†æ‰«ææŒ‡å®šåŒ…åä¸‹æ‰€æœ‰çš„ç±»ä¸­çš„ @Alias æ³¨è§£è·å–åˆ«åé…ç½®ï¼Œå¹¶å®Œæˆæ³¨å†Œçš„åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½æ¶‰åŠä¸¤ä¸ª registerAliases() æ–¹æ³•çš„é‡è½½ï¼Œç›¸å…³å®ç°å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>public void registerAliases(String packageName, Class&lt;?&gt; superType) {

    ResolverUtil&lt;Class&lt;?&gt;&gt; resolverUtil = new ResolverUtil&lt;&gt;();

    // æŸ¥æ‰¾æŒ‡å®šåŒ…ä¸‹æ‰€æœ‰çš„superTypeç±»å‹

    resolverUtil.find(new ResolverUtil.IsA(superType), packageName);

    Set&lt;Class&lt;? extends Class&lt;?&gt;&gt;&gt; typeSet = resolverUtil.getClasses();

    for (Class&lt;?&gt; type : typeSet) {

        // è¿‡æ»¤æ‰å†…éƒ¨ç±»ã€æ¥å£ä»¥åŠæŠ½è±¡ç±»

        if (!type.isAnonymousClass() &amp;&amp; !type.isInterface() &amp;&amp; !type.isMemberClass()) {

            // æ‰«æç±»ä¸­çš„@Aliasæ³¨è§£

            registerAlias(type);

        }

    }

}

public void registerAlias(Class&lt;?&gt; type) {

    // è·å–ç±»çš„ç®€å•åç§°ï¼Œå…¶ä¸­ä¸ä¼šåŒ…å«åŒ…å

    String alias = type.getSimpleName();

    // è·å–ç±»ä¸­çš„@Aliasæ³¨è§£

    Alias aliasAnnotation = type.getAnnotation(Alias.class);

    if (aliasAnnotation != null) { // è·å–ç‰¹å®šåˆ«å

        alias = aliasAnnotation.value();

    }

    // è¿™é‡Œçš„@Aliasæ³¨è§£æŒ‡å®šçš„åˆ«åä¸typeç±»å‹ç»‘å®š

    registerAlias(alias, type);

}
</code></pre><h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>åœ¨è¿™ä¸€è®²æˆ‘ä»¬é‡ç‚¹ä»‹ç»äº† MyBatis ä¸­ JdbcType ä¸ Java ç±»å‹ä¹‹é—´è½¬æ¢çš„ç›¸å…³å®ç°ã€‚</p>
<ul>
<li>é¦–å…ˆï¼Œä»‹ç»äº† JdbcType ä¸ Java ç±»å‹ä¹‹é—´çš„å¸¸è§æ˜ å°„å…³ç³»ï¼Œä»¥åŠä¸¤ç§ç±»å‹ä¹‹é—´è½¬æ¢çš„åŸºç¡€çŸ¥è¯†ï¼›</li>
<li>ç„¶åï¼Œæ·±å…¥åˆ†æäº† TypeHandler æ¥å£åŠå…¶æ ¸å¿ƒå®ç°ï¼Œäº†è§£äº†ä¸¤ç§ç±»å‹è½¬æ¢çš„åŸç†ï¼›</li>
<li>æ¥ä¸‹æ¥ï¼Œåˆè®²è§£äº† TypeHandler çš„æ³¨å†Œå’ŒæŸ¥è¯¢æœºåˆ¶ï¼Œæ˜ç¡®äº† MyBatis æ˜¯å¦‚ä½•ç®¡ç†å’Œä½¿ç”¨ä¼—å¤šçš„ TypeHandler å®ç°ï¼›</li>
<li>æœ€åï¼Œåˆ†æäº† MyBatis ä¸­çš„åˆ«åå®ç°ã€‚</li>
</ul>

        </div>
    </article>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/04-mybatis-%E5%8F%8D%E5%B0%84%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%B8%A6%E4%BD%A0%E9%A2%86%E7%95%A5%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E5%8F%8D%E5%B0%84%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF/"><span>04 MyBatis åå°„å·¥å…·ç®±ï¼šå¸¦ä½ é¢†ç•¥ä¸ä¸€æ ·çš„åå°„è®¾è®¡æ€è·¯</span></a>
    </div>
    <div class="next">
        
        <a href="/documents/columns/mybatis/%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90mybatis%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/06-%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E5%8D%83%E5%8D%83%E4%B8%87mybatis-%E9%83%BD%E8%83%BD%E5%85%BC%E5%AE%B9%E7%9A%84%E7%A7%98%E5%AF%86%E6%98%AF%E4%BB%80%E4%B9%88/"><span>06 æ—¥å¿—æ¡†æ¶åƒåƒä¸‡ï¼ŒMyBatis éƒ½èƒ½å…¼å®¹çš„ç§˜å¯†æ˜¯ä»€ä¹ˆï¼Ÿ</span></a>
    </div>
</div>

        </div>
        <div class="toggler" onclick="toggleLight(this);">ğŸ’¡</div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 27270 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    function toggleLight() {
        document.getElementById('page').classList.toggle('night');
    }
</script>
</body>

</html>