<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="X-UA-Compatible" , content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<link rel="icon" type="image/png" href="/%20/favicon.png">

<title> | Yipsen Ye</title>
<meta name="description" content="æœ‰åºé›†åˆç±»å‹ (Sorted Set) ç›¸æ¯”äºé›†åˆç±»å‹å¤šäº†ä¸€ä¸ªæ’åºå±æ€§ scoreï¼ˆåˆ†å€¼ï¼‰ï¼Œå¯¹äºæœ‰åºé›†åˆ ZSet æ¥è¯´ï¼Œæ¯ä¸ªå­˜å‚¨å…ƒç´ ç›¸å½“äºæœ‰ä¸¤ä¸ªå€¼ç»„æˆçš„ï¼Œä¸€ä¸ªæ˜¯æœ‰åºç»“åˆçš„å…ƒç´ å€¼ï¼Œä¸€ä¸ªæ˜¯æ’åºå€¼ã€‚æœ‰åºé›†åˆçš„å­˜å‚¨å…ƒç´ å€¼ä¹Ÿæ˜¯ä¸èƒ½é‡å¤çš„ï¼Œä½†åˆ†å€¼æ˜¯å¯ä»¥é‡å¤çš„ã€‚
å½“æˆ‘ä»¬æŠŠå­¦ç”Ÿçš„æˆç»©å­˜å‚¨åœ¨æœ‰åºé›†åˆä¸­æ—¶ï¼Œå®ƒçš„å­˜å‚¨ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ä¸‹é¢æˆ‘ä»¬å…ˆä»æœ‰åºé›†åˆçš„ä½¿ç”¨å¼€å§‹è¯´èµ·ã€‚
1 åŸºç¡€ä½¿ç”¨ 1ï¼‰æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´  è¯­æ³•ï¼šzadd key [NX|XX] [CH] [INCR] score member [score member &amp;hellip;] ç¤ºä¾‹ï¼š
127.0.0.1:6379&amp;gt; zadd zset1 10 java (integer) 1 127.0.0.1:6379&amp;gt; zadd zset1 3 golang 4 sql 1 redis (integer) 3 å¯ä»¥çœ‹å‡ºæœ‰åºé›†åˆçš„æ·»åŠ æ˜¯ zadd é”®å€¼ åˆ†å€¼1 å…ƒç´ å€¼1 åˆ†å€¼2 å…ƒç´ å€¼2 çš„å½¢å¼æ·»åŠ çš„ã€‚
2ï¼‰æŸ¥è¯¢æ‰€æœ‰å…ƒç´ åˆ—è¡¨ è¯­æ³•ï¼šzrange key start stop [WITHSCORES] ç¤ºä¾‹ï¼š
127.0.0.1:6379&amp;gt; zrange zset 0 -1 1) &amp;quot;redis&amp;quot; 2) &amp;quot;mysql&amp;quot; 3) &amp;quot;java&amp;quot; å…¶ä¸­ -1 è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ ï¼ŒæŸ¥è¯¢ç»“æœåŒ…å«å¼€å§‹å’Œç»“æŸå…ƒç´ ã€‚">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="/styles/main.css">

</head>

<body id="page">
    <header>
        <div class="logo-link" style="width: 60px; color: #CA6924;">
    <a href="http://yipsen.github.io/">
        <img style="margin-bottom: -1rem;" src="/images/deer.svg" alt="logo">
        <span style="font-size: 0.5rem; color: #CA6924;">Yipsen Ye</span>
    </a>
</div>
<nav class="navbar justify-content-end">
    <ul class="nav-list">
        
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/posts/">æœ­è®°</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/collections/">é™„è¡¨</a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link"
                href="http://yipsen.github.io/about/">å…³äº</a>
        </li>
        
    </ul>
</nav>
    </header>
    <main id="content">
        
<div class="container"><article class="post-block">
        <h1 class="post-title"></h1>
        <div class="post-info">
            <div> 
                <span class="post-date">ğŸ“…&nbsp;0001-01-01 00:00:00</span></div></div>
        <div class="post-content">
            <p>æœ‰åºé›†åˆç±»å‹ (Sorted Set) ç›¸æ¯”äºé›†åˆç±»å‹å¤šäº†ä¸€ä¸ªæ’åºå±æ€§ scoreï¼ˆåˆ†å€¼ï¼‰ï¼Œå¯¹äºæœ‰åºé›†åˆ ZSet æ¥è¯´ï¼Œæ¯ä¸ªå­˜å‚¨å…ƒç´ ç›¸å½“äºæœ‰ä¸¤ä¸ªå€¼ç»„æˆçš„ï¼Œä¸€ä¸ªæ˜¯æœ‰åºç»“åˆçš„å…ƒç´ å€¼ï¼Œä¸€ä¸ªæ˜¯æ’åºå€¼ã€‚æœ‰åºé›†åˆçš„å­˜å‚¨å…ƒç´ å€¼ä¹Ÿæ˜¯ä¸èƒ½é‡å¤çš„ï¼Œä½†åˆ†å€¼æ˜¯å¯ä»¥é‡å¤çš„ã€‚</p>
<p>å½“æˆ‘ä»¬æŠŠå­¦ç”Ÿçš„æˆç»©å­˜å‚¨åœ¨æœ‰åºé›†åˆä¸­æ—¶ï¼Œå®ƒçš„å­˜å‚¨ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/Redis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/assets/2020-02-28-031227.png" alt="å­¦ç”Ÿå­˜å‚¨å€¼.png"></p>
<p>ä¸‹é¢æˆ‘ä»¬å…ˆä»æœ‰åºé›†åˆçš„ä½¿ç”¨å¼€å§‹è¯´èµ·ã€‚</p>
<h3 id="1-åŸºç¡€ä½¿ç”¨">1 åŸºç¡€ä½¿ç”¨</h3>
<h4 id="1æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ">1ï¼‰æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ </h4>
<p>è¯­æ³•ï¼šzadd key [NX|XX] [CH] [INCR] score member [score member &hellip;] ç¤ºä¾‹ï¼š</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zadd zset1 10 java
(integer) 1
127.0.0.1:6379&gt; zadd zset1 3 golang 4 sql 1 redis
(integer) 3

</code></pre><p>å¯ä»¥çœ‹å‡ºæœ‰åºé›†åˆçš„æ·»åŠ æ˜¯ <code>zadd é”®å€¼ åˆ†å€¼1 å…ƒç´ å€¼1 åˆ†å€¼2 å…ƒç´ å€¼2</code> çš„å½¢å¼æ·»åŠ çš„ã€‚</p>
<h4 id="2æŸ¥è¯¢æ‰€æœ‰å…ƒç´ åˆ—è¡¨">2ï¼‰æŸ¥è¯¢æ‰€æœ‰å…ƒç´ åˆ—è¡¨</h4>
<p>è¯­æ³•ï¼šzrange key start stop [WITHSCORES] ç¤ºä¾‹ï¼š</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zrange zset 0 -1
1) &quot;redis&quot;
2) &quot;mysql&quot;
3) &quot;java&quot;

</code></pre><p>å…¶ä¸­ -1 è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ ï¼ŒæŸ¥è¯¢ç»“æœåŒ…å«å¼€å§‹å’Œç»“æŸå…ƒç´ ã€‚</p>
<h4 id="3åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ ¹æ®å…ƒç´ å€¼">3ï¼‰åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ (æ ¹æ®å…ƒç´ å€¼)</h4>
<p>è¯­æ³•ï¼šzrem key member [member &hellip;] ç¤ºä¾‹ï¼š</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zrangebyscore zset1 0 -1 #æŸ¥è¯¢æ‰€æœ‰å…ƒç´ 
1) &quot;golang&quot;
2) &quot;redis&quot;
3) &quot;sql&quot;
4) &quot;java&quot;
127.0.0.1:6379&gt; zrem zset1 redis sql #åˆ é™¤å…ƒç´ ï¼šreidsã€sql
(integer) 2
127.0.0.1:6379&gt; zrange zset1 0 -1 #æŸ¥è¯¢æ‰€æœ‰å…ƒç´ 
1) &quot;golang&quot;
2) &quot;java&quot;

</code></pre><p>åˆ é™¤å‘½ä»¤ä¸­å¦‚æœåŒ…å«äº†ä¸å­˜åœ¨çš„å…ƒç´ ï¼Œå¹¶ä¸ä¼šå½±å“å‘½ä»¤çš„æ­£å¸¸æ‰§è¡Œï¼Œä¸å­˜åœ¨çš„å…ƒç´ å°†ä¼šè¢«å¿½ç•¥ã€‚</p>
<h4 id="4æŸ¥è¯¢æŸå…ƒç´ çš„-score-å€¼">4ï¼‰æŸ¥è¯¢æŸå…ƒç´ çš„ score å€¼</h4>
<p>è¯­æ³•ï¼šzscore key member ç¤ºä¾‹ï¼š</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zscore zset1 redis
&quot;1&quot;

</code></pre><h4 id="5æŸ¥è¯¢-score-åŒºé—´å†…å…ƒç´ ">5ï¼‰æŸ¥è¯¢ score åŒºé—´å†…å…ƒç´ </h4>
<p>è¯­æ³•ï¼šzrangebyscore key min max [WITHSCORES] [LIMIT offset count] ç¤ºä¾‹ï¼š</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zrangebyscore zset1 3 10
1) &quot;golang&quot;
2) &quot;redis&quot;
3) &quot;sql&quot;
4) &quot;java&quot;

</code></pre><h4 id="6æŸ¥è¯¢æŸå…ƒç´ æ’å">6ï¼‰æŸ¥è¯¢æŸå…ƒç´ æ’å</h4>
<p>è¯­æ³•ï¼šzrank key member ç¤ºä¾‹ï¼š</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zadd zset 5 redis 10 java 8 mysql #åˆ›å»ºæœ‰åºé›†åˆ
(integer) 3
127.0.0.1:6379&gt; zrank zset java #æŸ¥è¯¢å…ƒç´ æ’åº
(integer) 2
127.0.0.1:6379&gt; zrank zset redis
(integer) 0

</code></pre><p>å¯ä»¥çœ‹å‡ºï¼Œæ’åæ˜¯ä» 0 å¼€å§‹çš„ï¼Œæ’åå¯ä»¥ç†è§£ä¸ºå…ƒç´ æ’åºåçš„ä¸‹æ ‡å€¼ã€‚</p>
<p>æ›´å¤šæ“ä½œå‘½ä»¤ï¼Œè¯¦è§é™„å½•éƒ¨åˆ†ã€‚</p>
<h3 id="2-ä»£ç å®æˆ˜">2 ä»£ç å®æˆ˜</h3>
<p>ä¸‹é¢æ¥çœ‹æœ‰åºé›†åˆåœ¨ Java ä¸­çš„ä½¿ç”¨ï¼ŒåŒæ ·å…ˆæ·»åŠ  Jedis æ¡†æ¶ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>import redis.clients.jedis.Jedis;
import java.util.HashMap;
import java.util.Map;
import java.util.Set;

public class ZSetExample {
    public static void main(String[] args) {
        Jedis jedis = new Jedis(&quot;127.0.0.1&quot;, 6379);
        Map&lt;String, Double&gt; map = new HashMap&lt;&gt;();
        map.put(&quot;å°æ˜&quot;, 80.5d);
        map.put(&quot;å°çº¢&quot;, 75d);
        map.put(&quot;è€ç‹&quot;, 85d);
        // ä¸ºæœ‰åºé›†åˆ(ZSet)æ·»åŠ å…ƒç´ 
        jedis.zadd(&quot;grade&quot;, map);
        // æŸ¥è¯¢åˆ†æ•°åœ¨ 80 åˆ†åˆ° 100 åˆ†ä¹‹é—´çš„äºº(åŒ…å« 80 åˆ†å’Œ 100 åˆ†)
        Set&lt;String&gt; gradeSet = jedis.zrangeByScore(&quot;grade&quot;, 80, 100);
        System.out.println(gradeSet); // è¾“å‡ºï¼š[å°æ˜, è€ç‹]
        // æŸ¥è¯¢å°çº¢çš„æ’å(æ’åä» 0 å¼€å§‹)
        System.out.println(jedis.zrank(&quot;grade&quot;, &quot;å°æ˜&quot;)); // è¾“å‡ºï¼š1
        // ä»é›†åˆä¸­ç§»é™¤è€ç‹
        jedis.zrem(&quot;grade&quot;, &quot;è€ç‹&quot;);
        // æŸ¥è¯¢æœ‰åºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ (æ ¹æ®æ’åä»å°åˆ°å¤§)
        Set&lt;String&gt; range = jedis.zrange(&quot;grade&quot;, 0, -1);
        System.out.println(range); // è¾“å‡ºï¼š[å°çº¢, å°æ˜]
        // æŸ¥è¯¢æœ‰åºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ (æ ¹æ® score ä»å°åˆ°å¤§)
        Set&lt;String&gt; rangeByScore = jedis.zrangeByScore(&quot;grade&quot;, 0, 100);
        System.out.println(rangeByScore);
    }
}

</code></pre><h3 id="3-å†…éƒ¨å®ç°">3 å†…éƒ¨å®ç°</h3>
<p>æœ‰åºé›†åˆæ˜¯ç”± ziplist (å‹ç¼©åˆ—è¡¨) æˆ– skiplist (è·³è·ƒè¡¨) ç»„æˆçš„ã€‚</p>
<h4 id="1ziplist">1ï¼‰ziplist</h4>
<p>å½“æ•°æ®æ¯”è¾ƒå°‘æ—¶ï¼Œæœ‰åºé›†åˆä½¿ç”¨çš„æ˜¯ ziplist å­˜å‚¨çš„ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zadd myzset 1 db 2 redis 3 mysql
(integer) 3
127.0.0.1:6379&gt; object encoding myzset
&quot;ziplist&quot;

</code></pre><p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæœ‰åºé›†åˆæŠŠ myset é”®å€¼å¯¹å­˜å‚¨åœ¨ ziplist ç»“æ„ä¸­äº†ã€‚ æœ‰åºé›†åˆä½¿ç”¨ ziplist æ ¼å¼å­˜å‚¨å¿…é¡»æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<ul>
<li>æœ‰åºé›†åˆä¿å­˜çš„å…ƒç´ ä¸ªæ•°è¦å°äº 128 ä¸ªï¼›</li>
<li>æœ‰åºé›†åˆä¿å­˜çš„æ‰€æœ‰å…ƒç´ æˆå‘˜çš„é•¿åº¦éƒ½å¿…é¡»å°äº 64 å­—èŠ‚ã€‚</li>
</ul>
<p>å¦‚æœä¸èƒ½æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œæœ‰åºé›†åˆå°†ä¼šä½¿ç”¨ skiplist ç»“æ„è¿›è¡Œå­˜å‚¨ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æµ‹è¯•ä»¥ä¸‹ï¼Œå½“æœ‰åºé›†åˆä¸­æŸä¸ªå…ƒç´ é•¿åº¦å¤§äº 64 å­—èŠ‚æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿ ä»£ç å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>127.0.0.1:6379&gt; zadd zmaxleng 1.0 redis
(integer) 1
127.0.0.1:6379&gt; object encoding zmaxleng
&quot;ziplist&quot;
127.0.0.1:6379&gt; zadd zmaxleng 2.0 aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
(integer) 1
127.0.0.1:6379&gt; object encoding zmaxleng
&quot;skiplist&quot;

</code></pre><p>é€šè¿‡ä»¥ä¸Šä»£ç å¯ä»¥çœ‹å‡ºï¼Œå½“æœ‰åºé›†åˆä¿å­˜çš„æ‰€æœ‰å…ƒç´ æˆå‘˜çš„é•¿åº¦å¤§äº 64 å­—èŠ‚æ—¶ï¼Œæœ‰åºé›†åˆå°±ä¼šä» ziplist è½¬æ¢æˆä¸º skiplistã€‚</p>
<blockquote>
<p>å°è´´å£«ï¼šå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„ zset-max-ziplist-entriesï¼ˆé»˜è®¤ 128ï¼‰å’Œ zset-max-ziplist-valueï¼ˆé»˜è®¤ 64ï¼‰æ¥è®¾ç½®æœ‰åºé›†åˆä½¿ç”¨ ziplist å­˜å‚¨çš„ä¸´ç•Œå€¼ã€‚</p>
</blockquote>
<h3 id="2skiplist">2ï¼‰skiplist</h3>
<p>skiplist æ•°æ®ç¼–ç åº•å±‚æ˜¯ä½¿ç”¨ zset ç»“æ„å®ç°çš„ï¼Œè€Œ zset ç»“æ„ä¸­åŒ…å«äº†ä¸€ä¸ªå­—å…¸å’Œä¸€ä¸ªè·³è·ƒè¡¨ï¼Œæºç å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>typedef struct zset {
    dict *dict;
    zskiplist *zsl;
} zset;

</code></pre><p>æ›´å¤šå…³äºè·³è·ƒè¡¨çš„æºç å®ç°ï¼Œä¼šåœ¨åé¢çš„ç« èŠ‚è¯¦ç»†ä»‹ç»ã€‚</p>
<h5 id="-è·³è·ƒè¡¨å®ç°åŸç†">â‘  è·³è·ƒè¡¨å®ç°åŸç†</h5>
<p>è·³è·ƒè¡¨çš„ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š <img src="http://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/Redis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/assets/2020-02-28-031228.png" alt="æœ‰åºé›†åˆ-è·³è·ƒè¡¨.png"></p>
<p>æ ¹æ®ä»¥ä¸Šå›¾ç‰‡å±•ç¤ºï¼Œå½“æˆ‘ä»¬åœ¨è·³è·ƒè¡¨ä¸­æŸ¥è¯¢å€¼ 32 æ—¶ï¼Œæ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä»æœ€ä¸Šå±‚å¼€å§‹æ‰¾ï¼Œ1 æ¯” 32 å°ï¼Œåœ¨å½“å‰å±‚ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼›</li>
<li>7 æ¯” 32 å°ï¼Œå½“å‰å±‚ç§»åŠ¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ¯”è¾ƒï¼Œç”±äºä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ Nullï¼Œæ‰€ä»¥ä»¥ 7 ä¸ºç›®æ ‡ï¼Œç§»åŠ¨åˆ°ä¸‹ä¸€å±‚ç»§ç»­å‘åæ¯”è¾ƒï¼›</li>
<li>18 å°äº 32ï¼Œç»§ç»­å‘åç§»åŠ¨æŸ¥æ‰¾ï¼Œå¯¹æ¯” 77 å¤§äº 32ï¼Œä»¥ 18 ä¸ºç›®æ ‡ï¼Œç§»åŠ¨åˆ°ä¸‹ä¸€å±‚ç»§ç»­å‘åæ¯”è¾ƒï¼›</li>
<li>å¯¹æ¯” 32 ç­‰äº 32ï¼Œå€¼è¢«é¡ºåˆ©æ‰¾åˆ°ã€‚</li>
</ul>
<p>ä»ä¸Šé¢çš„æµç¨‹å¯ä»¥çœ‹å‡ºï¼Œè·³è·ƒè¡¨ä¼šæƒ³ä»æœ€ä¸Šå±‚å¼€å§‹æ‰¾èµ·ï¼Œä¾æ¬¡å‘åæŸ¥æ‰¾ï¼Œå¦‚æœæœ¬å±‚çš„èŠ‚ç‚¹å¤§äºè¦æ‰¾çš„å€¼ï¼Œæˆ–è€…æœ¬å±‚çš„èŠ‚ç‚¹ä¸º Null æ—¶ï¼Œä»¥ä¸Šä¸€ä¸ªèŠ‚ç‚¹ä¸ºç›®æ ‡ï¼Œå¾€ä¸‹ç§»ä¸€å±‚ç»§ç»­å‘åæŸ¥æ‰¾å¹¶å¾ªç¯æ­¤æµç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥èŠ‚ç‚¹å¹¶è¿”å›ï¼Œå¦‚æœå¯¹æ¯”åˆ°æœ€åä¸€ä¸ªå…ƒç´ ä»æœªæ‰¾åˆ°ï¼Œåˆ™è¿”å› Nullã€‚</p>
<h5 id="-ä¸ºä»€ä¹ˆæ˜¯è·³è·ƒè¡¨è€Œéçº¢é»‘æ ‘">â‘¡ ä¸ºä»€ä¹ˆæ˜¯è·³è·ƒè¡¨ï¼Ÿè€Œéçº¢é»‘æ ‘ï¼Ÿ</h5>
<p>å› ä¸ºè·³è·ƒè¡¨çš„æ€§èƒ½å’Œçº¢é»‘æ ‘åŸºæœ¬ç›¸è¿‘ï¼Œä½†å´æ¯”çº¢é»‘æ ‘æ›´å¥½å®ç°ï¼Œæ‰€æœ‰ Redis çš„æœ‰åºé›†åˆä¼šé€‰ç”¨è·³è·ƒè¡¨æ¥å®ç°å­˜å‚¨ã€‚</p>
<h3 id="4-ä½¿ç”¨åœºæ™¯">4 ä½¿ç”¨åœºæ™¯</h3>
<p>æœ‰åºé›†åˆçš„ç»å…¸ä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>å­¦ç”Ÿæˆç»©æ’å</li>
<li>ç²‰ä¸åˆ—è¡¨ï¼Œæ ¹æ®å…³æ³¨çš„å…ˆåæ—¶é—´æ’åº</li>
</ul>
<h3 id="5-å°ç»“">5 å°ç»“</h3>
<p>é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ æˆ‘ä»¬äº†è§£åˆ°ï¼Œæœ‰åºé›†åˆå…·æœ‰å”¯ä¸€æ€§å’Œæ’åºçš„åŠŸèƒ½ï¼Œæ’åºåŠŸèƒ½æ˜¯å€ŸåŠ©åˆ†å€¼å­—æ®µ score å®ç°çš„ï¼Œscore å­—æ®µä¸ä»…å¯ä»¥å®ç°æ’åºåŠŸèƒ½ï¼Œè¿˜å¯ä»¥å®ç°æ•°æ®çš„èµ›é€‰ä¸è¿‡æ»¤çš„åŠŸèƒ½ã€‚æˆ‘ä»¬è¿˜äº†è§£åˆ°äº†æœ‰åºé›†åˆæ˜¯ç”± å‹ç¼©åˆ—è¡¨ (ziplist) æˆ–è·³è·ƒåˆ—è¡¨ (skiplist) æ¥å­˜å‚¨çš„ï¼Œå½“å…ƒç´ ä¸ªæ•°å°äº 128 ä¸ªï¼Œå¹¶ä¸”æ‰€æœ‰å…ƒç´ çš„å€¼éƒ½å°äº 64 å­—èŠ‚æ—¶ï¼Œæœ‰åºé›†åˆä¼šé‡‡å– ziplist æ¥å­˜å‚¨ï¼Œåä¹‹åˆ™ä¼šç”¨ skiplist æ¥å­˜å‚¨ï¼Œå…¶ä¸­ skiplist æ˜¯ä»ä¸Šå¾€ä¸‹ã€ä»å‰å¾€åè¿›è¡Œå…ƒç´ æŸ¥æ‰¾çš„ï¼Œç›¸æ¯”äºä¼ ç»Ÿçš„æ™®é€šåˆ—è¡¨ï¼Œå¯èƒ½ä¼šå¿«å¾ˆå¤šï¼Œå› ä¸ºæ™®é€šåˆ—è¡¨åªèƒ½ä»å‰å¾€åä¾æ¬¡æŸ¥æ‰¾ã€‚</p>

        </div>
    </article>
</div>

    </main>
    <footer>
        <div id="pagination">
            
<div class="paginator">
    <div class="prev">
        
        <a href="/documents/columns/redis/redis-%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/15-%E9%99%84%E5%BD%95%E6%9B%B4%E5%A4%9A%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4.md/"><span></span></a>
    </div>
    <div class="next">
        
        <a href="/documents/columns/redis/redis-%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/13-%E9%99%84%E5%BD%95%E6%9B%B4%E5%A4%9A%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4.md/"><span></span></a>
    </div>
</div>

        </div>
        <div class="toggler" onclick="toggleLight(this);">ğŸ’¡</div>
        <div id="copyright" style="display: none;">
    
    
    <p>&copy; 27270 <a href="/"></a>, powered by Hugo and Qiao</p>
</div>
    </footer>
    
<script>
    function toggleLight() {
        document.getElementById('page').classList.toggle('night');
    }
</script>
</body>

</html>